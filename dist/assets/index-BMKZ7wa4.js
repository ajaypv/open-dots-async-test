function hk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var pE={exports:{}},Ec={},mE={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),fk=Symbol.for("react.portal"),pk=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),gk=Symbol.for("react.profiler"),yk=Symbol.for("react.provider"),vk=Symbol.for("react.context"),_k=Symbol.for("react.forward_ref"),wk=Symbol.for("react.suspense"),Ek=Symbol.for("react.memo"),Sk=Symbol.for("react.lazy"),Xy=Symbol.iterator;function Tk(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var gE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yE=Object.assign,vE={};function bs(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||gE}bs.prototype.isReactComponent={};bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _E(){}_E.prototype=bs.prototype;function zp(t,e,n){this.props=t,this.context=e,this.refs=vE,this.updater=n||gE}var Wp=zp.prototype=new _E;Wp.constructor=zp;yE(Wp,bs.prototype);Wp.isPureReactComponent=!0;var Qy=Array.isArray,wE=Object.prototype.hasOwnProperty,Hp={current:null},EE={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wE.call(e,i)&&!EE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ja,type:t,key:s,ref:o,props:r,_owner:Hp.current}}function Ck(t,e){return{$$typeof:ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ja}function Pk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jy=/\/+/g;function bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pk(""+t.key):e.toString(36)}function ql(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ja:case fk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+bh(o,0):i,Qy(r)?(n="",t!=null&&(n=t.replace(Jy,"$&/")+"/"),ql(r,e,n,"",function(u){return u})):r!=null&&(Kp(r)&&(r=Ck(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Jy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Qy(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+bh(s,a);o+=ql(s,e,n,l,r)}else if(l=Tk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+bh(s,a++),o+=ql(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wl(t,e,n){if(t==null)return t;var i=[],r=0;return ql(t,i,"","",function(s){return e.call(n,s,r++)}),i}function Ik(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ct={current:null},Yl={transition:null},xk={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:Hp};function TE(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:wl,forEach:function(t,e,n){wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wl(t,function(){e++}),e},toArray:function(t){return wl(t,function(e){return e})||[]},only:function(t){if(!Kp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=bs;z.Fragment=pk;z.Profiler=gk;z.PureComponent=zp;z.StrictMode=mk;z.Suspense=wk;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;z.act=TE;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=yE({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wE.call(e,l)&&!EE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ja,type:t.type,key:r,ref:s,props:i,_owner:o}};z.createContext=function(t){return t={$$typeof:vk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yk,_context:t},t.Consumer=t};z.createElement=SE;z.createFactory=function(t){var e=SE.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:_k,render:t}};z.isValidElement=Kp;z.lazy=function(t){return{$$typeof:Sk,_payload:{_status:-1,_result:t},_init:Ik}};z.memo=function(t,e){return{$$typeof:Ek,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Yl.transition;Yl.transition={};try{t()}finally{Yl.transition=e}};z.unstable_act=TE;z.useCallback=function(t,e){return ct.current.useCallback(t,e)};z.useContext=function(t){return ct.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return ct.current.useDeferredValue(t)};z.useEffect=function(t,e){return ct.current.useEffect(t,e)};z.useId=function(){return ct.current.useId()};z.useImperativeHandle=function(t,e,n){return ct.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return ct.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return ct.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return ct.current.useMemo(t,e)};z.useReducer=function(t,e,n){return ct.current.useReducer(t,e,n)};z.useRef=function(t){return ct.current.useRef(t)};z.useState=function(t){return ct.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return ct.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return ct.current.useTransition()};z.version="18.3.1";mE.exports=z;var w=mE.exports;const Gp=fE(w),kk=hk({__proto__:null,default:Gp},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk=w,Ak=Symbol.for("react.element"),Nk=Symbol.for("react.fragment"),Ok=Object.prototype.hasOwnProperty,Dk=Rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lk={key:!0,ref:!0,__self:!0,__source:!0};function CE(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Ok.call(e,i)&&!Lk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Ak,type:t,key:s,ref:o,props:r,_owner:Dk.current}}Ec.Fragment=Nk;Ec.jsx=CE;Ec.jsxs=CE;pE.exports=Ec;var v=pE.exports,Kd={},PE={exports:{}},At={},IE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,j){var U=A.length;A.push(j);e:for(;0<U;){var de=U-1>>>1,Ce=A[de];if(0<r(Ce,j))A[de]=j,A[U]=Ce,U=de;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var j=A[0],U=A.pop();if(U!==j){A[0]=U;e:for(var de=0,Ce=A.length,vl=Ce>>>1;de<vl;){var Bi=2*(de+1)-1,Dh=A[Bi],zi=Bi+1,_l=A[zi];if(0>r(Dh,U))zi<Ce&&0>r(_l,Dh)?(A[de]=_l,A[zi]=U,de=zi):(A[de]=Dh,A[Bi]=U,de=Bi);else if(zi<Ce&&0>r(_l,U))A[de]=_l,A[zi]=U,de=zi;else break e}}return j}function r(A,j){var U=A.sortIndex-j.sortIndex;return U!==0?U:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var j=n(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=A)i(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function S(A){if(_=!1,y(A),!g)if(n(l)!==null)g=!0,St(T);else{var j=n(u);j!==null&&$i(S,j.startTime-A)}}function T(A,j){g=!1,_&&(_=!1,m(C),C=-1),p=!0;var U=d;try{for(y(j),h=n(l);h!==null&&(!(h.expirationTime>j)||A&&!Te());){var de=h.callback;if(typeof de=="function"){h.callback=null,d=h.priorityLevel;var Ce=de(h.expirationTime<=j);j=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===n(l)&&i(l),y(j)}else i(l);h=n(l)}if(h!==null)var vl=!0;else{var Bi=n(u);Bi!==null&&$i(S,Bi.startTime-j),vl=!1}return vl}finally{h=null,d=U,p=!1}}var x=!1,k=null,C=-1,F=5,O=-1;function Te(){return!(t.unstable_now()-O<F)}function Xn(){if(k!==null){var A=t.unstable_now();O=A;var j=!0;try{j=k(!0,A)}finally{j?Vi():(x=!1,k=null)}}else x=!1}var Vi;if(typeof f=="function")Vi=function(){f(Xn)};else if(typeof MessageChannel<"u"){var Xs=new MessageChannel,De=Xs.port2;Xs.port1.onmessage=Xn,Vi=function(){De.postMessage(null)}}else Vi=function(){E(Xn,0)};function St(A){k=A,x||(x=!0,Vi())}function $i(A,j){C=E(function(){A(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,St(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var U=d;d=j;try{return A()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=d;d=A;try{return j()}finally{d=U}},t.unstable_scheduleCallback=function(A,j,U){var de=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?de+U:de):U=de,A){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=U+Ce,A={id:c++,callback:j,priorityLevel:A,startTime:U,expirationTime:Ce,sortIndex:-1},U>de?(A.sortIndex=U,e(u,A),n(l)===null&&A===n(u)&&(_?(m(C),C=-1):_=!0,$i(S,U-de))):(A.sortIndex=Ce,e(l,A),g||p||(g=!0,St(T))),A},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(A){var j=d;return function(){var U=d;d=j;try{return A.apply(this,arguments)}finally{d=U}}}})(xE);IE.exports=xE;var bk=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=w,kt=bk;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,Go={};function Cr(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Go[t]=e,t=0;t<e.length;t++)kE.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,Fk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zy={},ev={};function jk(t){return Gd.call(ev,t)?!0:Gd.call(Zy,t)?!1:Fk.test(t)?ev[t]=!0:(Zy[t]=!0,!1)}function Uk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vk(t,e,n,i){if(e===null||typeof e>"u"||Uk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qp,Yp);Be[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qp,Yp);Be[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qp,Yp);Be[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xp(t,e,n,i){var r=Be.hasOwnProperty(e)?Be[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,n,r,i)&&(n=null),i||r===null?jk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Gn=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,El=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),NE=Symbol.for("react.offscreen"),tv=Symbol.iterator;function Qs(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,Mh;function yo(t){if(Mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mh=e&&e[1]||""}return`
`+Mh+t}var Fh=!1;function jh(t,e){if(!t||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function $k(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fr:return"Fragment";case Mr:return"Portal";case qd:return"Profiler";case Qp:return"StrictMode";case Yd:return"Suspense";case Xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case Jp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:Qd(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return Qd(t(e))}catch{}}return null}function Bk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qd(e);case 8:return e===Qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zk(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sl(t){t._valueTracker||(t._valueTracker=zk(t))}function DE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=OE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jd(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function LE(t,e){e=e.checked,e!=null&&Xp(t,"checked",e,!1)}function Zd(t,e){LE(t,e);var n=Ti(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ef(t,e.type,n):e.hasOwnProperty("defaultValue")&&ef(t,e.type,Ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ef(t,e,n){(e!=="number"||pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function ts(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ti(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(vo(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ti(n)}}function bE(t,e){var n=Ti(e.value),i=Ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ME(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ME(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tl,FE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wk=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(t){Wk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ko[e]=ko[t]})});function jE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ko.hasOwnProperty(t)&&ko[t]?(""+e).trim():e+"px"}function UE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=jE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Hk=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if(Hk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,ns=null,is=null;function ov(t){if(t=$a(t)){if(typeof af!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Ic(e),af(t.stateNode,t.type,e))}}function VE(t){ns?is?is.push(t):is=[t]:ns=t}function $E(){if(ns){var t=ns,e=is;if(is=ns=null,ov(t),e)for(t=0;t<e.length;t++)ov(e[t])}}function BE(t,e){return t(e)}function zE(){}var Uh=!1;function WE(t,e,n){if(Uh)return t(e,n);Uh=!0;try{return BE(t,e,n)}finally{Uh=!1,(ns!==null||is!==null)&&(zE(),$E())}}function Yo(t,e){var n=t.stateNode;if(n===null)return null;var i=Ic(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var lf=!1;if(Un)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){lf=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{lf=!1}function Kk(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ro=!1,mu=null,gu=!1,uf=null,Gk={onError:function(t){Ro=!0,mu=t}};function qk(t,e,n,i,r,s,o,a,l){Ro=!1,mu=null,Kk.apply(Gk,arguments)}function Yk(t,e,n,i,r,s,o,a,l){if(qk.apply(this,arguments),Ro){if(Ro){var u=mu;Ro=!1,mu=null}else throw Error(P(198));gu||(gu=!0,uf=u)}}function Pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function av(t){if(Pr(t)!==t)throw Error(P(188))}function Xk(t){var e=t.alternate;if(!e){if(e=Pr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return av(r),t;if(s===i)return av(r),e;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function KE(t){return t=Xk(t),t!==null?GE(t):null}function GE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GE(t);if(e!==null)return e;t=t.sibling}return null}var qE=kt.unstable_scheduleCallback,lv=kt.unstable_cancelCallback,Qk=kt.unstable_shouldYield,Jk=kt.unstable_requestPaint,ge=kt.unstable_now,Zk=kt.unstable_getCurrentPriorityLevel,tm=kt.unstable_ImmediatePriority,YE=kt.unstable_UserBlockingPriority,yu=kt.unstable_NormalPriority,eR=kt.unstable_LowPriority,XE=kt.unstable_IdlePriority,Sc=null,fn=null;function tR(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:rR,nR=Math.log,iR=Math.LN2;function rR(t){return t>>>=0,t===0?32:31-(nR(t)/iR|0)|0}var Cl=64,Pl=4194304;function _o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=_o(a):(s&=o,s!==0&&(i=_o(s)))}else o=n&~r,o!==0?i=_o(o):s!==0&&(i=_o(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Jt(e),r=1<<n,i|=t[n],e&=~r;return i}function sR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jt(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=sR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QE(){var t=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),t}function Vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ua(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function aR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Jt(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Jt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Y=0;function JE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZE,im,e1,t1,n1,hf=!1,Il=[],hi=null,di=null,fi=null,Xo=new Map,Qo=new Map,ni=[],lR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uv(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(e.pointerId)}}function Zs(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=$a(e),e!==null&&im(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function uR(t,e,n,i,r){switch(e){case"focusin":return hi=Zs(hi,t,e,n,i,r),!0;case"dragenter":return di=Zs(di,t,e,n,i,r),!0;case"mouseover":return fi=Zs(fi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Xo.set(s,Zs(Xo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Qo.set(s,Zs(Qo.get(s)||null,t,e,n,i,r)),!0}return!1}function i1(t){var e=Ji(t.target);if(e!==null){var n=Pr(e);if(n!==null){if(e=n.tag,e===13){if(e=HE(n),e!==null){t.blockedOn=e,n1(t.priority,function(){e1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=df(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);of=i,n.target.dispatchEvent(i),of=null}else return e=$a(n),e!==null&&im(e),t.blockedOn=n,!1;e.shift()}return!0}function cv(t,e,n){Xl(t)&&n.delete(e)}function cR(){hf=!1,hi!==null&&Xl(hi)&&(hi=null),di!==null&&Xl(di)&&(di=null),fi!==null&&Xl(fi)&&(fi=null),Xo.forEach(cv),Qo.forEach(cv)}function eo(t,e){t.blockedOn===e&&(t.blockedOn=null,hf||(hf=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,cR)))}function Jo(t){function e(r){return eo(r,t)}if(0<Il.length){eo(Il[0],t);for(var n=1;n<Il.length;n++){var i=Il[n];i.blockedOn===t&&(i.blockedOn=null)}}for(hi!==null&&eo(hi,t),di!==null&&eo(di,t),fi!==null&&eo(fi,t),Xo.forEach(e),Qo.forEach(e),n=0;n<ni.length;n++)i=ni[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)i1(n),n.blockedOn===null&&ni.shift()}var rs=Gn.ReactCurrentBatchConfig,_u=!0;function hR(t,e,n,i){var r=Y,s=rs.transition;rs.transition=null;try{Y=1,rm(t,e,n,i)}finally{Y=r,rs.transition=s}}function dR(t,e,n,i){var r=Y,s=rs.transition;rs.transition=null;try{Y=4,rm(t,e,n,i)}finally{Y=r,rs.transition=s}}function rm(t,e,n,i){if(_u){var r=df(t,e,n,i);if(r===null)Xh(t,e,i,wu,n),uv(t,i);else if(uR(r,t,e,n,i))i.stopPropagation();else if(uv(t,i),e&4&&-1<lR.indexOf(t)){for(;r!==null;){var s=$a(r);if(s!==null&&ZE(s),s=df(t,e,n,i),s===null&&Xh(t,e,i,wu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Xh(t,e,i,null,n)}}var wu=null;function df(t,e,n,i){if(wu=null,t=em(i),t=Ji(t),t!==null)if(e=Pr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function r1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zk()){case tm:return 1;case YE:return 4;case yu:case eR:return 16;case XE:return 536870912;default:return 16}default:return 16}}var ai=null,sm=null,Ql=null;function s1(){if(Ql)return Ql;var t,e=sm,n=e.length,i,r="value"in ai?ai.value:ai.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Ql=r.slice(t,1<i?1-i:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function hv(){return!1}function Nt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xl:hv,this.isPropagationStopped=hv,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Nt(Ms),Va=le({},Ms,{view:0,detail:0}),fR=Nt(Va),$h,Bh,to,Tc=le({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?($h=t.screenX-to.screenX,Bh=t.screenY-to.screenY):Bh=$h=0,to=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:Bh}}),dv=Nt(Tc),pR=le({},Tc,{dataTransfer:0}),mR=Nt(pR),gR=le({},Va,{relatedTarget:0}),zh=Nt(gR),yR=le({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),vR=Nt(yR),_R=le({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wR=Nt(_R),ER=le({},Ms,{data:0}),fv=Nt(ER),SR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CR[t])?!!e[t]:!1}function am(){return PR}var IR=le({},Va,{key:function(t){if(t.key){var e=SR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xR=Nt(IR),kR=le({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=Nt(kR),RR=le({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),AR=Nt(RR),NR=le({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),OR=Nt(NR),DR=le({},Tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LR=Nt(DR),bR=[9,13,27,32],lm=Un&&"CompositionEvent"in window,Ao=null;Un&&"documentMode"in document&&(Ao=document.documentMode);var MR=Un&&"TextEvent"in window&&!Ao,o1=Un&&(!lm||Ao&&8<Ao&&11>=Ao),mv=" ",gv=!1;function a1(t,e){switch(t){case"keyup":return bR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function FR(t,e){switch(t){case"compositionend":return l1(e);case"keypress":return e.which!==32?null:(gv=!0,mv);case"textInput":return t=e.data,t===mv&&gv?null:t;default:return null}}function jR(t,e){if(jr)return t==="compositionend"||!lm&&a1(t,e)?(t=s1(),Ql=sm=ai=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o1&&e.locale!=="ko"?null:e.data;default:return null}}var UR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UR[t.type]:e==="textarea"}function u1(t,e,n,i){VE(i),e=Eu(e,"onChange"),0<e.length&&(n=new om("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var No=null,Zo=null;function VR(t){w1(t,0)}function Cc(t){var e=$r(t);if(DE(e))return t}function $R(t,e){if(t==="change")return e}var c1=!1;if(Un){var Wh;if(Un){var Hh="oninput"in document;if(!Hh){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),Hh=typeof vv.oninput=="function"}Wh=Hh}else Wh=!1;c1=Wh&&(!document.documentMode||9<document.documentMode)}function _v(){No&&(No.detachEvent("onpropertychange",h1),Zo=No=null)}function h1(t){if(t.propertyName==="value"&&Cc(Zo)){var e=[];u1(e,Zo,t,em(t)),WE(VR,e)}}function BR(t,e,n){t==="focusin"?(_v(),No=e,Zo=n,No.attachEvent("onpropertychange",h1)):t==="focusout"&&_v()}function zR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(Zo)}function WR(t,e){if(t==="click")return Cc(e)}function HR(t,e){if(t==="input"||t==="change")return Cc(e)}function KR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:KR;function ea(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Gd.call(e,r)||!nn(t[r],e[r]))return!1}return!0}function wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ev(t,e){var n=wv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wv(n)}}function d1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f1(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pu(t.document)}return e}function um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GR(t){var e=f1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d1(n.ownerDocument.documentElement,n)){if(i!==null&&um(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Ev(n,s);var o=Ev(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qR=Un&&"documentMode"in document&&11>=document.documentMode,Ur=null,ff=null,Oo=null,pf=!1;function Sv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pf||Ur==null||Ur!==pu(i)||(i=Ur,"selectionStart"in i&&um(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oo&&ea(Oo,i)||(Oo=i,i=Eu(ff,"onSelect"),0<i.length&&(e=new om("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ur)))}function kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vr={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},Kh={},p1={};Un&&(p1=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Pc(t){if(Kh[t])return Kh[t];if(!Vr[t])return t;var e=Vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p1)return Kh[t]=e[n];return t}var m1=Pc("animationend"),g1=Pc("animationiteration"),y1=Pc("animationstart"),v1=Pc("transitionend"),_1=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){_1.set(t,e),Cr(e,[t])}for(var Gh=0;Gh<Tv.length;Gh++){var qh=Tv[Gh],YR=qh.toLowerCase(),XR=qh[0].toUpperCase()+qh.slice(1);Ai(YR,"on"+XR)}Ai(m1,"onAnimationEnd");Ai(g1,"onAnimationIteration");Ai(y1,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(v1,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QR=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Cv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Yk(i,e,void 0,t),t.currentTarget=null}function w1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Cv(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Cv(r,a,u),s=l}}}if(gu)throw t=uf,gu=!1,uf=null,t}function te(t,e){var n=e[_f];n===void 0&&(n=e[_f]=new Set);var i=t+"__bubble";n.has(i)||(E1(e,t,2,!1),n.add(i))}function Yh(t,e,n){var i=0;e&&(i|=4),E1(n,t,i,e)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[Rl]){t[Rl]=!0,kE.forEach(function(n){n!=="selectionchange"&&(QR.has(n)||Yh(n,!1,t),Yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rl]||(e[Rl]=!0,Yh("selectionchange",!1,e))}}function E1(t,e,n,i){switch(r1(e)){case 1:var r=hR;break;case 4:r=dR;break;default:r=rm}n=r.bind(null,e,n,t),r=void 0,!lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Xh(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}WE(function(){var u=s,c=em(n),h=[];e:{var d=_1.get(t);if(d!==void 0){var p=om,g=t;switch(t){case"keypress":if(Jl(n)===0)break e;case"keydown":case"keyup":p=xR;break;case"focusin":g="focus",p=zh;break;case"focusout":g="blur",p=zh;break;case"beforeblur":case"afterblur":p=zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AR;break;case m1:case g1:case y1:p=vR;break;case v1:p=OR;break;case"scroll":p=fR;break;case"wheel":p=LR;break;case"copy":case"cut":case"paste":p=wR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pv}var _=(e&4)!==0,E=!_&&t==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var f=u,y;f!==null;){y=f;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=Yo(f,m),S!=null&&_.push(na(f,S,y)))),E)break;f=f.return}0<_.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==of&&(g=n.relatedTarget||n.fromElement)&&(Ji(g)||g[Vn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ji(g):null,g!==null&&(E=Pr(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=dv,S="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=pv,S="onPointerLeave",m="onPointerEnter",f="pointer"),E=p==null?d:$r(p),y=g==null?d:$r(g),d=new _(S,f+"leave",p,n,c),d.target=E,d.relatedTarget=y,S=null,Ji(c)===u&&(_=new _(m,f+"enter",g,n,c),_.target=y,_.relatedTarget=E,S=_),E=S,p&&g)t:{for(_=p,m=g,f=0,y=_;y;y=Ar(y))f++;for(y=0,S=m;S;S=Ar(S))y++;for(;0<f-y;)_=Ar(_),f--;for(;0<y-f;)m=Ar(m),y--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=Ar(_),m=Ar(m)}_=null}else _=null;p!==null&&Pv(h,d,p,_,!1),g!==null&&E!==null&&Pv(h,E,g,_,!0)}}e:{if(d=u?$r(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=$R;else if(yv(d))if(c1)T=HR;else{T=zR;var x=BR}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=WR);if(T&&(T=T(t,u))){u1(h,T,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&ef(d,"number",d.value)}switch(x=u?$r(u):window,t){case"focusin":(yv(x)||x.contentEditable==="true")&&(Ur=x,ff=u,Oo=null);break;case"focusout":Oo=ff=Ur=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Sv(h,n,c);break;case"selectionchange":if(qR)break;case"keydown":case"keyup":Sv(h,n,c)}var k;if(lm)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jr?a1(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(o1&&n.locale!=="ko"&&(jr||C!=="onCompositionStart"?C==="onCompositionEnd"&&jr&&(k=s1()):(ai=c,sm="value"in ai?ai.value:ai.textContent,jr=!0)),x=Eu(u,C),0<x.length&&(C=new fv(C,t,null,n,c),h.push({event:C,listeners:x}),k?C.data=k:(k=l1(n),k!==null&&(C.data=k)))),(k=MR?FR(t,n):jR(t,n))&&(u=Eu(u,"onBeforeInput"),0<u.length&&(c=new fv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}w1(h,e)})}function na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Yo(t,n),s!=null&&i.unshift(na(t,s,r)),s=Yo(t,e),s!=null&&i.push(na(t,s,r))),t=t.return}return i}function Ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Yo(n,s),l!=null&&o.unshift(na(n,l,a))):r||(l=Yo(n,s),l!=null&&o.push(na(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var JR=/\r\n?/g,ZR=/\u0000|\uFFFD/g;function Iv(t){return(typeof t=="string"?t:""+t).replace(JR,`
`).replace(ZR,"")}function Al(t,e,n){if(e=Iv(e),Iv(t)!==e&&n)throw Error(P(425))}function Su(){}var mf=null,gf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(nA)}:vf;function nA(t){setTimeout(function(){throw t})}function Qh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Jo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Jo(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),ln="__reactFiber$"+Fs,ia="__reactProps$"+Fs,Vn="__reactContainer$"+Fs,_f="__reactEvents$"+Fs,iA="__reactListeners$"+Fs,rA="__reactHandles$"+Fs;function Ji(t){var e=t[ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vn]||n[ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kv(t);t!==null;){if(n=t[ln])return n;t=kv(t)}return e}t=n,n=t.parentNode}return null}function $a(t){return t=t[ln]||t[Vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Ic(t){return t[ia]||null}var wf=[],Br=-1;function Ni(t){return{current:t}}function ie(t){0>Br||(t.current=wf[Br],wf[Br]=null,Br--)}function ee(t,e){Br++,wf[Br]=t.current,t.current=e}var Ci={},nt=Ni(Ci),vt=Ni(!1),hr=Ci;function vs(t,e){var n=t.type.contextTypes;if(!n)return Ci;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function _t(t){return t=t.childContextTypes,t!=null}function Tu(){ie(vt),ie(nt)}function Rv(t,e,n){if(nt.current!==Ci)throw Error(P(168));ee(nt,e),ee(vt,n)}function S1(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(P(108,Bk(t)||"Unknown",r));return le({},n,i)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,hr=nt.current,ee(nt,t),ee(vt,vt.current),!0}function Av(t,e,n){var i=t.stateNode;if(!i)throw Error(P(169));n?(t=S1(t,e,hr),i.__reactInternalMemoizedMergedChildContext=t,ie(vt),ie(nt),ee(nt,t)):ie(vt),ee(vt,n)}var Tn=null,xc=!1,Jh=!1;function T1(t){Tn===null?Tn=[t]:Tn.push(t)}function sA(t){xc=!0,T1(t)}function Oi(){if(!Jh&&Tn!==null){Jh=!0;var t=0,e=Y;try{var n=Tn;for(Y=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Tn=null,xc=!1}catch(r){throw Tn!==null&&(Tn=Tn.slice(t+1)),qE(tm,Oi),r}finally{Y=e,Jh=!1}}return null}var zr=[],Wr=0,Pu=null,Iu=0,Lt=[],bt=0,dr=null,Cn=1,Pn="";function Ki(t,e){zr[Wr++]=Iu,zr[Wr++]=Pu,Pu=t,Iu=e}function C1(t,e,n){Lt[bt++]=Cn,Lt[bt++]=Pn,Lt[bt++]=dr,dr=t;var i=Cn;t=Pn;var r=32-Jt(i)-1;i&=~(1<<r),n+=1;var s=32-Jt(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Cn=1<<32-Jt(e)+r|n<<r|i,Pn=s+t}else Cn=1<<s|n<<r|i,Pn=t}function cm(t){t.return!==null&&(Ki(t,1),C1(t,1,0))}function hm(t){for(;t===Pu;)Pu=zr[--Wr],zr[Wr]=null,Iu=zr[--Wr],zr[Wr]=null;for(;t===dr;)dr=Lt[--bt],Lt[bt]=null,Pn=Lt[--bt],Lt[bt]=null,Cn=Lt[--bt],Lt[bt]=null}var xt=null,Pt=null,re=!1,Yt=null;function P1(t,e){var n=Ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,Pt=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dr!==null?{id:Cn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,Pt=null,!0):!1;default:return!1}}function Ef(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sf(t){if(re){var e=Pt;if(e){var n=e;if(!Nv(t,e)){if(Ef(t))throw Error(P(418));e=pi(n.nextSibling);var i=xt;e&&Nv(t,e)?P1(i,n):(t.flags=t.flags&-4097|2,re=!1,xt=t)}}else{if(Ef(t))throw Error(P(418));t.flags=t.flags&-4097|2,re=!1,xt=t}}}function Ov(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Nl(t){if(t!==xt)return!1;if(!re)return Ov(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=Pt)){if(Ef(t))throw I1(),Error(P(418));for(;e;)P1(t,e),e=pi(e.nextSibling)}if(Ov(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=xt?pi(t.stateNode.nextSibling):null;return!0}function I1(){for(var t=Pt;t;)t=pi(t.nextSibling)}function _s(){Pt=xt=null,re=!1}function dm(t){Yt===null?Yt=[t]:Yt.push(t)}var oA=Gn.ReactCurrentBatchConfig;function no(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ol(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dv(t){var e=t._init;return e(t._payload)}function x1(t){function e(m,f){if(t){var y=m.deletions;y===null?(m.deletions=[f],m.flags|=16):y.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function i(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function r(m,f){return m=vi(m,f),m.index=0,m.sibling=null,m}function s(m,f,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<f?(m.flags|=2,f):y):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,y,S){return f===null||f.tag!==6?(f=sd(y,m.mode,S),f.return=m,f):(f=r(f,y),f.return=m,f)}function l(m,f,y,S){var T=y.type;return T===Fr?c(m,f,y.props.children,S,y.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ei&&Dv(T)===f.type)?(S=r(f,y.props),S.ref=no(m,f,y),S.return=m,S):(S=su(y.type,y.key,y.props,null,m.mode,S),S.ref=no(m,f,y),S.return=m,S)}function u(m,f,y,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=od(y,m.mode,S),f.return=m,f):(f=r(f,y.children||[]),f.return=m,f)}function c(m,f,y,S,T){return f===null||f.tag!==7?(f=ar(y,m.mode,S,T),f.return=m,f):(f=r(f,y),f.return=m,f)}function h(m,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=sd(""+f,m.mode,y),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case El:return y=su(f.type,f.key,f.props,null,m.mode,y),y.ref=no(m,null,f),y.return=m,y;case Mr:return f=od(f,m.mode,y),f.return=m,f;case ei:var S=f._init;return h(m,S(f._payload),y)}if(vo(f)||Qs(f))return f=ar(f,m.mode,y,null),f.return=m,f;Ol(m,f)}return null}function d(m,f,y,S){var T=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(m,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case El:return y.key===T?l(m,f,y,S):null;case Mr:return y.key===T?u(m,f,y,S):null;case ei:return T=y._init,d(m,f,T(y._payload),S)}if(vo(y)||Qs(y))return T!==null?null:c(m,f,y,S,null);Ol(m,y)}return null}function p(m,f,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(f,m,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case El:return m=m.get(S.key===null?y:S.key)||null,l(f,m,S,T);case Mr:return m=m.get(S.key===null?y:S.key)||null,u(f,m,S,T);case ei:var x=S._init;return p(m,f,y,x(S._payload),T)}if(vo(S)||Qs(S))return m=m.get(y)||null,c(f,m,S,T,null);Ol(f,S)}return null}function g(m,f,y,S){for(var T=null,x=null,k=f,C=f=0,F=null;k!==null&&C<y.length;C++){k.index>C?(F=k,k=null):F=k.sibling;var O=d(m,k,y[C],S);if(O===null){k===null&&(k=F);break}t&&k&&O.alternate===null&&e(m,k),f=s(O,f,C),x===null?T=O:x.sibling=O,x=O,k=F}if(C===y.length)return n(m,k),re&&Ki(m,C),T;if(k===null){for(;C<y.length;C++)k=h(m,y[C],S),k!==null&&(f=s(k,f,C),x===null?T=k:x.sibling=k,x=k);return re&&Ki(m,C),T}for(k=i(m,k);C<y.length;C++)F=p(k,m,C,y[C],S),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?C:F.key),f=s(F,f,C),x===null?T=F:x.sibling=F,x=F);return t&&k.forEach(function(Te){return e(m,Te)}),re&&Ki(m,C),T}function _(m,f,y,S){var T=Qs(y);if(typeof T!="function")throw Error(P(150));if(y=T.call(y),y==null)throw Error(P(151));for(var x=T=null,k=f,C=f=0,F=null,O=y.next();k!==null&&!O.done;C++,O=y.next()){k.index>C?(F=k,k=null):F=k.sibling;var Te=d(m,k,O.value,S);if(Te===null){k===null&&(k=F);break}t&&k&&Te.alternate===null&&e(m,k),f=s(Te,f,C),x===null?T=Te:x.sibling=Te,x=Te,k=F}if(O.done)return n(m,k),re&&Ki(m,C),T;if(k===null){for(;!O.done;C++,O=y.next())O=h(m,O.value,S),O!==null&&(f=s(O,f,C),x===null?T=O:x.sibling=O,x=O);return re&&Ki(m,C),T}for(k=i(m,k);!O.done;C++,O=y.next())O=p(k,m,C,O.value,S),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?C:O.key),f=s(O,f,C),x===null?T=O:x.sibling=O,x=O);return t&&k.forEach(function(Xn){return e(m,Xn)}),re&&Ki(m,C),T}function E(m,f,y,S){if(typeof y=="object"&&y!==null&&y.type===Fr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case El:e:{for(var T=y.key,x=f;x!==null;){if(x.key===T){if(T=y.type,T===Fr){if(x.tag===7){n(m,x.sibling),f=r(x,y.props.children),f.return=m,m=f;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ei&&Dv(T)===x.type){n(m,x.sibling),f=r(x,y.props),f.ref=no(m,x,y),f.return=m,m=f;break e}n(m,x);break}else e(m,x);x=x.sibling}y.type===Fr?(f=ar(y.props.children,m.mode,S,y.key),f.return=m,m=f):(S=su(y.type,y.key,y.props,null,m.mode,S),S.ref=no(m,f,y),S.return=m,m=S)}return o(m);case Mr:e:{for(x=y.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(m,f.sibling),f=r(f,y.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=od(y,m.mode,S),f.return=m,m=f}return o(m);case ei:return x=y._init,E(m,f,x(y._payload),S)}if(vo(y))return g(m,f,y,S);if(Qs(y))return _(m,f,y,S);Ol(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(m,f.sibling),f=r(f,y),f.return=m,m=f):(n(m,f),f=sd(y,m.mode,S),f.return=m,m=f),o(m)):n(m,f)}return E}var ws=x1(!0),k1=x1(!1),xu=Ni(null),ku=null,Hr=null,fm=null;function pm(){fm=Hr=ku=null}function mm(t){var e=xu.current;ie(xu),t._currentValue=e}function Tf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ss(t,e){ku=t,fm=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(fm!==t)if(t={context:t,memoizedValue:e,next:null},Hr===null){if(ku===null)throw Error(P(308));Hr=t,ku.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return e}var Zi=null;function gm(t){Zi===null?Zi=[t]:Zi.push(t)}function R1(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,gm(e)):(n.next=r.next,r.next=n),e.interleaved=n,$n(t,i)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,H&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$n(t,n)}return r=i.interleaved,r===null?(e.next=e,gm(i)):(e.next=r.next,r.next=e),i.interleaved=e,$n(t,n)}function Zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,nm(t,n)}}function Lv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ru(t,e,n,i){var r=t.updateQueue;ti=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(d=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=le({},h,d);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);pr|=o,t.lanes=o,t.memoizedState=h}}function bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(P(191,r));r.call(i)}}}var Ba={},pn=Ni(Ba),ra=Ni(Ba),sa=Ni(Ba);function er(t){if(t===Ba)throw Error(P(174));return t}function vm(t,e){switch(ee(sa,e),ee(ra,t),ee(pn,Ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nf(e,t)}ie(pn),ee(pn,e)}function Es(){ie(pn),ie(ra),ie(sa)}function N1(t){er(sa.current);var e=er(pn.current),n=nf(e,t.type);e!==n&&(ee(ra,t),ee(pn,n))}function _m(t){ra.current===t&&(ie(pn),ie(ra))}var se=Ni(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zh=[];function wm(){for(var t=0;t<Zh.length;t++)Zh[t]._workInProgressVersionPrimary=null;Zh.length=0}var eu=Gn.ReactCurrentDispatcher,ed=Gn.ReactCurrentBatchConfig,fr=0,ae=null,Ee=null,Ie=null,Nu=!1,Do=!1,oa=0,aA=0;function We(){throw Error(P(321))}function Em(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function Sm(t,e,n,i,r,s){if(fr=s,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?hA:dA,t=n(i,r),Do){s=0;do{if(Do=!1,oa=0,25<=s)throw Error(P(301));s+=1,Ie=Ee=null,e.updateQueue=null,eu.current=fA,t=n(i,r)}while(Do)}if(eu.current=Ou,e=Ee!==null&&Ee.next!==null,fr=0,Ie=Ee=ae=null,Nu=!1,e)throw Error(P(300));return t}function Tm(){var t=oa!==0;return oa=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ae.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Bt(){if(Ee===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Ie===null?ae.memoizedState:Ie.next;if(e!==null)Ie=e,Ee=t;else{if(t===null)throw Error(P(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ie===null?ae.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function aa(t,e){return typeof e=="function"?e(t):e}function td(t){var e=Bt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=Ee,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ae.lanes|=c,pr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,nn(i,e.memoizedState)||(mt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,ae.lanes|=s,pr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nd(t){var e=Bt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);nn(s,e.memoizedState)||(mt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function O1(){}function D1(t,e){var n=ae,i=Bt(),r=e(),s=!nn(i.memoizedState,r);if(s&&(i.memoizedState=r,mt=!0),i=i.queue,Cm(M1.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,la(9,b1.bind(null,n,i,r,e),void 0,null),Ae===null)throw Error(P(349));fr&30||L1(n,e,r)}return r}function L1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b1(t,e,n,i){e.value=n,e.getSnapshot=i,F1(e)&&j1(t)}function M1(t,e,n){return n(function(){F1(e)&&j1(t)})}function F1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function j1(t){var e=$n(t,1);e!==null&&Zt(e,t,1,-1)}function Mv(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e.queue=t,t=t.dispatch=cA.bind(null,ae,t),[e.memoizedState,t]}function la(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function U1(){return Bt().memoizedState}function tu(t,e,n,i){var r=on();ae.flags|=t,r.memoizedState=la(1|e,n,void 0,i===void 0?null:i)}function kc(t,e,n,i){var r=Bt();i=i===void 0?null:i;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,i!==null&&Em(i,o.deps)){r.memoizedState=la(e,n,s,i);return}}ae.flags|=t,r.memoizedState=la(1|e,n,s,i)}function Fv(t,e){return tu(8390656,8,t,e)}function Cm(t,e){return kc(2048,8,t,e)}function V1(t,e){return kc(4,2,t,e)}function $1(t,e){return kc(4,4,t,e)}function B1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z1(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,B1.bind(null,e,t),n)}function Pm(){}function W1(t,e){var n=Bt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Em(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function H1(t,e){var n=Bt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Em(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function K1(t,e,n){return fr&21?(nn(n,e)||(n=QE(),ae.lanes|=n,pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function lA(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var i=ed.transition;ed.transition={};try{t(!1),e()}finally{Y=n,ed.transition=i}}function G1(){return Bt().memoizedState}function uA(t,e,n){var i=yi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},q1(t))Y1(e,n);else if(n=R1(t,e,n,i),n!==null){var r=lt();Zt(n,t,i,r),X1(n,e,i)}}function cA(t,e,n){var i=yi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(q1(t))Y1(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,nn(a,o)){var l=e.interleaved;l===null?(r.next=r,gm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=R1(t,e,r,i),n!==null&&(r=lt(),Zt(n,t,i,r),X1(n,e,i))}}function q1(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function Y1(t,e){Do=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X1(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,nm(t,n)}}var Ou={readContext:$t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},hA={readContext:$t,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Fv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,B1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=on();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=uA.bind(null,ae,t),[i.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:Mv,useDebugValue:Pm,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=Mv(!1),e=t[0];return t=lA.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ae,r=on();if(re){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ae===null)throw Error(P(349));fr&30||L1(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Fv(M1.bind(null,i,s,t),[t]),i.flags|=2048,la(9,b1.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=on(),e=Ae.identifierPrefix;if(re){var n=Pn,i=Cn;n=(i&~(1<<32-Jt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=oa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dA={readContext:$t,useCallback:W1,useContext:$t,useEffect:Cm,useImperativeHandle:z1,useInsertionEffect:V1,useLayoutEffect:$1,useMemo:H1,useReducer:td,useRef:U1,useState:function(){return td(aa)},useDebugValue:Pm,useDeferredValue:function(t){var e=Bt();return K1(e,Ee.memoizedState,t)},useTransition:function(){var t=td(aa)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:O1,useSyncExternalStore:D1,useId:G1,unstable_isNewReconciler:!1},fA={readContext:$t,useCallback:W1,useContext:$t,useEffect:Cm,useImperativeHandle:z1,useInsertionEffect:V1,useLayoutEffect:$1,useMemo:H1,useReducer:nd,useRef:U1,useState:function(){return nd(aa)},useDebugValue:Pm,useDeferredValue:function(t){var e=Bt();return Ee===null?e.memoizedState=t:K1(e,Ee.memoizedState,t)},useTransition:function(){var t=nd(aa)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:O1,useSyncExternalStore:D1,useId:G1,unstable_isNewReconciler:!1};function Gt(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rc={isMounted:function(t){return(t=t._reactInternals)?Pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=lt(),r=yi(t),s=On(i,r);s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,r),e!==null&&(Zt(e,t,r,i),Zl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=lt(),r=yi(t),s=On(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=mi(t,s,r),e!==null&&(Zt(e,t,r,i),Zl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),i=yi(t),r=On(n,i);r.tag=2,e!=null&&(r.callback=e),e=mi(t,r,i),e!==null&&(Zt(e,t,i,n),Zl(e,t,i))}};function jv(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ea(n,i)||!ea(r,s):!0}function Q1(t,e,n){var i=!1,r=Ci,s=e.contextType;return typeof s=="object"&&s!==null?s=$t(s):(r=_t(e)?hr:nt.current,i=e.contextTypes,s=(i=i!=null)?vs(t,r):Ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Rc.enqueueReplaceState(e,e.state,null)}function Pf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ym(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=$t(s):(s=_t(e)?hr:nt.current,r.context=vs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Rc.enqueueReplaceState(r,r.state,null),Ru(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",i=e;do n+=$k(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function If(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pA=typeof WeakMap=="function"?WeakMap:Map;function J1(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Lu||(Lu=!0,Mf=i),If(t,e)},n}function Z1(t,e,n){n=On(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){If(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){If(t,e),typeof i!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new pA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=kA.bind(null,t,e,n),e.then(t,t))}function $v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var mA=Gn.ReactCurrentOwner,mt=!1;function ot(t,e,n,i){e.child=t===null?k1(e,null,n,i):ws(e,t.child,n,i)}function zv(t,e,n,i,r){n=n.render;var s=e.ref;return ss(e,r),i=Sm(t,e,n,i,s,r),n=Tm(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bn(t,e,r)):(re&&n&&cm(e),e.flags|=1,ot(t,e,i,r),e.child)}function Wv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Dm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eS(t,e,s,i,r)):(t=su(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ea,n(o,i)&&t.ref===e.ref)return Bn(t,e,r)}return e.flags|=1,t=vi(s,i),t.ref=e.ref,t.return=e,e.child=t}function eS(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ea(s,i)&&t.ref===e.ref)if(mt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,Bn(t,e,r)}return xf(t,e,n,i,r)}function tS(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Gr,Ct),Ct|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(Gr,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ee(Gr,Ct),Ct|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ee(Gr,Ct),Ct|=i;return ot(t,e,r,n),e.child}function nS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xf(t,e,n,i,r){var s=_t(n)?hr:nt.current;return s=vs(e,s),ss(e,r),n=Sm(t,e,n,i,s,r),i=Tm(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bn(t,e,r)):(re&&i&&cm(e),e.flags|=1,ot(t,e,n,r),e.child)}function Hv(t,e,n,i,r){if(_t(n)){var s=!0;Cu(e)}else s=!1;if(ss(e,r),e.stateNode===null)nu(t,e),Q1(e,n,i),Pf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=_t(n)?hr:nt.current,u=vs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Uv(e,o,i,u),ti=!1;var d=e.memoizedState;o.state=d,Ru(e,i,o,r),l=e.memoizedState,a!==i||d!==l||vt.current||ti?(typeof c=="function"&&(Cf(e,n,c,i),l=e.memoizedState),(a=ti||jv(e,n,a,i,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,A1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=_t(n)?hr:nt.current,l=vs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Uv(e,o,i,l),ti=!1,d=e.memoizedState,o.state=d,Ru(e,i,o,r);var g=e.memoizedState;a!==h||d!==g||vt.current||ti?(typeof p=="function"&&(Cf(e,n,p,i),g=e.memoizedState),(u=ti||jv(e,n,u,i,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return kf(t,e,n,i,s,r)}function kf(t,e,n,i,r,s){nS(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Av(e,n,!1),Bn(t,e,s);i=e.stateNode,mA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=ws(e,t.child,null,s),e.child=ws(e,null,a,s)):ot(t,e,a,s),e.memoizedState=i.state,r&&Av(e,n,!0),e.child}function iS(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),vm(t,e.containerInfo)}function Kv(t,e,n,i,r){return _s(),dm(r),e.flags|=256,ot(t,e,n,i),e.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function Af(t){return{baseLanes:t,cachePool:null,transitions:null}}function rS(t,e,n){var i=e.pendingProps,r=se.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ee(se,r&1),t===null)return Sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Oc(o,i,0,null),t=ar(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Af(n),e.memoizedState=Rf,t):Im(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return gA(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=vi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=vi(a,s):(s=ar(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Af(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rf,i}return s=t.child,t=s.sibling,i=vi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Im(t,e){return e=Oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dl(t,e,n,i){return i!==null&&dm(i),ws(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gA(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=id(Error(P(422))),Dl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Oc({mode:"visible",children:i.children},r,0,null),s=ar(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ws(e,t.child,null,o),e.child.memoizedState=Af(o),e.memoizedState=Rf,s);if(!(e.mode&1))return Dl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(P(419)),i=id(s,i,void 0),Dl(t,e,o,i)}if(a=(o&t.childLanes)!==0,mt||a){if(i=Ae,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,$n(t,r),Zt(i,t,r,-1))}return Om(),i=id(Error(P(421))),Dl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=RA.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Pt=pi(r.nextSibling),xt=e,re=!0,Yt=null,t!==null&&(Lt[bt++]=Cn,Lt[bt++]=Pn,Lt[bt++]=dr,Cn=t.id,Pn=t.overflow,dr=e),e=Im(e,i.children),e.flags|=4096,e)}function Gv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Tf(t.return,e,n)}function rd(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function sS(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ot(t,e,i.children,n),i=se.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gv(t,n,e);else if(t.tag===19)Gv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ee(se,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),rd(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Au(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}rd(e,!0,n,null,s);break;case"together":rd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yA(t,e,n){switch(e.tag){case 3:iS(e),_s();break;case 5:N1(e);break;case 1:_t(e.type)&&Cu(e);break;case 4:vm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ee(xu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ee(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?rS(t,e,n):(ee(se,se.current&1),t=Bn(t,e,n),t!==null?t.sibling:null);ee(se,se.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return sS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ee(se,se.current),i)break;return null;case 22:case 23:return e.lanes=0,tS(t,e,n)}return Bn(t,e,n)}var oS,Nf,aS,lS;oS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nf=function(){};aS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,er(pn.current);var s=null;switch(n){case"input":r=Jd(t,r),i=Jd(t,i),s=[];break;case"select":r=le({},r,{value:void 0}),i=le({},i,{value:void 0}),s=[];break;case"textarea":r=tf(t,r),i=tf(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Su)}rf(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Go.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Go.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};lS=function(t,e,n,i){n!==i&&(e.flags|=4)};function io(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function vA(t,e,n){var i=e.pendingProps;switch(hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return _t(e.type)&&Tu(),He(e),null;case 3:return i=e.stateNode,Es(),ie(vt),ie(nt),wm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(Uf(Yt),Yt=null))),Nf(t,e),He(e),null;case 5:_m(e);var r=er(sa.current);if(n=e.type,t!==null&&e.stateNode!=null)aS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(P(166));return He(e),null}if(t=er(pn.current),Nl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[ln]=e,i[ia]=s,t=(e.mode&1)!==0,n){case"dialog":te("cancel",i),te("close",i);break;case"iframe":case"object":case"embed":te("load",i);break;case"video":case"audio":for(r=0;r<wo.length;r++)te(wo[r],i);break;case"source":te("error",i);break;case"img":case"image":case"link":te("error",i),te("load",i);break;case"details":te("toggle",i);break;case"input":nv(i,s),te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},te("invalid",i);break;case"textarea":rv(i,s),te("invalid",i)}rf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Al(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Al(i.textContent,a,t),r=["children",""+a]):Go.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",i)}switch(n){case"input":Sl(i),iv(i,s,!0);break;case"textarea":Sl(i),sv(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Su)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ME(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[ln]=e,t[ia]=i,oS(t,e,!1,!1),e.stateNode=t;e:{switch(o=sf(n,i),n){case"dialog":te("cancel",t),te("close",t),r=i;break;case"iframe":case"object":case"embed":te("load",t),r=i;break;case"video":case"audio":for(r=0;r<wo.length;r++)te(wo[r],t);r=i;break;case"source":te("error",t),r=i;break;case"img":case"image":case"link":te("error",t),te("load",t),r=i;break;case"details":te("toggle",t),r=i;break;case"input":nv(t,i),r=Jd(t,i),te("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=le({},i,{value:void 0}),te("invalid",t);break;case"textarea":rv(t,i),r=tf(t,i),te("invalid",t);break;default:r=i}rf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?UE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qo(t,l):typeof l=="number"&&qo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Go.hasOwnProperty(s)?l!=null&&s==="onScroll"&&te("scroll",t):l!=null&&Xp(t,s,l,o))}switch(n){case"input":Sl(t),iv(t,i,!1);break;case"textarea":Sl(t),sv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ti(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ts(t,!!i.multiple,s,!1):i.defaultValue!=null&&ts(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)lS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(n=er(sa.current),er(pn.current),Nl(e)){if(i=e.stateNode,n=e.memoizedProps,i[ln]=e,(s=i.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Al(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ln]=e,e.stateNode=i}return He(e),null;case 13:if(ie(se),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Pt!==null&&e.mode&1&&!(e.flags&128))I1(),_s(),e.flags|=98560,s=!1;else if(s=Nl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[ln]=e}else _s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else Yt!==null&&(Uf(Yt),Yt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?Se===0&&(Se=3):Om())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Es(),Nf(t,e),t===null&&ta(e.stateNode.containerInfo),He(e),null;case 10:return mm(e.type._context),He(e),null;case 17:return _t(e.type)&&Tu(),He(e),null;case 19:if(ie(se),s=e.memoizedState,s===null)return He(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)io(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Au(t),o!==null){for(e.flags|=128,io(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(se,se.current&1|2),e.child}t=t.sibling}s.tail!==null&&ge()>Ts&&(e.flags|=128,i=!0,io(s,!1),e.lanes=4194304)}else{if(!i)if(t=Au(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),io(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!re)return He(e),null}else 2*ge()-s.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,i=!0,io(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ge(),e.sibling=null,n=se.current,ee(se,i?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Nm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ct&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function _A(t,e){switch(hm(e),e.tag){case 1:return _t(e.type)&&Tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Es(),ie(vt),ie(nt),wm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(ie(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));_s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(se),null;case 4:return Es(),null;case 10:return mm(e.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var Ll=!1,Ye=!1,wA=typeof WeakSet=="function"?WeakSet:Set,N=null;function Kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ue(t,e,i)}else n.current=null}function Of(t,e,n){try{n()}catch(i){ue(t,e,i)}}var qv=!1;function EA(t,e){if(mf=_u,t=f1(),um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===s&&++c===i&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:t,selectionRange:n},_u=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,E=g.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:Gt(e.type,_),E);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ue(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return g=qv,qv=!1,g}function Lo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Of(e,n,s)}r=r.next}while(r!==i)}}function Ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uS(t){var e=t.alternate;e!==null&&(t.alternate=null,uS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ln],delete e[ia],delete e[_f],delete e[iA],delete e[rA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cS(t){return t.tag===5||t.tag===3||t.tag===4}function Yv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(i!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}function bf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(bf(t,e,n),t=t.sibling;t!==null;)bf(t,e,n),t=t.sibling}var Me=null,qt=!1;function Qn(t,e,n){for(n=n.child;n!==null;)hS(t,e,n),n=n.sibling}function hS(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:Ye||Kr(n,e);case 6:var i=Me,r=qt;Me=null,Qn(t,e,n),Me=i,qt=r,Me!==null&&(qt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(qt?(t=Me,n=n.stateNode,t.nodeType===8?Qh(t.parentNode,n):t.nodeType===1&&Qh(t,n),Jo(t)):Qh(Me,n.stateNode));break;case 4:i=Me,r=qt,Me=n.stateNode.containerInfo,qt=!0,Qn(t,e,n),Me=i,qt=r;break;case 0:case 11:case 14:case 15:if(!Ye&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Of(n,e,o),r=r.next}while(r!==i)}Qn(t,e,n);break;case 1:if(!Ye&&(Kr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ue(n,e,a)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(Ye=(i=Ye)||n.memoizedState!==null,Qn(t,e,n),Ye=i):Qn(t,e,n);break;default:Qn(t,e,n)}}function Xv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wA),e.forEach(function(i){var r=AA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Ht(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,qt=!1;break e;case 3:Me=a.stateNode.containerInfo,qt=!0;break e;case 4:Me=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(Me===null)throw Error(P(160));hS(s,o,r),Me=null,qt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ue(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dS(e,t),e=e.sibling}function dS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(e,t),sn(t),i&4){try{Lo(3,t,t.return),Ac(3,t)}catch(_){ue(t,t.return,_)}try{Lo(5,t,t.return)}catch(_){ue(t,t.return,_)}}break;case 1:Ht(e,t),sn(t),i&512&&n!==null&&Kr(n,n.return);break;case 5:if(Ht(e,t),sn(t),i&512&&n!==null&&Kr(n,n.return),t.flags&32){var r=t.stateNode;try{qo(r,"")}catch(_){ue(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&LE(r,s),sf(a,o);var u=sf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?UE(r,h):c==="dangerouslySetInnerHTML"?FE(r,h):c==="children"?qo(r,h):Xp(r,c,h,u)}switch(a){case"input":Zd(r,s);break;case"textarea":bE(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ts(r,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?ts(r,!!s.multiple,s.defaultValue,!0):ts(r,!!s.multiple,s.multiple?[]:"",!1))}r[ia]=s}catch(_){ue(t,t.return,_)}}break;case 6:if(Ht(e,t),sn(t),i&4){if(t.stateNode===null)throw Error(P(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(_){ue(t,t.return,_)}}break;case 3:if(Ht(e,t),sn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(e.containerInfo)}catch(_){ue(t,t.return,_)}break;case 4:Ht(e,t),sn(t);break;case 13:Ht(e,t),sn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Rm=ge())),i&4&&Xv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||c,Ht(e,t),Ye=u):Ht(e,t),sn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(h=N=c;N!==null;){switch(d=N,p=d.child,d.tag){case 0:case 11:case 14:case 15:Lo(4,d,d.return);break;case 1:Kr(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){ue(i,n,_)}}break;case 5:Kr(d,d.return);break;case 22:if(d.memoizedState!==null){Jv(h);continue}}p!==null?(p.return=d,N=p):Jv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jE("display",o))}catch(_){ue(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ue(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(e,t),sn(t),i&4&&Xv(t);break;case 21:break;default:Ht(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cS(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(qo(r,""),i.flags&=-33);var s=Yv(t);bf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Yv(t);Lf(t,a,o);break;default:throw Error(P(161))}}catch(l){ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SA(t,e,n){N=t,fS(t)}function fS(t,e,n){for(var i=(t.mode&1)!==0;N!==null;){var r=N,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ll;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Ll;var u=Ye;if(Ll=o,(Ye=l)&&!u)for(N=r;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?Zv(r):l!==null?(l.return=o,N=l):Zv(r);for(;s!==null;)N=s,fS(s),s=s.sibling;N=r,Ll=a,Ye=u}Qv(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,N=s):Qv(t)}}function Qv(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||Ac(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ye)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Jo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ye||e.flags&512&&Df(e)}catch(d){ue(e,e.return,d)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function Jv(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function Zv(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ac(4,e)}catch(l){ue(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ue(e,r,l)}}var s=e.return;try{Df(e)}catch(l){ue(e,s,l)}break;case 5:var o=e.return;try{Df(e)}catch(l){ue(e,o,l)}}}catch(l){ue(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var TA=Math.ceil,Du=Gn.ReactCurrentDispatcher,xm=Gn.ReactCurrentOwner,Vt=Gn.ReactCurrentBatchConfig,H=0,Ae=null,ve=null,Ve=0,Ct=0,Gr=Ni(0),Se=0,ua=null,pr=0,Nc=0,km=0,bo=null,pt=null,Rm=0,Ts=1/0,Sn=null,Lu=!1,Mf=null,gi=null,bl=!1,li=null,bu=0,Mo=0,Ff=null,iu=-1,ru=0;function lt(){return H&6?ge():iu!==-1?iu:iu=ge()}function yi(t){return t.mode&1?H&2&&Ve!==0?Ve&-Ve:oA.transition!==null?(ru===0&&(ru=QE()),ru):(t=Y,t!==0||(t=window.event,t=t===void 0?16:r1(t.type)),t):1}function Zt(t,e,n,i){if(50<Mo)throw Mo=0,Ff=null,Error(P(185));Ua(t,n,i),(!(H&2)||t!==Ae)&&(t===Ae&&(!(H&2)&&(Nc|=n),Se===4&&ii(t,Ve)),wt(t,i),n===1&&H===0&&!(e.mode&1)&&(Ts=ge()+500,xc&&Oi()))}function wt(t,e){var n=t.callbackNode;oR(t,e);var i=vu(t,t===Ae?Ve:0);if(i===0)n!==null&&lv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&lv(n),e===1)t.tag===0?sA(e_.bind(null,t)):T1(e_.bind(null,t)),tA(function(){!(H&6)&&Oi()}),n=null;else{switch(JE(i)){case 1:n=tm;break;case 4:n=YE;break;case 16:n=yu;break;case 536870912:n=XE;break;default:n=yu}n=ES(n,pS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pS(t,e){if(iu=-1,ru=0,H&6)throw Error(P(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var i=vu(t,t===Ae?Ve:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Mu(t,i);else{e=i;var r=H;H|=2;var s=gS();(Ae!==t||Ve!==e)&&(Sn=null,Ts=ge()+500,or(t,e));do try{IA();break}catch(a){mS(t,a)}while(!0);pm(),Du.current=s,H=r,ve!==null?e=0:(Ae=null,Ve=0,e=Se)}if(e!==0){if(e===2&&(r=cf(t),r!==0&&(i=r,e=jf(t,r))),e===1)throw n=ua,or(t,0),ii(t,i),wt(t,ge()),n;if(e===6)ii(t,i);else{if(r=t.current.alternate,!(i&30)&&!CA(r)&&(e=Mu(t,i),e===2&&(s=cf(t),s!==0&&(i=s,e=jf(t,s))),e===1))throw n=ua,or(t,0),ii(t,i),wt(t,ge()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(P(345));case 2:Gi(t,pt,Sn);break;case 3:if(ii(t,i),(i&130023424)===i&&(e=Rm+500-ge(),10<e)){if(vu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){lt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=vf(Gi.bind(null,t,pt,Sn),e);break}Gi(t,pt,Sn);break;case 4:if(ii(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Jt(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*TA(i/1960))-i,10<i){t.timeoutHandle=vf(Gi.bind(null,t,pt,Sn),i);break}Gi(t,pt,Sn);break;case 5:Gi(t,pt,Sn);break;default:throw Error(P(329))}}}return wt(t,ge()),t.callbackNode===n?pS.bind(null,t):null}function jf(t,e){var n=bo;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=Mu(t,e),t!==2&&(e=pt,pt=n,e!==null&&Uf(e)),t}function Uf(t){pt===null?pt=t:pt.push.apply(pt,t)}function CA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!nn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~km,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),i=1<<n;t[n]=-1,e&=~i}}function e_(t){if(H&6)throw Error(P(327));os();var e=vu(t,0);if(!(e&1))return wt(t,ge()),null;var n=Mu(t,e);if(t.tag!==0&&n===2){var i=cf(t);i!==0&&(e=i,n=jf(t,i))}if(n===1)throw n=ua,or(t,0),ii(t,e),wt(t,ge()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,pt,Sn),wt(t,ge()),null}function Am(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(Ts=ge()+500,xc&&Oi())}}function mr(t){li!==null&&li.tag===0&&!(H&6)&&os();var e=H;H|=1;var n=Vt.transition,i=Y;try{if(Vt.transition=null,Y=1,t)return t()}finally{Y=i,Vt.transition=n,H=e,!(H&6)&&Oi()}}function Nm(){Ct=Gr.current,ie(Gr)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eA(n)),ve!==null)for(n=ve.return;n!==null;){var i=n;switch(hm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Tu();break;case 3:Es(),ie(vt),ie(nt),wm();break;case 5:_m(i);break;case 4:Es();break;case 13:ie(se);break;case 19:ie(se);break;case 10:mm(i.type._context);break;case 22:case 23:Nm()}n=n.return}if(Ae=t,ve=t=vi(t.current,null),Ve=Ct=e,Se=0,ua=null,km=Nc=pr=0,pt=bo=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Zi=null}return t}function mS(t,e){do{var n=ve;try{if(pm(),eu.current=Ou,Nu){for(var i=ae.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Nu=!1}if(fr=0,Ie=Ee=ae=null,Do=!1,oa=0,xm.current=null,n===null||n.return===null){Se=1,ua=e,ve=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ve,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$v(o);if(p!==null){p.flags&=-257,Bv(p,o,a,s,e),p.mode&1&&Vv(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){Vv(s,u,e),Om();break e}l=Error(P(426))}}else if(re&&a.mode&1){var E=$v(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Bv(E,o,a,s,e),dm(Ss(l,a));break e}}s=l=Ss(l,a),Se!==4&&(Se=2),bo===null?bo=[s]:bo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=J1(s,l,e);Lv(s,m);break e;case 1:a=l;var f=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gi===null||!gi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Z1(s,a,e);Lv(s,S);break e}}s=s.return}while(s!==null)}vS(n)}catch(T){e=T,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function gS(){var t=Du.current;return Du.current=Ou,t===null?Ou:t}function Om(){(Se===0||Se===3||Se===2)&&(Se=4),Ae===null||!(pr&268435455)&&!(Nc&268435455)||ii(Ae,Ve)}function Mu(t,e){var n=H;H|=2;var i=gS();(Ae!==t||Ve!==e)&&(Sn=null,or(t,e));do try{PA();break}catch(r){mS(t,r)}while(!0);if(pm(),H=n,Du.current=i,ve!==null)throw Error(P(261));return Ae=null,Ve=0,Se}function PA(){for(;ve!==null;)yS(ve)}function IA(){for(;ve!==null&&!Qk();)yS(ve)}function yS(t){var e=wS(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?vS(t):ve=e,xm.current=null}function vS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_A(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ve=null;return}}else if(n=vA(n,e,Ct),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);Se===0&&(Se=5)}function Gi(t,e,n){var i=Y,r=Vt.transition;try{Vt.transition=null,Y=1,xA(t,e,n,i)}finally{Vt.transition=r,Y=i}return null}function xA(t,e,n,i){do os();while(li!==null);if(H&6)throw Error(P(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(aR(t,s),t===Ae&&(ve=Ae=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,ES(yu,function(){return os(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Vt.transition,Vt.transition=null;var o=Y;Y=1;var a=H;H|=4,xm.current=null,EA(t,n),dS(n,t),GR(gf),_u=!!mf,gf=mf=null,t.current=n,SA(n),Jk(),H=a,Y=o,Vt.transition=s}else t.current=n;if(bl&&(bl=!1,li=t,bu=r),s=t.pendingLanes,s===0&&(gi=null),tR(n.stateNode),wt(t,ge()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Lu)throw Lu=!1,t=Mf,Mf=null,t;return bu&1&&t.tag!==0&&os(),s=t.pendingLanes,s&1?t===Ff?Mo++:(Mo=0,Ff=t):Mo=0,Oi(),null}function os(){if(li!==null){var t=JE(bu),e=Vt.transition,n=Y;try{if(Vt.transition=null,Y=16>t?16:t,li===null)var i=!1;else{if(t=li,li=null,bu=0,H&6)throw Error(P(331));var r=H;for(H|=4,N=t.current;N!==null;){var s=N,o=s.child;if(N.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Lo(8,c,s)}var h=c.child;if(h!==null)h.return=c,N=h;else for(;N!==null;){c=N;var d=c.sibling,p=c.return;if(uS(c),c===u){N=null;break}if(d!==null){d.return=p,N=d;break}N=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}N=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,N=o;else e:for(;N!==null;){if(s=N,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,N=m;break e}N=s.return}}var f=t.current;for(N=f;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=f;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ac(9,a)}}catch(T){ue(a,a.return,T)}if(a===o){N=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,N=S;break e}N=a.return}}if(H=r,Oi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Sc,t)}catch{}i=!0}return i}finally{Y=n,Vt.transition=e}}return!1}function t_(t,e,n){e=Ss(n,e),e=J1(t,e,1),t=mi(t,e,1),e=lt(),t!==null&&(Ua(t,1,e),wt(t,e))}function ue(t,e,n){if(t.tag===3)t_(t,t,n);else for(;e!==null;){if(e.tag===3){t_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gi===null||!gi.has(i))){t=Ss(n,t),t=Z1(e,t,1),e=mi(e,t,1),t=lt(),e!==null&&(Ua(e,1,t),wt(e,t));break}}e=e.return}}function kA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Ae===t&&(Ve&n)===n&&(Se===4||Se===3&&(Ve&130023424)===Ve&&500>ge()-Rm?or(t,0):km|=n),wt(t,e)}function _S(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=lt();t=$n(t,e),t!==null&&(Ua(t,e,n),wt(t,n))}function RA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_S(t,n)}function AA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(e),_S(t,n)}var wS;wS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,yA(t,e,n);mt=!!(t.flags&131072)}else mt=!1,re&&e.flags&1048576&&C1(e,Iu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;nu(t,e),t=e.pendingProps;var r=vs(e,nt.current);ss(e,n),r=Sm(null,e,i,t,r,n);var s=Tm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(i)?(s=!0,Cu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ym(e),r.updater=Rc,e.stateNode=r,r._reactInternals=e,Pf(e,i,t,n),e=kf(null,e,i,!0,s,n)):(e.tag=0,re&&s&&cm(e),ot(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=OA(i),t=Gt(i,t),r){case 0:e=xf(null,e,i,t,n);break e;case 1:e=Hv(null,e,i,t,n);break e;case 11:e=zv(null,e,i,t,n);break e;case 14:e=Wv(null,e,i,Gt(i.type,t),n);break e}throw Error(P(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gt(i,r),xf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gt(i,r),Hv(t,e,i,r,n);case 3:e:{if(iS(e),t===null)throw Error(P(387));i=e.pendingProps,s=e.memoizedState,r=s.element,A1(t,e),Ru(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ss(Error(P(423)),e),e=Kv(t,e,i,n,r);break e}else if(i!==r){r=Ss(Error(P(424)),e),e=Kv(t,e,i,n,r);break e}else for(Pt=pi(e.stateNode.containerInfo.firstChild),xt=e,re=!0,Yt=null,n=k1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),i===r){e=Bn(t,e,n);break e}ot(t,e,i,n)}e=e.child}return e;case 5:return N1(e),t===null&&Sf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,yf(i,r)?o=null:s!==null&&yf(i,s)&&(e.flags|=32),nS(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&Sf(e),null;case 13:return rS(t,e,n);case 4:return vm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ws(e,null,i,n):ot(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gt(i,r),zv(t,e,i,r,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ee(xu,i._currentValue),i._currentValue=o,s!==null)if(nn(s.value,o)){if(s.children===r.children&&!vt.current){e=Bn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=On(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ot(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ss(e,n),r=$t(r),i=i(r),e.flags|=1,ot(t,e,i,n),e.child;case 14:return i=e.type,r=Gt(i,e.pendingProps),r=Gt(i.type,r),Wv(t,e,i,r,n);case 15:return eS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gt(i,r),nu(t,e),e.tag=1,_t(i)?(t=!0,Cu(e)):t=!1,ss(e,n),Q1(e,i,r),Pf(e,i,r,n),kf(null,e,i,!0,t,n);case 19:return sS(t,e,n);case 22:return tS(t,e,n)}throw Error(P(156,e.tag))};function ES(t,e){return qE(t,e)}function NA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,e,n,i){return new NA(t,e,n,i)}function Dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OA(t){if(typeof t=="function")return Dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jp)return 11;if(t===Zp)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function su(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fr:return ar(n.children,r,s,e);case Qp:o=8,r|=8;break;case qd:return t=Ft(12,n,e,r|2),t.elementType=qd,t.lanes=s,t;case Yd:return t=Ft(13,n,e,r),t.elementType=Yd,t.lanes=s,t;case Xd:return t=Ft(19,n,e,r),t.elementType=Xd,t.lanes=s,t;case NE:return Oc(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:o=10;break e;case AE:o=9;break e;case Jp:o=11;break e;case Zp:o=14;break e;case ei:o=16,i=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ft(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ar(t,e,n,i){return t=Ft(7,t,i,e),t.lanes=n,t}function Oc(t,e,n,i){return t=Ft(22,t,i,e),t.elementType=NE,t.lanes=n,t.stateNode={isHidden:!1},t}function sd(t,e,n){return t=Ft(6,t,null,e),t.lanes=n,t}function od(t,e,n){return e=Ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vh(0),this.expirationTimes=Vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lm(t,e,n,i,r,s,o,a,l){return t=new DA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ft(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(s),t}function LA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function SS(t){if(!t)return Ci;t=t._reactInternals;e:{if(Pr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(_t(n))return S1(t,n,e)}return e}function TS(t,e,n,i,r,s,o,a,l){return t=Lm(n,i,!0,t,r,s,o,a,l),t.context=SS(null),n=t.current,i=lt(),r=yi(n),s=On(i,r),s.callback=e??null,mi(n,s,r),t.current.lanes=r,Ua(t,r,i),wt(t,i),t}function Dc(t,e,n,i){var r=e.current,s=lt(),o=yi(r);return n=SS(n),e.context===null?e.context=n:e.pendingContext=n,e=On(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=mi(r,e,o),t!==null&&(Zt(t,r,o,s),Zl(t,r,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bm(t,e){n_(t,e),(t=t.alternate)&&n_(t,e)}function bA(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mm(t){this._internalRoot=t}Lc.prototype.render=Mm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Dc(t,e,null,null)};Lc.prototype.unmount=Mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mr(function(){Dc(null,t,null,null)}),e[Vn]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=t1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&i1(t)}};function Fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i_(){}function MA(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Fu(o);s.call(u)}}var o=TS(e,i,t,0,null,!1,!1,"",i_);return t._reactRootContainer=o,t[Vn]=o.current,ta(t.nodeType===8?t.parentNode:t),mr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Fu(l);a.call(u)}}var l=Lm(t,0,!1,null,null,!1,!1,"",i_);return t._reactRootContainer=l,t[Vn]=l.current,ta(t.nodeType===8?t.parentNode:t),mr(function(){Dc(e,l,n,i)}),l}function Mc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Fu(o);a.call(l)}}Dc(e,o,t,r)}else o=MA(n,e,t,r,i);return Fu(o)}ZE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_o(e.pendingLanes);n!==0&&(nm(e,n|1),wt(e,ge()),!(H&6)&&(Ts=ge()+500,Oi()))}break;case 13:mr(function(){var i=$n(t,1);if(i!==null){var r=lt();Zt(i,t,1,r)}}),bm(t,1)}};im=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=lt();Zt(e,t,134217728,n)}bm(t,134217728)}};e1=function(t){if(t.tag===13){var e=yi(t),n=$n(t,e);if(n!==null){var i=lt();Zt(n,t,e,i)}bm(t,e)}};t1=function(){return Y};n1=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};af=function(t,e,n){switch(e){case"input":if(Zd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ic(i);if(!r)throw Error(P(90));DE(i),Zd(i,r)}}}break;case"textarea":bE(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};BE=Am;zE=mr;var FA={usingClientEntryPoint:!1,Events:[$a,$r,Ic,VE,$E,Am]},ro={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jA={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KE(t),t===null?null:t.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||bA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Sc=Ml.inject(jA),fn=Ml}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FA;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(e))throw Error(P(200));return LA(t,e,null,n)};At.createRoot=function(t,e){if(!Fm(t))throw Error(P(299));var n=!1,i="",r=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Lm(t,1,!1,null,null,n,!1,i,r),t[Vn]=e.current,ta(t.nodeType===8?t.parentNode:t),new Mm(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=KE(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return mr(t)};At.hydrate=function(t,e,n){if(!bc(e))throw Error(P(200));return Mc(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!Fm(t))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TS(e,null,t,1,n??null,r,!1,s,o),t[Vn]=e.current,ta(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Lc(e)};At.render=function(t,e,n){if(!bc(e))throw Error(P(200));return Mc(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!bc(t))throw Error(P(40));return t._reactRootContainer?(mr(function(){Mc(null,null,t,!1,function(){t._reactRootContainer=null,t[Vn]=null})}),!0):!1};At.unstable_batchedUpdates=Am;At.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!bc(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Mc(t,e,n,!1,i)};At.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),PE.exports=At;var UA=PE.exports,r_=UA;Kd.createRoot=r_.createRoot,Kd.hydrateRoot=r_.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ca.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const s_="popstate";function VA(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Vf("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ju(r)}return BA(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $A(){return Math.random().toString(36).substr(2,8)}function o_(t,e){return{usr:t.state,key:t.key,idx:e}}function Vf(t,e,n,i){return n===void 0&&(n=null),ca({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||i||$A()})}function ju(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function BA(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ui.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ca({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=ui.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:m})}function d(E,m){a=ui.Push;let f=Vf(_.location,E,m);n&&n(f,E),u=c()+1;let y=o_(f,u),S=_.createHref(f);try{o.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(S)}s&&l&&l({action:a,location:_.location,delta:1})}function p(E,m){a=ui.Replace;let f=Vf(_.location,E,m);n&&n(f,E),u=c();let y=o_(f,u),S=_.createHref(f);o.replaceState(y,"",S),s&&l&&l({action:a,location:_.location,delta:0})}function g(E){let m=r.location.origin!=="null"?r.location.origin:r.location.href,f=typeof E=="string"?E:ju(E);return f=f.replace(/ $/,"%20"),_e(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let _={get action(){return a},get location(){return t(r,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(s_,h),l=E,()=>{r.removeEventListener(s_,h),l=null}},createHref(E){return e(r,E)},createURL:g,encodeLocation(E){let m=g(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(E){return o.go(E)}};return _}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function zA(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?js(e):e,r=jm(i.pathname||"/",n);if(r==null)return null;let s=xS(t);WA(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=nN(r);o=ZA(s[a],l)}return o}function xS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_e(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=_i([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:QA(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of kS(s.path))r(s,o,l)}),e}function kS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=kS(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function WA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HA=/^:[\w-]+$/,KA=3,GA=2,qA=1,YA=10,XA=-2,l_=t=>t==="*";function QA(t,e){let n=t.split("/"),i=n.length;return n.some(l_)&&(i+=XA),e&&(i+=GA),n.filter(r=>!l_(r)).reduce((r,s)=>r+(HA.test(s)?KA:s===""?qA:YA),i)}function JA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function ZA(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=eN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let h=a.route;s.push({params:i,pathname:_i([r,c.pathname]),pathnameBase:oN(_i([r,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(r=_i([r,c.pathnameBase]))}return s}function eN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function tN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function nN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function iN(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?js(t):t;return{pathname:n?n.startsWith("/")?n:rN(n,e):e,search:aN(i),hash:lN(r)}}function rN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ad(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RS(t,e){let n=sN(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function AS(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=js(t):(r=ca({},t),_e(!r.pathname||!r.pathname.includes("?"),ad("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),ad("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),ad("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=iN(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _i=t=>t.join("/").replace(/\/\/+/g,"/"),oN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NS=["post","put","patch","delete"];new Set(NS);const cN=["get",...NS];new Set(cN);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ha.apply(this,arguments)}const Um=w.createContext(null),hN=w.createContext(null),Ir=w.createContext(null),Fc=w.createContext(null),Di=w.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=w.createContext(null);function dN(t,e){let{relative:n}=e===void 0?{}:e;za()||_e(!1);let{basename:i,navigator:r}=w.useContext(Ir),{hash:s,pathname:o,search:a}=bS(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:_i([i,o])),r.createHref({pathname:l,search:a,hash:s})}function za(){return w.useContext(Fc)!=null}function jc(){return za()||_e(!1),w.useContext(Fc).location}function DS(t){w.useContext(Ir).static||w.useLayoutEffect(t)}function Vm(){let{isDataRoute:t}=w.useContext(Di);return t?PN():fN()}function fN(){za()||_e(!1);let t=w.useContext(Um),{basename:e,future:n,navigator:i}=w.useContext(Ir),{matches:r}=w.useContext(Di),{pathname:s}=jc(),o=JSON.stringify(RS(r,n.v7_relativeSplatPath)),a=w.useRef(!1);return DS(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let h=AS(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:_i([e,h.pathname])),(c.replace?i.replace:i.push)(h,c.state,c)},[e,i,o,s,t])}function LS(){let{matches:t}=w.useContext(Di),e=t[t.length-1];return e?e.params:{}}function bS(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=w.useContext(Ir),{matches:r}=w.useContext(Di),{pathname:s}=jc(),o=JSON.stringify(RS(r,i.v7_relativeSplatPath));return w.useMemo(()=>AS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pN(t,e){return mN(t,e)}function mN(t,e,n,i){za()||_e(!1);let{navigator:r}=w.useContext(Ir),{matches:s}=w.useContext(Di),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=jc(),c;if(e){var h;let E=typeof e=="string"?js(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||_e(!1),c=E}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=zA(t,{pathname:p}),_=wN(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:_i([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:_i([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,i);return e&&_?w.createElement(Fc.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ui.Pop}},_):_}function gN(){let t=CN(),e=uN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:r},n):null,null)}const yN=w.createElement(gN,null);class vN extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Di.Provider,{value:this.props.routeContext},w.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _N(t){let{routeContext:e,match:n,children:i}=t,r=w.useContext(Um);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Di.Provider,{value:e},i)}function wN(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||_e(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let p,g=!1,_=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||yN,l&&(u<0&&d===0?(IN("route-fallback",!1),g=!0,E=null):u===d&&(g=!0,E=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,d+1)),f=()=>{let y;return p?y=_:g?y=E:h.route.Component?y=w.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,w.createElement(_N,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?w.createElement(vN,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var MS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MS||{}),Uu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Uu||{});function EN(t){let e=w.useContext(Um);return e||_e(!1),e}function SN(t){let e=w.useContext(hN);return e||_e(!1),e}function TN(t){let e=w.useContext(Di);return e||_e(!1),e}function FS(t){let e=TN(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function CN(){var t;let e=w.useContext(OS),n=SN(Uu.UseRouteError),i=FS(Uu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function PN(){let{router:t}=EN(MS.UseNavigateStable),e=FS(Uu.UseNavigateStable),n=w.useRef(!1);return DS(()=>{n.current=!0}),w.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ha({fromRouteId:e},s)))},[t,e])}const u_={};function IN(t,e,n){!e&&!u_[t]&&(u_[t]=!0)}function Kt(t){_e(!1)}function xN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ui.Pop,navigator:s,static:o=!1,future:a}=t;za()&&_e(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:ha({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=js(i));let{pathname:c="/",search:h="",hash:d="",state:p=null,key:g="default"}=i,_=w.useMemo(()=>{let E=jm(c,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:p,key:g},navigationType:r}},[l,c,h,d,p,g,r]);return _==null?null:w.createElement(Ir.Provider,{value:u},w.createElement(Fc.Provider,{children:n,value:_}))}function kN(t){let{children:e,location:n}=t;return pN($f(e),n)}new Promise(()=>{});function $f(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(i,r)=>{if(!w.isValidElement(i))return;let s=[...e,r];if(i.type===w.Fragment){n.push.apply(n,$f(i.props.children,s));return}i.type!==Kt&&_e(!1),!i.props.index||!i.props.children||_e(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=$f(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bf.apply(this,arguments)}function RN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function AN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NN(t,e){return t.button===0&&(!e||e==="_self")&&!AN(t)}const ON=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DN="6";try{window.__reactRouterVersion=DN}catch{}const LN="startTransition",c_=kk[LN];function bN(t){let{basename:e,children:n,future:i,window:r}=t,s=w.useRef();s.current==null&&(s.current=VA({window:r,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=w.useCallback(h=>{u&&c_?c_(()=>l(h)):l(h)},[l,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(xN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const MN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,as=w.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=RN(e,ON),{basename:p}=w.useContext(Ir),g,_=!1;if(typeof u=="string"&&FN.test(u)&&(g=u,MN))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),T=jm(S.pathname,p);S.origin===y.origin&&T!=null?u=T+S.search+S.hash:_=!0}catch{}let E=dN(u,{relative:r}),m=jN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r,unstable_viewTransition:h});function f(y){i&&i(y),y.defaultPrevented||m(y)}return w.createElement("a",Bf({},d,{href:g||E,onClick:_||s?i:f,ref:n,target:l}))});var h_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h_||(h_={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function jN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Vm(),u=jc(),c=bS(t,{relative:o});return w.useCallback(h=>{if(NN(h,n)){h.preventDefault();let d=i!==void 0?i:ju(u)===ju(c);l(t,{replace:d,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,i,r,n,t,s,o,a])}const UN=()=>v.jsx(v.Fragment,{children:v.jsxs("div",{className:"gallery",children:[v.jsx("div",{className:"item",children:v.jsxs(as,{to:"/dancesessions",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://www.shutterstock.com/image-photo/group-energetic-hiphop-dancers-focused-600nw-702288490.jpg",alt:"circle"})}),v.jsx("p",{children:"Dance Group"})]})}),v.jsxs("div",{className:"item",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://www.constantcontact.com/blog/wp-content/uploads/2021/06/Social-4.jpg",alt:"circle"})}),v.jsx("p",{children:"Yoga"})]}),v.jsxs("div",{className:"item",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://lh3.googleusercontent.com/p/AF1QipN9jl0KJ6fk3h6-XdjyfxW1dBmavQXFvTfaN_na=s1360-w1360-h1020",alt:"circle"})}),v.jsx("p",{children:"Batminton"})]}),v.jsx("div",{className:"item",children:v.jsxs(as,{to:"/foosball",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://image1.masterfile.com/getImage/NjQ5LTA3MDYzNTUyZW4uMDAwMDAwMDA=APu48q/649-07063552en_Masterfile.jpg",alt:"circle"})}),v.jsx("p",{children:"Foosball"})]})})]})});var f_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I=function(t,e){if(!t)throw Us(e)},Us=function(t){return new Error("Firebase Database ("+jS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},VN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),i.push(n[c],n[h],n[d],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(US(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new $N;const d=s<<2|a>>4;if(i.push(d),u!==64){const p=a<<4&240|u>>2;if(i.push(p),h!==64){const g=u<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(t){const e=US(t);return $m.encodeByteArray(e,!0)},Vu=function(t){return VS(t).replace(/\./g,"")},$u=function(t){try{return $m.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){return $S(void 0,t)}function $S(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zN(n)||(t[n]=$S(t[n],e[n]));return t}function zN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=()=>WN().__FIREBASE_DEFAULTS__,KN=()=>{if(typeof process>"u"||typeof f_>"u")return;const t=f_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$u(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return HN()||KN()||GN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=Bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zS=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},WS=()=>{var t;return(t=Bm())===null||t===void 0?void 0:t.config},HS=t=>{var e;return(e=Bm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vu(JSON.stringify(n)),Vu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function qN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YN(){const t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qS(){return jS.NODE_ADMIN===!0}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="FirebaseError";class qn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=JN,Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?ZN(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qn(r,a,i)}}function ZN(t,e){return t.replace(eO,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const eO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){return JSON.parse(t)}function Re(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=da($u(s[0])||""),n=da($u(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},tO=function(t){const e=YS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nO=function(t){const e=YS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function zu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(p_(s)&&p_(o)){if(!zu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function So(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(r<<5|r>>>27)+u+l+c+i[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=d}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function rO(t,e){const n=new sO(t,e);return n.subscribe.bind(n)}class sO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");oO(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=ld),r.error===void 0&&(r.error=ld),r.complete===void 0&&(r.complete=ld);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ld(){}function Uc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,I(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Vc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Wa;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cO(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uO(t){return t===qi?void 0:t}function cO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(K||(K={}));const dO={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},fO=K.INFO,pO={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},mO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=pO[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $c{constructor(e){this.name=e,this._logLevel=fO,this._logHandler=mO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}}const gO=(t,e)=>e.some(n=>t instanceof n);let m_,g_;function yO(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vO(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Wf=new WeakMap,QS=new WeakMap,ud=new WeakMap,Wm=new WeakMap;function _O(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function wO(t){if(Wf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wf.set(t,e)}let Hf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EO(t){Hf=t(Hf)}function SO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(cd(this),e,...n);return QS.set(i,e.sort?e.sort():[e]),wi(i)}:vO().includes(t)?function(...e){return t.apply(cd(this),e),wi(XS.get(this))}:function(...e){return wi(t.apply(cd(this),e))}}function TO(t){return typeof t=="function"?SO(t):(t instanceof IDBTransaction&&wO(t),gO(t,yO())?new Proxy(t,Hf):t)}function wi(t){if(t instanceof IDBRequest)return _O(t);if(ud.has(t))return ud.get(t);const e=TO(t);return e!==t&&(ud.set(t,e),Wm.set(e,t)),e}const cd=t=>Wm.get(t);function CO(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=wi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(wi(o.result),l.oldVersion,l.newVersion,wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],hd=new Map;function y_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=IO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||PO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return hd.set(e,s),s}EO(t=>({...t,get:(e,n,i)=>y_(e,n)||t.get(e,n,i),has:(e,n)=>!!y_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",v_="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new $c("@firebase/app"),RO="@firebase/app-compat",AO="@firebase/analytics-compat",NO="@firebase/analytics",OO="@firebase/app-check-compat",DO="@firebase/app-check",LO="@firebase/auth",bO="@firebase/auth-compat",MO="@firebase/database",FO="@firebase/database-compat",jO="@firebase/functions",UO="@firebase/functions-compat",VO="@firebase/installations",$O="@firebase/installations-compat",BO="@firebase/messaging",zO="@firebase/messaging-compat",WO="@firebase/performance",HO="@firebase/performance-compat",KO="@firebase/remote-config",GO="@firebase/remote-config-compat",qO="@firebase/storage",YO="@firebase/storage-compat",XO="@firebase/firestore",QO="@firebase/firestore-compat",JO="firebase",ZO="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",eD={[Kf]:"fire-core",[RO]:"fire-core-compat",[NO]:"fire-analytics",[AO]:"fire-analytics-compat",[DO]:"fire-app-check",[OO]:"fire-app-check-compat",[LO]:"fire-auth",[bO]:"fire-auth-compat",[MO]:"fire-rtdb",[FO]:"fire-rtdb-compat",[jO]:"fire-fn",[UO]:"fire-fn-compat",[VO]:"fire-iid",[$O]:"fire-iid-compat",[BO]:"fire-fcm",[zO]:"fire-fcm-compat",[WO]:"fire-perf",[HO]:"fire-perf-compat",[KO]:"fire-rc",[GO]:"fire-rc-compat",[qO]:"fire-gcs",[YO]:"fire-gcs-compat",[XO]:"fire-fst",[QO]:"fire-fst-compat","fire-js":"fire-js",[JO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,tD=new Map,qf=new Map;function __(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yr(t){const e=t.name;if(qf.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,t);for(const n of Wu.values())__(n,t);for(const n of tD.values())__(n,t);return!0}function Bc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jt(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Ha("app","Firebase",nD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=ZO;function $s(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ei.create("bad-app-name",{appName:String(r)});if(n||(n=WS()),!n)throw Ei.create("no-options");const s=Wu.get(r);if(s){if(zu(n,s.options)&&zu(i,s.config))return s;throw Ei.create("duplicate-app",{appName:r})}const o=new hO(r);for(const l of qf.values())o.addComponent(l);const a=new iD(n,i,o);return Wu.set(r,a),a}function Hm(t=Gf){const e=Wu.get(t);if(!e&&t===Gf&&WS())return $s();if(!e)throw Ei.create("no-app",{appName:t});return e}function mn(t,e,n){var i;let r=(i=eD[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(a.join(" "));return}yr(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",sD=1,fa="firebase-heartbeat-store";let dd=null;function JS(){return dd||(dd=CO(rD,sD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),dd}async function oD(t){try{const n=(await JS()).transaction(fa),i=await n.objectStore(fa).get(ZS(t));return await n.done,i}catch(e){if(e instanceof qn)gr.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function w_(t,e){try{const i=(await JS()).transaction(fa,"readwrite");await i.objectStore(fa).put(e,ZS(t)),await i.done}catch(n){if(n instanceof qn)gr.warn(n.message);else{const i=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(i.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,lD=30*24*60*60*1e3;class uD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E_(),{heartbeatsToSend:i,unsentEntries:r}=cD(this._heartbeatsCache.heartbeats),s=Vu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function E_(){return new Date().toISOString().substring(0,10)}function cD(t,e=aD){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),S_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),S_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class hD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){yr(new Pi("platform-logger",e=>new xO(e),"PRIVATE")),yr(new Pi("heartbeat",e=>new uD(e),"PRIVATE")),mn(Kf,v_,t),mn(Kf,v_,"esm2017"),mn("fire-js","")}dD("");var T_={};const C_="@firebase/database",P_="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eT="";function fD(t){eT=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Re(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:da(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pD(e)}}catch{}return new mD},tr=tT("localStorage"),Yf=tT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new $c("@firebase/database"),gD=function(){let t=1;return function(){return t++}}(),nT=function(t){const e=aO(t),n=new iO;n.update(e);const i=n.digest();return $m.encodeByteArray(i)},Ka=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ka.apply(null,i):typeof i=="object"?e+=Re(i):e+=i,e+=" "}return e};let lr=null,I_=!0;const yD=function(t,e){I(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ls.logLevel=K.VERBOSE,lr=ls.log.bind(ls),e&&Yf.set("logging_enabled",!0)):typeof t=="function"?lr=t:(lr=null,Yf.remove("logging_enabled"))},je=function(...t){if(I_===!0&&(I_=!1,lr===null&&Yf.get("logging_enabled")===!0&&yD(!0)),lr){const e=Ka.apply(null,t);lr(e)}},Ga=function(t){return function(...e){je(t,...e)}},Xf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ka(...t);ls.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ka(...t)}`;throw ls.error(e),new Error(e)},ut=function(...t){const e="FIREBASE WARNING: "+Ka(...t);ls.warn(e)},vD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Km=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_D=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ps="[MIN_NAME]",vr="[MAX_NAME]",kr=function(t,e){if(t===e)return 0;if(t===Ps||e===vr)return-1;if(e===Ps||t===vr)return 1;{const n=x_(t),i=x_(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},wD=function(t,e){return t===e?0:t<e?-1:1},so=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Re(e))},Gm=function(t){if(typeof t!="object"||t===null)return Re(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Re(e[i]),n+=":",n+=Gm(t[e[i]]);return n+="}",n},iT=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rT=function(t){I(!Km(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},ED=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const CD=new RegExp("^-?(0*)\\d{1,10}$"),PD=-2147483648,ID=2147483647,x_=function(t){if(CD.test(t)){const e=Number(t);if(e>=PD&&e<=ID)return e}return null},Bs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},xD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(e)}}class us{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}us.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="5",sT="v",oT="s",aT="r",lT="f",uT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cT="ls",hT="p",Qf="ac",dT="websocket",fT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function AD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function mT(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let i;if(e===dT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AD(t)&&(n.ns=t.namespace);const r=[];return ze(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.counters_={}}incrementCounter(e,n=1){wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return BN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd={},pd={};function Ym(t){const e=t.toString();return fd[e]||(fd[e]=new ND),fd[e]}function OD(t,e){const n=t.toString();return pd[n]||(pd[n]=e()),pd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Bs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="start",LD="close",bD="pLPCommand",MD="pRTLPCB",gT="id",yT="pw",vT="ser",FD="cb",jD="seg",UD="ts",VD="d",$D="dframe",_T=1870,wT=30,BD=_T-wT,zD=25e3,WD=3e4;class qr{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ga(e),this.stats_=Ym(n),this.urlFn=l=>(this.appCheckToken&&(l[Qf]=this.appCheckToken),mT(n,fT,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WD)),_D(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xm((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===k_)this.id=a,this.password=l;else if(o===LD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[k_]="t",i[vT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[FD]=this.scriptTagHolder.uniqueCallbackIdentifier),i[sT]=qm,this.transportSessionId&&(i[oT]=this.transportSessionId),this.lastSessionId&&(i[cT]=this.lastSessionId),this.applicationId&&(i[hT]=this.applicationId),this.appCheckToken&&(i[Qf]=this.appCheckToken),typeof location<"u"&&location.hostname&&uT.test(location.hostname)&&(i[aT]=lT);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qr.forceAllow_=!0}static forceDisallow(){qr.forceDisallow_=!0}static isAvailable(){return qr.forceAllow_?!0:!qr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ED()&&!SD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Re(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=VS(n),r=iT(i,BD);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[$D]="t",i[gT]=e,i[yT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Re(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xm{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gD(),window[bD+this.uniqueCallbackIdentifier]=e,window[MD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){je("frame writing exception"),a.stack&&je(a.stack),je(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||je("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[gT]=this.myID,e[yT]=this.myPW,e[vT]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wT+i.length<=_T;){const o=this.pendingSegs.shift();i=i+"&"+jD+r+"="+o.seg+"&"+UD+r+"="+o.ts+"&"+VD+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(zD)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=16384,KD=45e3;let Hu=null;typeof MozWebSocket<"u"?Hu=MozWebSocket:typeof WebSocket<"u"&&(Hu=WebSocket);class Xt{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ga(this.connId),this.stats_=Ym(n),this.connURL=Xt.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[sT]=qm,typeof location<"u"&&location.hostname&&uT.test(location.hostname)&&(o[aT]=lT),n&&(o[oT]=n),i&&(o[cT]=i),r&&(o[Qf]=r),s&&(o[hT]=s),mT(e,dT,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let i;qS(),this.mySock=new Hu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Hu!==null&&!Xt.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=da(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(I(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Re(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=iT(n,HD);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KD))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[qr,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Xt&&Xt.isAvailable();let i=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xt];else{const r=this.transports_=[];for(const s of pa.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);pa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=6e4,qD=5e3,YD=10*1024,XD=100*1024,md="t",R_="d",QD="s",A_="r",JD="e",N_="o",O_="a",D_="n",L_="p",ZD="h";class e2{constructor(e,n,i,r,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ga("c:"+this.id+":"),this.transportManager_=new pa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(md in e){const n=e[md];n===O_?this.upgradeIfSecondaryHealthy_():n===A_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===N_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=so("t",e),i=so("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:O_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:D_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=so("t",e),i=so("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=so(md,e);if(R_ in e){const i=e[R_];if(n===ZD){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===D_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QD?this.onConnectionShutdown_(i):n===A_?this.onReset_(i):n===JD?Xf("Server Error: "+i):n===N_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qm!==i&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends ST{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ku}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=32,M_=768;class Q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function G(){return new Q("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ii(t){return t.pieces_.length-t.pieceNum_}function Z(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function Qm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function t2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ma(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function TT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function ce(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Q)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Q(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){const n=V(t),i=V(e);if(n===null)return e;if(n===i)return gt(Z(t),Z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function n2(t,e){const n=ma(t,0),i=ma(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=kr(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function Jm(t,e){if(Ii(t)!==Ii(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ut(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ii(t)>Ii(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class i2{constructor(e,n){this.errorPrefix_=n,this.parts_=ma(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Vc(this.parts_[i]);CT(this)}}function r2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vc(e),CT(t)}function s2(t){const e=t.parts_.pop();t.byteLength_-=Vc(e),t.parts_.length>0&&(t.byteLength_-=1)}function CT(t){if(t.byteLength_>M_)throw new Error(t.errorPrefix_+"has a key path longer than "+M_+" bytes ("+t.byteLength_+").");if(t.parts_.length>b_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b_+") or object contains a cycle "+Yi(t))}function Yi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends ST{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Zm}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=1e3,o2=60*5*1e3,F_=30*1e3,a2=1.3,l2=3e4,u2="server_kill",j_=3;class Dn extends ET{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Dn.nextPersistentConnectionId_++,this.log_=Ga("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oo,this.maxReconnectDelay_=o2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!qS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Re(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Wa,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Dn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&wn(e,"w")){const i=Cs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tO(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),I(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Re(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xf("Unrecognized action received from server: "+Re(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>l2&&(this.reconnectDelay_=oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*a2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Dn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(h){I(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?je("getToken() completed but was canceled"):(je("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new e2(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,p=>{ut(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(u2)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ut(h),l())}}}interrupt(e){je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zf(this.interruptReasons_)&&(this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Gm(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Q(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=j_&&(this.reconnectDelay_=F_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=j_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+eT.replace(/\./g,"-")]=1,zm()?e["framework.cordova"]=1:GS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ku.getInstance().currentlyOnline();return zf(this.interruptReasons_)&&e}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new $(Ps,e),r=new $(Ps,n);return this.compare(i,r)!==0}minPost(){return $.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;class PT extends zc{static get __EMPTY_NODE(){return Fl}static set __EMPTY_NODE(e){Fl=e}compare(e,n){return kr(e.name,n.name)}isDefinedOn(e){throw Us("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $.MIN}maxPost(){return new $(vr,Fl)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new $(e,Fl)}toString(){return".key"}}const cs=new PT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xe{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??xe.RED,this.left=r??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(e,n,i,r,s){return new xe(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xe.RED=!0;xe.BLACK=!1;class c2{copy(e,n,i,r,s){return this}insert(e,n,i){return new xe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yt{constructor(e,n=yt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xe.BLACK,null,null))}remove(e){return new yt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jl(this.root_,null,this.comparator_,!0,e)}}yt.EMPTY_NODE=new c2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){return kr(t.name,e.name)}function eg(t,e){return kr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf;function d2(t){Jf=t}const IT=function(t){return typeof t=="number"?"number:"+rT(t):"string:"+t},xT=function(t){if(t.isLeafNode()){const e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else I(t===Jf||t.isEmpty(),"priority of unexpected type.");I(t===Jf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U_;class Pe{constructor(e,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xT(this.priorityNode_)}static set __childrenNodeConstructor(e){U_=e}static get __childrenNodeConstructor(){return U_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:V(e)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=V(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(I(i!==".priority"||Ii(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+IT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rT(this.value_):e+=this.value_,this.lazyHash_=nT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pe.__childrenNodeConstructor?-1:(I(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Pe.VALUE_TYPE_ORDER.indexOf(n),s=Pe.VALUE_TYPE_ORDER.indexOf(i);return I(r>=0,"Unknown leaf type: "+n),I(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT,RT;function f2(t){kT=t}function p2(t){RT=t}class m2 extends zc{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?kr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(vr,new Pe("[PRIORITY-POST]",RT))}makePost(e,n){const i=kT(e);return new $(n,new Pe("[PRIORITY-POST]",i))}toString(){return".priority"}}const he=new m2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=Math.log(2);class y2{constructor(e){const n=s=>parseInt(Math.log(s)/g2,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gu=function(t,e,n,i){t.sort(e);const r=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new xe(d,h.node,xe.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=r(l,p),_=r(p+1,u);return h=t[p],d=n?n(h):h,new xe(d,h.node,xe.BLACK,g,_)}},s=function(l){let u=null,c=null,h=t.length;const d=function(g,_){const E=h-g,m=h;h-=g;const f=r(E+1,m),y=t[E],S=n?n(y):y;p(new xe(S,y.node,_,null,f))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));_?d(E,xe.BLACK):(d(E,xe.BLACK),d(E,xe.RED))}return c},o=new y2(t.length),a=s(o);return new yt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;const Nr={};class In{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return I(Nr&&he,"ChildrenNode.ts has not been loaded"),gd=gd||new In({".priority":Nr},{".priority":he}),gd}get(e){const n=Cs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yt?n:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,n){I(e!==cs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator($.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Gu(i,e.getCompare()):a=Nr;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new In(c,u)}addToIndexes(e,n){const i=Bu(this.indexes_,(r,s)=>{const o=Cs(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),r===Nr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator($.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Gu(a,o.getCompare())}else return Nr;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new $(e.name,a))),l.insert(e,e.node)}});return new In(i,this.indexSet_)}removeFromIndexes(e,n){const i=Bu(this.indexes_,r=>{if(r===Nr)return r;{const s=n.get(e.name);return s?r.remove(new $(e.name,s)):r}});return new In(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao;class b{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xT(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ao||(ao=new b(new yt(eg),null,In.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ao}updatePriority(e){return this.children_.isEmpty()?this:new b(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ao:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(Z(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(I(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new $(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?ao:this.priorityNode_;return new b(r,o,s)}}updateChild(e,n){const i=V(e);if(i===null)return n;{I(V(e)!==".priority"||Ii(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Z(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(he,(o,a)=>{n[o]=a.val(e),i++,s&&b.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+IT(this.getPriority().val())+":"),this.forEachChild(he,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":nT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new $(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,$.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,$.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qa?-1:0}withIndex(e){if(e===cs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new b(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(he),r=n.getIterator(he);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===cs?null:this.indexMap_.get(e.toString())}}b.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class v2 extends b{constructor(){super(new yt(eg),b.EMPTY_NODE,In.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return b.EMPTY_NODE}isEmpty(){return!1}}const qa=new v2;Object.defineProperties($,{MIN:{value:new $(Ps,b.EMPTY_NODE)},MAX:{value:new $(vr,qa)}});PT.__EMPTY_NODE=b.EMPTY_NODE;Pe.__childrenNodeConstructor=b;d2(qa);p2(qa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=!0;function ke(t,e=null){if(t===null)return b.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pe(n,ke(e))}if(!(t instanceof Array)&&_2){const n=[];let i=!1;if(ze(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ke(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new $(o,l)))}}),n.length===0)return b.EMPTY_NODE;const s=Gu(n,h2,o=>o.name,eg);if(i){const o=Gu(n,he.getCompare());return new b(s,ke(e),new In({".priority":o},{".priority":he}))}else return new b(s,ke(e),In.Default)}else{let n=b.EMPTY_NODE;return ze(t,(i,r)=>{if(wn(t,i)&&i.substring(0,1)!=="."){const s=ke(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(ke(e))}}f2(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends zc{constructor(e){super(),this.indexPath_=e,I(!B(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?kr(e.name,n.name):s}makePost(e,n){const i=ke(e),r=b.EMPTY_NODE.updateChild(this.indexPath_,i);return new $(n,r)}maxPost(){const e=b.EMPTY_NODE.updateChild(this.indexPath_,qa);return new $(vr,e)}toString(){return ma(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends zc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?kr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(e,n){const i=ke(e);return new $(n,i)}toString(){return".value"}}const S2=new E2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){return{type:"value",snapshotNode:t}}function Is(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ga(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ya(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function T2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ga(n,a)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Is(n,i)):o.trackChildChange(ya(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(he,(r,s)=>{n.hasChild(r)||i.trackChildChange(ga(r,s))}),n.isLeafNode()||n.forEachChild(he,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(ya(r,s,o))}else i.trackChildChange(Is(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?b.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.indexedFilter_=new tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=va.getStartPost_(e),this.endPost_=va.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new $(n,i))||(i=b.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=b.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(b.EMPTY_NODE);const s=this;return n.forEachChild(he,(o,a)=>{s.matches(new $(o,a))||(r=r.updateImmediateChild(o,b.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new va(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new $(n,i))||(i=b.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=b.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=b.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(b.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,b.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,p)=>h(p,d)}else o=this.index_.getCompare();const a=e;I(a.numChildren()===this.limit_,"");const l=new $(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=r.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:o(d,l);if(c&&!i.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(ya(n,i,h)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(ga(n,h));const _=a.updateImmediateChild(n,b.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Is(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return i.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(ga(u.name,u.node)),s.trackChildChange(Is(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,b.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ps}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){const e=new ng;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function P2(t){return t.loadsAllData()?new tg(t.getIndex()):t.hasLimit()?new C2(t):new va(t)}function V_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===he?n="$priority":t.index_===S2?n="$value":t.index_===cs?n="$key":(I(t.index_ instanceof w2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Re(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Re(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Re(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Re(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Re(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==he&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends ET{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ga("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qu.getListenId_(e,i),a={};this.listens_[o]=a;const l=V_(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,i),Cs(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",r(d,null)}})}unlisten(e,n){const i=qu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=V_(e._queryParams),i=e._path.toString(),r=new Wa;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=da(a.responseText)}catch{ut("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&ut("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.rootNode_=b.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(){return{value:null,children:new Map}}function NT(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=V(e);t.children.has(i)||t.children.set(i,Yu());const r=t.children.get(i);e=Z(e),NT(r,e,n)}}function Zf(t,e,n){t.value!==null?n(e,t.value):x2(t,(i,r)=>{const s=new Q(e.toString()+"/"+i);Zf(r,s,n)})}function x2(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ze(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=10*1e3,R2=30*1e3,A2=5*60*1e3;class N2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new k2(e);const i=B_+(R2-B_)*Math.random();Fo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ze(e,(r,s)=>{s>0&&wn(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*A2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function ig(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Qt.ACK_USER_WRITE,this.source=ig()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Q(e));return new Xu(G(),n,this.revert)}}else return I(V(this.path)===e,"operationForChild called for unrelated child."),new Xu(Z(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.source=e,this.path=n,this.type=Qt.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new _a(this.source,G()):new _a(this.source,Z(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Qt.OVERWRITE}operationForChild(e){return B(this.path)?new _r(this.source,G(),this.snap.getImmediateChild(e)):new _r(this.source,Z(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Qt.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new _r(this.source,G(),n.value):new xs(this.source,G(),n)}else return I(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xs(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function D2(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(T2(o.childName,o.snapshotNode))}),lo(t,r,"child_removed",e,i,n),lo(t,r,"child_added",e,i,n),lo(t,r,"child_moved",s,i,n),lo(t,r,"child_changed",e,i,n),lo(t,r,"value",e,i,n),r}function lo(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>b2(t,a,l)),o.forEach(a=>{const l=L2(t,a,s);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function L2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b2(t,e,n){if(e.childName==null||n.childName==null)throw Us("Should only compare child_ events.");const i=new $(e.childName,e.snapshotNode),r=new $(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t,e){return{eventCache:t,serverCache:e}}function jo(t,e,n,i){return Wc(new wr(e,n,i),t.serverCache)}function OT(t,e,n,i){return Wc(t.eventCache,new wr(e,n,i))}function ep(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd;const M2=()=>(yd||(yd=new yt(wD)),yd);class J{constructor(e,n=M2()){this.value=e,this.children=n}static fromObject(e){let n=new J(null);return ze(e,(i,r)=>{n=n.set(new Q(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(B(e))return null;{const i=V(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Z(e),n);return s!=null?{path:ce(new Q(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=V(e),i=this.children.get(n);return i!==null?i.subtree(Z(e)):new J(null)}}set(e,n){if(B(e))return new J(n,this.children);{const i=V(e),s=(this.children.get(i)||new J(null)).set(Z(e),n),o=this.children.insert(i,s);return new J(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new J(null):new J(null,this.children);{const n=V(e),i=this.children.get(n);if(i){const r=i.remove(Z(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new J(null):new J(this.value,s)}else return this}}get(e){if(B(e))return this.value;{const n=V(e),i=this.children.get(n);return i?i.get(Z(e)):null}}setTree(e,n){if(B(e))return n;{const i=V(e),s=(this.children.get(i)||new J(null)).setTree(Z(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new J(this.value,o)}}fold(e){return this.fold_(G(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ce(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(B(e))return null;{const s=V(e),o=this.children.get(s);return o?o.findOnPath_(Z(e),ce(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,i){if(B(e))return this;{this.value&&i(n,this.value);const r=V(e),s=this.children.get(r);return s?s.foreachOnPath_(Z(e),ce(n,r),i):new J(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ce(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new J(null))}}function Uo(t,e,n){if(B(e))return new en(new J(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=gt(r,e);return s=s.updateChild(o,n),new en(t.writeTree_.set(r,s))}else{const r=new J(n),s=t.writeTree_.setTree(e,r);return new en(s)}}}function tp(t,e,n){let i=t;return ze(n,(r,s)=>{i=Uo(i,ce(e,r),s)}),i}function z_(t,e){if(B(e))return en.empty();{const n=t.writeTree_.setTree(e,new J(null));return new en(n)}}function np(t,e){return Rr(t,e)!=null}function Rr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function W_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(i,r)=>{e.push(new $(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new $(i,r.value))}),e}function Si(t,e){if(B(e))return t;{const n=Rr(t,e);return n!=null?new en(new J(n)):new en(t.writeTree_.subtree(e))}}function ip(t){return t.writeTree_.isEmpty()}function ks(t,e){return DT(G(),t.writeTree_,e)}function DT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(I(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=DT(ce(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ce(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){return FT(e,t)}function F2(t,e,n,i,r){I(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Uo(t.visibleWrites,e,n)),t.lastWriteId=i}function j2(t,e,n,i){I(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=tp(t.visibleWrites,e,n),t.lastWriteId=i}function U2(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function V2(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&$2(a,i.path)?r=!1:Ut(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return B2(t),!0;if(i.snap)t.visibleWrites=z_(t.visibleWrites,i.path);else{const a=i.children;ze(a,l=>{t.visibleWrites=z_(t.visibleWrites,ce(i.path,l))})}return!0}else return!1}function $2(t,e){if(t.snap)return Ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ut(ce(t.path,n),e))return!0;return!1}function B2(t){t.visibleWrites=LT(t.allWrites,z2,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function z2(t){return t.visible}function LT(t,e,n){let i=en.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)Ut(n,o)?(a=gt(n,o),i=Uo(i,a,s.snap)):Ut(o,n)&&(a=gt(o,n),i=Uo(i,G(),s.snap.getChild(a)));else if(s.children){if(Ut(n,o))a=gt(n,o),i=tp(i,a,s.children);else if(Ut(o,n))if(a=gt(o,n),B(a))i=tp(i,G(),s.children);else{const l=Cs(s.children,V(a));if(l){const u=l.getChild(Z(a));i=Uo(i,G(),u)}}}else throw Us("WriteRecord should have .snap or .children")}}return i}function bT(t,e,n,i,r){if(!i&&!r){const s=Rr(t.visibleWrites,e);if(s!=null)return s;{const o=Si(t.visibleWrites,e);if(ip(o))return n;if(n==null&&!np(o,G()))return null;{const a=n||b.EMPTY_NODE;return ks(o,a)}}}else{const s=Si(t.visibleWrites,e);if(!r&&ip(s))return n;if(!r&&n==null&&!np(s,G()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Ut(u.path,e)||Ut(e,u.path))},a=LT(t.allWrites,o,e),l=n||b.EMPTY_NODE;return ks(a,l)}}}function W2(t,e,n){let i=b.EMPTY_NODE;const r=Rr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(he,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Si(t.visibleWrites,e);return n.forEachChild(he,(o,a)=>{const l=ks(Si(s,new Q(o)),a);i=i.updateImmediateChild(o,l)}),W_(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Si(t.visibleWrites,e);return W_(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function H2(t,e,n,i,r){I(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ce(e,n);if(np(t.visibleWrites,s))return null;{const o=Si(t.visibleWrites,s);return ip(o)?r.getChild(n):ks(o,r.getChild(n))}}function K2(t,e,n,i){const r=ce(e,n),s=Rr(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Si(t.visibleWrites,r);return ks(o,i.getNode().getImmediateChild(n))}else return null}function G2(t,e){return Rr(t.visibleWrites,e)}function q2(t,e,n,i,r,s,o){let a;const l=Si(t.visibleWrites,e),u=Rr(l,G());if(u!=null)a=u;else if(n!=null)a=ks(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let p=d.getNext();for(;p&&c.length<r;)h(p,i)!==0&&c.push(p),p=d.getNext();return c}else return[]}function Y2(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function Qu(t,e,n,i){return bT(t.writeTree,t.treePath,e,n,i)}function ag(t,e){return W2(t.writeTree,t.treePath,e)}function H_(t,e,n,i){return H2(t.writeTree,t.treePath,e,n,i)}function Ju(t,e){return G2(t.writeTree,ce(t.treePath,e))}function X2(t,e,n,i,r,s){return q2(t.writeTree,t.treePath,e,n,i,r,s)}function lg(t,e,n){return K2(t.writeTree,t.treePath,e,n)}function MT(t,e){return FT(ce(t.treePath,e),t.writeTree)}function FT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,ya(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,ga(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Is(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,ya(i,e.snapshotNode,r.oldSnap));else throw Us("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const jT=new J2;class ug{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lg(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Er(this.viewCache_),s=X2(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){return{filter:t}}function eL(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tL(t,e,n,i,r){const s=new Q2;let o,a;if(n.type===Qt.OVERWRITE){const u=n;u.source.fromUser?o=rp(t,e,u.path,u.snap,i,r,s):(I(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!B(u.path),o=Zu(t,e,u.path,u.snap,i,r,a,s))}else if(n.type===Qt.MERGE){const u=n;u.source.fromUser?o=iL(t,e,u.path,u.children,i,r,s):(I(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=sp(t,e,u.path,u.children,i,r,a,s))}else if(n.type===Qt.ACK_USER_WRITE){const u=n;u.revert?o=oL(t,e,u.path,i,r,s):o=rL(t,e,u.path,u.affectedTree,i,r,s)}else if(n.type===Qt.LISTEN_COMPLETE)o=sL(t,e,n.path,i,s);else throw Us("Unknown operation type: "+n.type);const l=s.getChanges();return nL(e,o,l),{viewCache:o,changes:l}}function nL(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ep(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(AT(ep(e)))}}function UT(t,e,n,i,r,s){const o=e.eventCache;if(Ju(i,n)!=null)return e;{let a,l;if(B(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Er(e),c=u instanceof b?u:b.EMPTY_NODE,h=ag(i,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Qu(i,Er(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=V(n);if(u===".priority"){I(Ii(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=H_(i,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=Z(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=H_(i,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=lg(i,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,r,s):a=o.getNode()}}return jo(e,a,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function Zu(t,e,n,i,r,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(B(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),p,null)}else{const p=V(n);if(!l.isCompleteForPath(n)&&Ii(n)>1)return e;const g=Z(n),E=l.getNode().getImmediateChild(p).updateChild(g,i);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,g,jT,null)}const h=OT(e,u,l.isFullyInitialized()||B(n),c.filtersNodes()),d=new ug(r,h,s);return UT(t,h,n,r,d,a)}function rp(t,e,n,i,r,s,o){const a=e.eventCache;let l,u;const c=new ug(r,e,s);if(B(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=jo(e,u,!0,t.filter.filtersNodes());else{const h=V(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=jo(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Z(n),p=a.getNode().getImmediateChild(h);let g;if(B(d))g=i;else{const _=c.getCompleteChild(h);_!=null?Qm(d)===".priority"&&_.getChild(TT(d)).isEmpty()?g=_:g=_.updateChild(d,i):g=b.EMPTY_NODE}if(p.equals(g))l=e;else{const _=t.filter.updateChild(a.getNode(),h,g,d,c,o);l=jo(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function K_(t,e){return t.eventCache.isCompleteForChild(e)}function iL(t,e,n,i,r,s,o){let a=e;return i.foreach((l,u)=>{const c=ce(n,l);K_(e,V(c))&&(a=rp(t,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=ce(n,l);K_(e,V(c))||(a=rp(t,a,c,u,r,s,o))}),a}function G_(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function sp(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;B(n)?u=i:u=new J(null).setTree(n,i);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=G_(t,p,d);l=Zu(t,l,new Q(h),g,r,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),_=G_(t,g,d);l=Zu(t,l,new Q(h),_,r,s,o,a)}}),l}function rL(t,e,n,i,r,s,o){if(Ju(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(B(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zu(t,e,n,l.getNode().getChild(n),r,s,a,o);if(B(n)){let u=new J(null);return l.getNode().forEachChild(cs,(c,h)=>{u=u.set(new Q(c),h)}),sp(t,e,n,u,r,s,a,o)}else return e}else{let u=new J(null);return i.foreach((c,h)=>{const d=ce(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),sp(t,e,n,u,r,s,a,o)}}function sL(t,e,n,i,r){const s=e.serverCache,o=OT(e,s.getNode(),s.isFullyInitialized()||B(n),s.isFiltered());return UT(t,o,n,i,jT,r)}function oL(t,e,n,i,r,s){let o;if(Ju(i,n)!=null)return e;{const a=new ug(i,e,r),l=e.eventCache.getNode();let u;if(B(n)||V(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Qu(i,Er(e));else{const h=e.serverCache.getNode();I(h instanceof b,"serverChildren would be complete if leaf node"),c=ag(i,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=V(n);let h=lg(i,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,Z(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,b.EMPTY_NODE,Z(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Qu(i,Er(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ju(i,G())!=null,jo(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new tg(i.getIndex()),s=P2(i);this.processor_=Z2(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(b.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(b.EMPTY_NODE,a.getNode(),null),c=new wr(l,o.isFullyInitialized(),r.filtersNodes()),h=new wr(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Wc(h,c),this.eventGenerator_=new O2(this.query_)}get query(){return this.query_}}function lL(t){return t.viewCache_.serverCache.getNode()}function uL(t,e){const n=Er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function q_(t){return t.eventRegistrations_.length===0}function cL(t,e){t.eventRegistrations_.push(e)}function Y_(t,e,n){const i=[];if(n){I(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function X_(t,e,n,i){e.type===Qt.MERGE&&e.source.queryId!==null&&(I(Er(t.viewCache_),"We should always have a full cache before handling merges"),I(ep(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=tL(t.processor_,r,e,n,i);return eL(t.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,VT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hL(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(he,(s,o)=>{i.push(Is(s,o))}),n.isFullyInitialized()&&i.push(AT(n.getNode())),VT(t,i,n.getNode(),e)}function VT(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return D2(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class dL{constructor(){this.views=new Map}}function fL(t){I(!ec,"__referenceConstructor has already been defined"),ec=t}function pL(){return I(ec,"Reference.ts has not been loaded"),ec}function mL(t){return t.views.size===0}function cg(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return I(s!=null,"SyncTree gave us an op for an invalid query."),X_(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(X_(o,e,n,i));return s}}function gL(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Qu(n,r?i:null),l=!1;a?l=!0:i instanceof b?(a=ag(n,i),l=!1):(a=b.EMPTY_NODE,l=!1);const u=Wc(new wr(a,l,!1),new wr(i,r,!1));return new aL(e,u)}return o}function yL(t,e,n,i,r,s){const o=gL(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),cL(o,n),hL(o,n)}function vL(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=xi(t);if(r==="default")for(const[l,u]of t.views.entries())o=o.concat(Y_(u,n,i)),q_(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(r);l&&(o=o.concat(Y_(l,n,i)),q_(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!xi(t)&&s.push(new(pL())(e._repo,e._path)),{removed:s,events:o}}function $T(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hs(t,e){let n=null;for(const i of t.views.values())n=n||uL(i,e);return n}function BT(t,e){if(e._queryParams.loadsAllData())return Hc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function zT(t,e){return BT(t,e)!=null}function xi(t){return Hc(t)!=null}function Hc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function _L(t){I(!tc,"__referenceConstructor has already been defined"),tc=t}function wL(){return I(tc,"Reference.ts has not been loaded"),tc}let EL=1;class Q_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new J(null),this.pendingWriteTree_=Y2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WT(t,e,n,i,r){return F2(t.pendingWriteTree_,e,n,i,r),r?zs(t,new _r(ig(),e,n)):[]}function SL(t,e,n,i){j2(t.pendingWriteTree_,e,n,i);const r=J.fromObject(n);return zs(t,new xs(ig(),e,r))}function ci(t,e,n=!1){const i=U2(t.pendingWriteTree_,e);if(V2(t.pendingWriteTree_,e)){let s=new J(null);return i.snap!=null?s=s.set(G(),!0):ze(i.children,o=>{s=s.set(new Q(o),!0)}),zs(t,new Xu(i.path,s,n))}else return[]}function Kc(t,e,n){return zs(t,new _r(rg(),e,n))}function TL(t,e,n){const i=J.fromObject(n);return zs(t,new xs(rg(),e,i))}function CL(t,e){return zs(t,new _a(rg(),e))}function PL(t,e,n){const i=dg(t,n);if(i){const r=fg(i),s=r.path,o=r.queryId,a=gt(s,e),l=new _a(sg(o),a);return pg(t,s,l)}else return[]}function op(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||zT(o,e))){const l=vL(o,e,n,i);mL(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!r){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,p)=>xi(p));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const p=kL(d);for(let g=0;g<p.length;++g){const _=p[g],E=_.query,m=GT(t,_);t.listenProvider_.startListening(Vo(E),nc(t,E),m.hashFn,m.onComplete)}}}!h&&u.length>0&&!i&&(c?t.listenProvider_.stopListening(Vo(e),null):u.forEach(d=>{const p=t.queryToTagMap.get(Gc(d));t.listenProvider_.stopListening(Vo(d),p)}))}RL(t,u)}return a}function IL(t,e,n,i){const r=dg(t,i);if(r!=null){const s=fg(r),o=s.path,a=s.queryId,l=gt(o,e),u=new _r(sg(a),l,n);return pg(t,o,u)}else return[]}function xL(t,e,n,i){const r=dg(t,i);if(r){const s=fg(r),o=s.path,a=s.queryId,l=gt(o,e),u=J.fromObject(n),c=new xs(sg(a),l,u);return pg(t,o,c)}else return[]}function J_(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(d,p)=>{const g=gt(d,r);s=s||hs(p,g),o=o||xi(p)});let a=t.syncPointTree_.get(r);a?(o=o||xi(a),s=s||hs(a,G())):(a=new dL,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=b.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((p,g)=>{const _=hs(g,G());_&&(s=s.updateImmediateChild(p,_))}));const u=zT(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=Gc(e);I(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=AL();t.queryToTagMap.set(d,p),t.tagToQueryMap.set(p,d)}const c=og(t.pendingWriteTree_,r);let h=yL(a,e,n,c,s,l);if(!u&&!o&&!i){const d=BT(a,e);h=h.concat(NL(t,e,d))}return h}function hg(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=gt(o,e),u=hs(a,l);if(u)return u});return bT(r,e,s,n,!0)}function zs(t,e){return HT(e,t.syncPointTree_,null,og(t.pendingWriteTree_,G()))}function HT(t,e,n,i){if(B(t.path))return KT(t,e,n,i);{const r=e.get(G());n==null&&r!=null&&(n=hs(r,G()));let s=[];const o=V(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=MT(i,o);s=s.concat(HT(a,l,u,c))}return r&&(s=s.concat(cg(r,t,i,n))),s}}function KT(t,e,n,i){const r=e.get(G());n==null&&r!=null&&(n=hs(r,G()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=MT(i,o),c=t.operationForChild(o);c&&(s=s.concat(KT(c,a,l,u)))}),r&&(s=s.concat(cg(r,t,i,n))),s}function GT(t,e){const n=e.query,i=nc(t,n);return{hashFn:()=>(lL(e)||b.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?PL(t,n._path,i):CL(t,n._path);{const s=TD(r,n);return op(t,n,null,s)}}}}function nc(t,e){const n=Gc(e);return t.queryToTagMap.get(n)}function Gc(t){return t._path.toString()+"$"+t._queryIdentifier}function dg(t,e){return t.tagToQueryMap.get(e)}function fg(t){const e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function pg(t,e,n){const i=t.syncPointTree_.get(e);I(i,"Missing sync point for query tag that we're tracking");const r=og(t.pendingWriteTree_,e);return cg(i,n,r,null)}function kL(t){return t.fold((e,n,i)=>{if(n&&xi(n))return[Hc(n)];{let r=[];return n&&(r=$T(n)),ze(i,(s,o)=>{r=r.concat(o)}),r}})}function Vo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(wL())(t._repo,t._path):t}function RL(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=Gc(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function AL(){return EL++}function NL(t,e,n){const i=e._path,r=nc(t,e),s=GT(t,n),o=t.listenProvider_.startListening(Vo(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)I(!xi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!B(u)&&c&&xi(c))return[Hc(c).query];{let d=[];return c&&(d=d.concat($T(c).map(p=>p.query))),ze(h,(p,g)=>{d=d.concat(g)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Vo(c),nc(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mg(n)}node(){return this.node_}}class gg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ce(this.path_,e);return new gg(this.syncTree_,n)}node(){return hg(this.syncTree_,this.path_)}}const OL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Z_=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return LL(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},LL=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&I(!1,"Unexpected increment value: "+i);const r=e.node();if(I(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},qT=function(t,e,n,i){return yg(e,new gg(n,t),i)},YT=function(t,e,n){return yg(t,new mg(e),n)};function yg(t,e,n){const i=t.getPriority().val(),r=Z_(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Z_(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Pe(a,ke(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Pe(r))),o.forEachChild(he,(a,l)=>{const u=yg(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function _g(t,e){let n=e instanceof Q?e:new Q(e),i=t,r=V(n);for(;r!==null;){const s=Cs(i.node.children,r)||{children:{},childCount:0};i=new vg(r,i,s),n=Z(n),r=V(n)}return i}function Ws(t){return t.node.value}function XT(t,e){t.node.value=e,ap(t)}function QT(t){return t.node.childCount>0}function bL(t){return Ws(t)===void 0&&!QT(t)}function qc(t,e){ze(t.node.children,(n,i)=>{e(new vg(n,t,i))})}function JT(t,e,n,i){n&&!i&&e(t),qc(t,r=>{JT(r,e,!0,i)}),n&&i&&e(t)}function ML(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ya(t){return new Q(t.parent===null?t.name:Ya(t.parent)+"/"+t.name)}function ap(t){t.parent!==null&&FL(t.parent,t.name,t)}function FL(t,e,n){const i=bL(n),r=wn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,ap(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,ap(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/[\[\].#$\/\u0000-\u001F\u007F]/,UL=/[\[\].#$\u0000-\u001F\u007F]/,vd=10*1024*1024,wg=function(t){return typeof t=="string"&&t.length!==0&&!jL.test(t)},ZT=function(t){return typeof t=="string"&&t.length!==0&&!UL.test(t)},VL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZT(t)},$L=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Km(t)||t&&typeof t=="object"&&wn(t,".sv")},eC=function(t,e,n,i){i&&e===void 0||Yc(Uc(t,"value"),e,n)},Yc=function(t,e,n){const i=n instanceof Q?new i2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Yi(i)+" with contents = "+e.toString());if(Km(e))throw new Error(t+"contains "+e.toString()+" "+Yi(i));if(typeof e=="string"&&e.length>vd/3&&Vc(e)>vd)throw new Error(t+"contains a string greater than "+vd+" utf8 bytes "+Yi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(ze(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!wg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Yi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r2(i,o),Yc(t,a,i),s2(i)}),r&&s)throw new Error(t+' contains ".value" child '+Yi(i)+" in addition to actual children.")}},BL=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=ma(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!wg(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(n2);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&Ut(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},zL=function(t,e,n,i){if(i&&e===void 0)return;const r=Uc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];ze(e,(o,a)=>{const l=new Q(o);if(Yc(r,a,ce(n,l)),Qm(l)===".priority"&&!$L(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),BL(r,s)},tC=function(t,e,n,i){if(!(i&&n===void 0)&&!ZT(n))throw new Error(Uc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WL=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tC(t,e,n,i)},nC=function(t,e){if(V(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},HL=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!VL(n))throw new Error(Uc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xc(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!Jm(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function iC(t,e,n){Xc(t,n),rC(t,i=>Jm(i,e))}function rn(t,e,n){Xc(t,n),rC(t,i=>Ut(i,e)||Ut(e,i))}function rC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(GL(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function GL(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();lr&&je("event: "+n.toString()),Bs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="repo_interrupt",YL=25;class XL{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yu(),this.transactionQueueTree_=new vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QL(t,e,n){if(t.stats_=Ym(t.repoInfo_),t.forceRestClient_||xD())t.server_=new qu(t.repoInfo_,(i,r,s,o)=>{e0(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>t0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Re(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Dn(t.repoInfo_,e,(i,r,s,o)=>{e0(t,i,r,s,o)},i=>{t0(t,i)},i=>{JL(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=OD(t.repoInfo_,()=>new N2(t.stats_,t.server_)),t.infoData_=new I2,t.infoSyncTree_=new Q_({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Kc(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Eg(t,"connected",!1),t.serverSyncTree_=new Q_({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);rn(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function sC(t){const n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(t){return OL({timestamp:sC(t)})}function e0(t,e,n,i,r){t.dataUpdateCount++;const s=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=Bu(n,u=>ke(u));o=xL(t.serverSyncTree_,s,l,r)}else{const l=ke(n);o=IL(t.serverSyncTree_,s,l,r)}else if(i){const l=Bu(n,u=>ke(u));o=TL(t.serverSyncTree_,s,l)}else{const l=ke(n);o=Kc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Rs(t,s)),rn(t.eventQueue_,a,o)}function t0(t,e){Eg(t,"connected",e),e===!1&&tb(t)}function JL(t,e){ze(e,(n,i)=>{Eg(t,n,i)})}function Eg(t,e,n){const i=new Q("/.info/"+e),r=ke(n);t.infoData_.updateSnapshot(i,r);const s=Kc(t.infoSyncTree_,i,r);rn(t.eventQueue_,i,s)}function Sg(t){return t.nextWriteId_++}function ZL(t,e,n,i,r){Jc(t,"set",{path:e.toString(),value:n,priority:i});const s=Qc(t),o=ke(n,i),a=hg(t.serverSyncTree_,e),l=YT(o,a,s),u=Sg(t),c=WT(t.serverSyncTree_,e,l,u,!0);Xc(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(d,p)=>{const g=d==="ok";g||ut("set at "+e+" failed: "+d);const _=ci(t.serverSyncTree_,u,!g);rn(t.eventQueue_,e,_),lp(t,r,d,p)});const h=Cg(t,e);Rs(t,h),rn(t.eventQueue_,h,[])}function eb(t,e,n,i){Jc(t,"update",{path:e.toString(),value:n});let r=!0;const s=Qc(t),o={};if(ze(n,(a,l)=>{r=!1,o[a]=qT(ce(e,a),ke(l),t.serverSyncTree_,s)}),r)je("update() called with empty data.  Don't do anything."),lp(t,i,"ok",void 0);else{const a=Sg(t),l=SL(t.serverSyncTree_,e,o,a);Xc(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const h=u==="ok";h||ut("update at "+e+" failed: "+u);const d=ci(t.serverSyncTree_,a,!h),p=d.length>0?Rs(t,e):e;rn(t.eventQueue_,p,d),lp(t,i,u,c)}),ze(n,u=>{const c=Cg(t,ce(e,u));Rs(t,c)}),rn(t.eventQueue_,e,[])}}function tb(t){Jc(t,"onDisconnectEvents");const e=Qc(t),n=Yu();Zf(t.onDisconnect_,G(),(r,s)=>{const o=qT(r,s,t.serverSyncTree_,e);NT(n,r,o)});let i=[];Zf(n,G(),(r,s)=>{i=i.concat(Kc(t.serverSyncTree_,r,s));const o=Cg(t,r);Rs(t,o)}),t.onDisconnect_=Yu(),rn(t.eventQueue_,G(),i)}function nb(t,e,n){let i;V(e._path)===".info"?i=J_(t.infoSyncTree_,e,n):i=J_(t.serverSyncTree_,e,n),iC(t.eventQueue_,e._path,i)}function n0(t,e,n){let i;V(e._path)===".info"?i=op(t.infoSyncTree_,e,n):i=op(t.serverSyncTree_,e,n),iC(t.eventQueue_,e._path,i)}function ib(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qL)}function Jc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),je(n,...e)}function lp(t,e,n,i){e&&Bs(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function oC(t,e,n){return hg(t.serverSyncTree_,e,n)||b.EMPTY_NODE}function Tg(t,e=t.transactionQueueTree_){if(e||Zc(t,e),Ws(e)){const n=lC(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&rb(t,Ya(e),n)}else QT(e)&&qc(e,n=>{Tg(t,n)})}function rb(t,e,n){const i=n.map(u=>u.currentWriteId),r=oC(t,e,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];I(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=gt(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Jc(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(ci(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Zc(t,_g(t.transactionQueueTree_,e)),Tg(t,t.transactionQueueTree_),rn(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)Bs(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ut("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Rs(t,e)}},o)}function Rs(t,e){const n=aC(t,e),i=Ya(n),r=lC(t,n);return sb(t,r,i),i}function sb(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=gt(n,l.path);let c=!1,h;if(I(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,r=r.concat(ci(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=YL)c=!0,h="maxretry",r=r.concat(ci(t.serverSyncTree_,l.currentWriteId,!0));else{const d=oC(t,l.path,o);l.currentInputSnapshot=d;const p=e[a].update(d.val());if(p!==void 0){Yc("transaction failed: Data returned ",p,l.path);let g=ke(p);typeof p=="object"&&p!=null&&wn(p,".priority")||(g=g.updatePriority(d.getPriority()));const E=l.currentWriteId,m=Qc(t),f=YT(g,d,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=f,l.currentWriteId=Sg(t),o.splice(o.indexOf(E),1),r=r.concat(WT(t.serverSyncTree_,l.path,f,l.currentWriteId,l.applyLocally)),r=r.concat(ci(t.serverSyncTree_,E,!0))}else c=!0,h="nodata",r=r.concat(ci(t.serverSyncTree_,l.currentWriteId,!0))}rn(t.eventQueue_,n,r),r=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}Zc(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Bs(i[a]);Tg(t,t.transactionQueueTree_)}function aC(t,e){let n,i=t.transactionQueueTree_;for(n=V(e);n!==null&&Ws(i)===void 0;)i=_g(i,n),e=Z(e),n=V(e);return i}function lC(t,e){const n=[];return uC(t,e,n),n.sort((i,r)=>i.order-r.order),n}function uC(t,e,n){const i=Ws(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);qc(e,r=>{uC(t,r,n)})}function Zc(t,e){const n=Ws(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,XT(e,n.length>0?n:void 0)}qc(e,i=>{Zc(t,i)})}function Cg(t,e){const n=Ya(aC(t,e)),i=_g(t.transactionQueueTree_,e);return ML(i,r=>{_d(t,r)}),_d(t,i),JT(i,r=>{_d(t,r)}),n}function _d(t,e){const n=Ws(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(I(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ci(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?XT(e,void 0):n.length=s+1,rn(t.eventQueue_,Ya(e),r);for(let o=0;o<i.length;o++)Bs(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function ab(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const i0=function(t,e){const n=lb(t),i=n.namespace;n.domain==="firebase.com"&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vD();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new pT(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Q(n.pathString)}},lb=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(r=ob(t.substring(c,h)));const d=ab(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=i}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ub=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=r0.charAt(n%64),n=Math.floor(n/64);I(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=r0.charAt(e[r]);return I(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Re(this.snapshot.exportVal())}}class hC{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return B(this._path)?null:Qm(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=$_(this._queryParams),n=Gm(e);return n==="{}"?"default":n}get _queryObject(){return $_(this._queryParams)}isEqual(e){if(e=Et(e),!(e instanceof Pg))return!1;const n=this._repo===e._repo,i=Jm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+t2(this._path)}}class Yn extends Pg{constructor(e,n){super(e,n,new ng,!1)}get parent(){const e=TT(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Q(e),i=As(this.ref,e);return new wa(this._node.getChild(n),i,he)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new wa(r,As(this.ref,i),he)))}hasChild(e){const n=new Q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function an(t,e){return t=Et(t),t._checkNotDeleted("ref"),e!==void 0?As(t._root,e):t._root}function As(t,e){return t=Et(t),V(t._path)===null?WL("child","path",e,!1):tC("child","path",e,!1),new Yn(t._repo,ce(t._path,e))}function hb(t,e){t=Et(t),nC("push",t._path),eC("push",e,t._path,!0);const n=sC(t._repo),i=ub(n),r=As(t,i),s=As(t,i);let o;return e!=null?o=db(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function db(t,e){t=Et(t),nC("set",t._path),eC("set",e,t._path,!1);const n=new Wa;return ZL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function uo(t,e){zL("update",e,t._path,!1);const n=new Wa;return eb(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Ig{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new cC("value",this,new wa(e.snapshotNode,new Yn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hC(this,e,n):null}matches(e){return e instanceof Ig?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class xg{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hC(this,e,n):null}createEvent(e,n){I(e.childName!=null,"Child events should have a childName.");const i=As(new Yn(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new cC(e.type,this,new wa(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof xg?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function fb(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,u=(c,h)=>{n0(t._repo,t,a),l(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new cb(n,s||void 0),a=e==="value"?new Ig(o):new xg(e,o);return nb(t._repo,t,a),()=>n0(t._repo,t,a)}function ic(t,e,n,i){return fb(t,"value",e,n,i)}fL(Yn);_L(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FIREBASE_DATABASE_EMULATOR_HOST",up={};let mb=!1;function gb(t,e,n,i){t.repoInfo_=new pT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function yb(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=i0(s,r),a=o.repoInfo,l,u;typeof process<"u"&&T_&&(u=T_[pb]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=i0(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const c=r&&l?new us(us.OWNER):new RD(t.name,t.options,e);HL("Invalid Firebase Database URL",o),B(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_b(a,t,c,new kD(t.name,n));return new wb(h,t)}function vb(t,e){const n=up[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ib(t),delete n[t.key]}function _b(t,e,n,i){let r=up[e.name];r||(r={},up[e.name]=r);let s=r[t.toURLString()];return s&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new XL(t,mb,n,i),r[t.toURLString()]=s,s}class wb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function Xa(t=Hm(),e){const n=Bc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=zS("database");i&&Eb(n,...i)}return n}function Eb(t,e,n,i={}){t=Et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&zn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new us(us.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:KS(i.mockUserToken,t.app.options.projectId);s=new us(o)}gb(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){fD(xr),yr(new Pi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yb(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),mn(C_,P_,t),mn(C_,P_,"esm2017")}Dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Sb();var Tb="firebase",Cb="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(Tb,Cb,"app");const Pb="modulepreload",Ib=function(t){return"/"+t},s0={},ft=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.all(n.map(l=>{if(l=Ib(l),l in s0)return;s0[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Pb,u||(d.as="script",d.crossOrigin=""),d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var xb=function(e,n,i){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(i=n,n={}),n=n||{},i=i||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&kb(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?o0:Rb;o(s,i),s.onload||o0(s,i),r.appendChild(s)};function kb(t,e){for(var n in e)t.setAttribute(n,e[n])}function o0(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Rb(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var Ab=function(e){return Nb(e)&&!Ob(e)};function Nb(t){return!!t&&typeof t=="object"}function Ob(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||bb(t)}var Db=typeof Symbol=="function"&&Symbol.for,Lb=Db?Symbol.for("react.element"):60103;function bb(t){return t.$$typeof===Lb}function Mb(t){return Array.isArray(t)?[]:{}}function Ea(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ns(Mb(t),t,e):t}function Fb(t,e,n){return t.concat(e).map(function(i){return Ea(i,n)})}function jb(t,e){if(!e.customMerge)return Ns;var n=e.customMerge(t);return typeof n=="function"?n:Ns}function Ub(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function a0(t){return Object.keys(t).concat(Ub(t))}function dC(t,e){try{return e in t}catch{return!1}}function Vb(t,e){return dC(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function $b(t,e,n){var i={};return n.isMergeableObject(t)&&a0(t).forEach(function(r){i[r]=Ea(t[r],n)}),a0(e).forEach(function(r){Vb(t,r)||(dC(t,r)&&n.isMergeableObject(e[r])?i[r]=jb(r,n)(t[r],e[r],n):i[r]=Ea(e[r],n))}),i}function Ns(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Fb,n.isMergeableObject=n.isMergeableObject||Ab,n.cloneUnlessOtherwiseSpecified=Ea;var i=Array.isArray(e),r=Array.isArray(t),s=i===r;return s?i?n.arrayMerge(t,e,n):$b(t,e,n):Ea(e,n)}Ns.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,r){return Ns(i,r,n)},{})};var Bb=Ns,fC=Bb,zb=Object.create,eh=Object.defineProperty,Wb=Object.getOwnPropertyDescriptor,Hb=Object.getOwnPropertyNames,Kb=Object.getPrototypeOf,Gb=Object.prototype.hasOwnProperty,qb=(t,e)=>{for(var n in e)eh(t,n,{get:e[n],enumerable:!0})},pC=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Hb(e))!Gb.call(t,r)&&r!==n&&eh(t,r,{get:()=>e[r],enumerable:!(i=Wb(e,r))||i.enumerable});return t},kg=(t,e,n)=>(n=t!=null?zb(Kb(t)):{},pC(e||!t||!t.__esModule?eh(n,"default",{value:t,enumerable:!0}):n,t)),Yb=t=>pC(eh({},"__esModule",{value:!0}),t),mC={};qb(mC,{callPlayer:()=>hM,getConfig:()=>uM,getSDK:()=>lM,isBlobUrl:()=>fM,isMediaStream:()=>dM,lazy:()=>Zb,omit:()=>cM,parseEndTime:()=>sM,parseStartTime:()=>rM,queryString:()=>aM,randomString:()=>oM,supportsWebKitPresentationMode:()=>pM});var th=Yb(mC),Xb=kg(w),Qb=kg(xb),Jb=kg(fC);const Zb=t=>Xb.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),eM=/[?&#](?:start|t)=([0-9hms]+)/,tM=/[?&#]end=([0-9hms]+)/,cp=/(\d+)(h|m|s)/g,nM=/^\d+$/;function gC(t,e){if(t instanceof Array)return;const n=t.match(e);if(n){const i=n[1];if(i.match(cp))return iM(i);if(nM.test(i))return parseInt(i)}}function iM(t){let e=0,n=cp.exec(t);for(;n!==null;){const[,i,r]=n;r==="h"&&(e+=parseInt(i,10)*60*60),r==="m"&&(e+=parseInt(i,10)*60),r==="s"&&(e+=parseInt(i,10)),n=cp.exec(t)}return e}function rM(t){return gC(t,eM)}function sM(t){return gC(t,tM)}function oM(){return Math.random().toString(36).substr(2,5)}function aM(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function wd(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const Or={},lM=function(e,n,i=null,r=()=>!0,s=Qb.default){const o=wd(n);return o&&r(o)?Promise.resolve(o):new Promise((a,l)=>{if(Or[e]){Or[e].push({resolve:a,reject:l});return}Or[e]=[{resolve:a,reject:l}];const u=c=>{Or[e].forEach(h=>h.resolve(c))};if(i){const c=window[i];window[i]=function(){c&&c(),u(wd(n))}}s(e,c=>{c?(Or[e].forEach(h=>h.reject(c)),Or[e]=null):i||u(wd(n))})})};function uM(t,e){return(0,Jb.default)(e.config,t.config)}function cM(t,...e){const n=[].concat(...e),i={},r=Object.keys(t);for(const s of r)n.indexOf(s)===-1&&(i[s]=t[s]);return i}function hM(t,...e){if(!this.player||!this.player[t]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c  `;return this.player?this.player[t]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[t](...e)}function dM(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function fM(t){return/^blob:/.test(t)}function pM(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var Rg=Object.defineProperty,mM=Object.getOwnPropertyDescriptor,gM=Object.getOwnPropertyNames,yM=Object.prototype.hasOwnProperty,vM=(t,e)=>{for(var n in e)Rg(t,n,{get:e[n],enumerable:!0})},_M=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of gM(e))!yM.call(t,r)&&r!==n&&Rg(t,r,{get:()=>e[r],enumerable:!(i=mM(e,r))||i.enumerable});return t},wM=t=>_M(Rg({},"__esModule",{value:!0}),t),yC={};vM(yC,{AUDIO_EXTENSIONS:()=>Ag,DASH_EXTENSIONS:()=>NC,FLV_EXTENSIONS:()=>OC,HLS_EXTENSIONS:()=>Og,MATCH_URL_DAILYMOTION:()=>xC,MATCH_URL_FACEBOOK:()=>EC,MATCH_URL_FACEBOOK_WATCH:()=>SC,MATCH_URL_KALTURA:()=>AC,MATCH_URL_MIXCLOUD:()=>kC,MATCH_URL_MUX:()=>wC,MATCH_URL_SOUNDCLOUD:()=>vC,MATCH_URL_STREAMABLE:()=>TC,MATCH_URL_TWITCH_CHANNEL:()=>IC,MATCH_URL_TWITCH_VIDEO:()=>PC,MATCH_URL_VIDYARD:()=>RC,MATCH_URL_VIMEO:()=>_C,MATCH_URL_WISTIA:()=>CC,MATCH_URL_YOUTUBE:()=>hp,VIDEO_EXTENSIONS:()=>Ng,canPlay:()=>SM});var EM=wM(yC),l0=th;const hp=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,vC=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,_C=/vimeo\.com\/(?!progressive_redirect).+/,wC=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,EC=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,SC=/^https?:\/\/fb\.watch\/.+$/,TC=/streamable\.com\/([a-z0-9]+)$/,CC=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,PC=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,IC=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,xC=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,kC=/mixcloud\.com\/([^/]+\/[^/]+)/,RC=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,AC=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,Ag=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Ng=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Og=/\.(m3u8)($|\?)/i,NC=/\.(mpd)($|\?)/i,OC=/\.(flv)($|\?)/i,dp=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&dp(e)||dp(e.src))return!0;return!1}return(0,l0.isMediaStream)(t)||(0,l0.isBlobUrl)(t)?!0:Ag.test(t)||Ng.test(t)||Og.test(t)||NC.test(t)||OC.test(t)},SM={youtube:t=>t instanceof Array?t.every(e=>hp.test(e)):hp.test(t),soundcloud:t=>vC.test(t)&&!Ag.test(t),vimeo:t=>_C.test(t)&&!Ng.test(t)&&!Og.test(t),mux:t=>wC.test(t),facebook:t=>EC.test(t)||SC.test(t),streamable:t=>TC.test(t),wistia:t=>CC.test(t),twitch:t=>PC.test(t)||IC.test(t),dailymotion:t=>xC.test(t),mixcloud:t=>kC.test(t),vidyard:t=>RC.test(t),kaltura:t=>AC.test(t),file:dp};var Dg=Object.defineProperty,TM=Object.getOwnPropertyDescriptor,CM=Object.getOwnPropertyNames,PM=Object.prototype.hasOwnProperty,IM=(t,e)=>{for(var n in e)Dg(t,n,{get:e[n],enumerable:!0})},xM=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of CM(e))!PM.call(t,r)&&r!==n&&Dg(t,r,{get:()=>e[r],enumerable:!(i=TM(e,r))||i.enumerable});return t},kM=t=>xM(Dg({},"__esModule",{value:!0}),t),DC={};IM(DC,{default:()=>AM});var RM=kM(DC),dt=th,rt=EM,AM=[{key:"youtube",name:"YouTube",canPlay:rt.canPlay.youtube,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./YouTube-BPzSxcAI.js").then(t=>t.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:rt.canPlay.soundcloud,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./SoundCloud-CT9vlA2F.js").then(t=>t.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:rt.canPlay.vimeo,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Vimeo-CGeWLJqM.js").then(t=>t.V),[]))},{key:"mux",name:"Mux",canPlay:rt.canPlay.mux,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Mux-BGqXdOla.js").then(t=>t.M),[]))},{key:"facebook",name:"Facebook",canPlay:rt.canPlay.facebook,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Facebook-CIbXtUkh.js").then(t=>t.F),[]))},{key:"streamable",name:"Streamable",canPlay:rt.canPlay.streamable,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Streamable-COMI-p4b.js").then(t=>t.S),[]))},{key:"wistia",name:"Wistia",canPlay:rt.canPlay.wistia,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Wistia-CJGBMHvI.js").then(t=>t.W),[]))},{key:"twitch",name:"Twitch",canPlay:rt.canPlay.twitch,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Twitch-DbDYL-_F.js").then(t=>t.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:rt.canPlay.dailymotion,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./DailyMotion-Bx2CP3z1.js").then(t=>t.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:rt.canPlay.mixcloud,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Mixcloud-C2hbs6RP.js").then(t=>t.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:rt.canPlay.vidyard,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Vidyard-DJIV0LpX.js").then(t=>t.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:rt.canPlay.kaltura,lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./Kaltura-B-l9UV1w.js").then(t=>t.K),[]))},{key:"file",name:"FilePlayer",canPlay:rt.canPlay.file,canEnablePIP:t=>rt.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,dt.supportsWebKitPresentationMode)())&&!rt.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,dt.lazy)(()=>ft(()=>import("./FilePlayer-D0gxlgQL.js").then(t=>t.F),[]))}],u0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function NM(t,e){return!!(t===e||u0(t)&&u0(e))}function OM(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!NM(t[n],e[n]))return!1;return!0}function DM(t,e){e===void 0&&(e=OM);var n,i=[],r,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,i)||(r=t.apply(this,a),s=!0,n=this,i=a),r}return o}const LM=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),bM=dk(LM);var MM=typeof Element<"u",FM=typeof Map=="function",jM=typeof Set=="function",UM=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ou(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!ou(t[i],e[i]))return!1;return!0}var s;if(FM&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;for(s=t.entries();!(i=s.next()).done;)if(!ou(i.value[1],e.get(i.value[0])))return!1;return!0}if(jM&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(UM&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;if(MM&&t instanceof Element)return!1;for(i=n;i--!==0;)if(!((r[i]==="_owner"||r[i]==="__v"||r[i]==="__o")&&t.$$typeof)&&!ou(t[r[i]],e[r[i]]))return!1;return!0}return t!==t&&e!==e}var LC=function(e,n){try{return ou(e,n)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}},bC={exports:{}},VM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$M=VM,BM=$M;function MC(){}function FC(){}FC.resetWarningCache=MC;var zM=function(){function t(i,r,s,o,a,l){if(l!==BM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FC,resetWarningCache:MC};return n.PropTypes=n,n};bC.exports=zM();var WM=bC.exports,HM=Object.create,nh=Object.defineProperty,KM=Object.getOwnPropertyDescriptor,GM=Object.getOwnPropertyNames,qM=Object.getPrototypeOf,YM=Object.prototype.hasOwnProperty,XM=(t,e)=>{for(var n in e)nh(t,n,{get:e[n],enumerable:!0})},jC=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of GM(e))!YM.call(t,r)&&r!==n&&nh(t,r,{get:()=>e[r],enumerable:!(i=KM(e,r))||i.enumerable});return t},QM=(t,e,n)=>(n=t!=null?HM(qM(t)):{},jC(e||!t||!t.__esModule?nh(n,"default",{value:t,enumerable:!0}):n,t)),JM=t=>jC(nh({},"__esModule",{value:!0}),t),UC={};XM(UC,{defaultProps:()=>t4,propTypes:()=>e4});var VC=JM(UC),ZM=QM(WM);const{string:Le,bool:st,number:Dr,array:Ed,oneOfType:co,shape:Tt,object:Ke,func:we,node:c0}=ZM.default,e4={url:co([Le,Ed,Ke]),playing:st,loop:st,controls:st,volume:Dr,muted:st,playbackRate:Dr,width:co([Le,Dr]),height:co([Le,Dr]),style:Ke,progressInterval:Dr,playsinline:st,pip:st,stopOnUnmount:st,light:co([st,Le,Ke]),playIcon:c0,previewTabIndex:Dr,previewAriaLabel:Le,fallback:c0,oEmbedUrl:Le,wrapper:co([Le,we,Tt({render:we.isRequired})]),config:Tt({soundcloud:Tt({options:Ke}),youtube:Tt({playerVars:Ke,embedOptions:Ke,onUnstarted:we}),facebook:Tt({appId:Le,version:Le,playerId:Le,attributes:Ke}),dailymotion:Tt({params:Ke}),vimeo:Tt({playerOptions:Ke,title:Le}),mux:Tt({attributes:Ke,version:Le}),file:Tt({attributes:Ke,tracks:Ed,forceVideo:st,forceAudio:st,forceHLS:st,forceSafariHLS:st,forceDisableHls:st,forceDASH:st,forceFLV:st,hlsOptions:Ke,hlsVersion:Le,dashVersion:Le,flvVersion:Le}),wistia:Tt({options:Ke,playerId:Le,customControls:Ed}),mixcloud:Tt({options:Ke}),twitch:Tt({options:Ke,playerId:Le}),vidyard:Tt({options:Ke})}),onReady:we,onStart:we,onPlay:we,onPause:we,onBuffer:we,onBufferEnd:we,onEnded:we,onError:we,onDuration:we,onSeek:we,onPlaybackRateChange:we,onPlaybackQualityChange:we,onProgress:we,onClickPreview:we,onEnablePIP:we,onDisablePIP:we},be=()=>{},t4={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:be},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:be,onStart:be,onPlay:be,onPause:be,onBuffer:be,onBufferEnd:be,onEnded:be,onError:be,onDuration:be,onSeek:be,onPlaybackRateChange:be,onPlaybackQualityChange:be,onProgress:be,onClickPreview:be,onEnablePIP:be,onDisablePIP:be};var n4=Object.create,Qa=Object.defineProperty,i4=Object.getOwnPropertyDescriptor,r4=Object.getOwnPropertyNames,s4=Object.getPrototypeOf,o4=Object.prototype.hasOwnProperty,a4=(t,e,n)=>e in t?Qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l4=(t,e)=>{for(var n in e)Qa(t,n,{get:e[n],enumerable:!0})},$C=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of r4(e))!o4.call(t,r)&&r!==n&&Qa(t,r,{get:()=>e[r],enumerable:!(i=i4(e,r))||i.enumerable});return t},BC=(t,e,n)=>(n=t!=null?n4(s4(t)):{},$C(e||!t||!t.__esModule?Qa(n,"default",{value:t,enumerable:!0}):n,t)),u4=t=>$C(Qa({},"__esModule",{value:!0}),t),pe=(t,e,n)=>(a4(t,typeof e!="symbol"?e+"":e,n),n),zC={};l4(zC,{default:()=>ih});var c4=u4(zC),h0=BC(w),h4=BC(LC),WC=VC,d4=th;const f4=5e3;class ih extends h0.Component{constructor(){super(...arguments),pe(this,"mounted",!1),pe(this,"isReady",!1),pe(this,"isPlaying",!1),pe(this,"isLoading",!0),pe(this,"loadOnReady",null),pe(this,"startOnPlay",!0),pe(this,"seekOnPlay",null),pe(this,"onDurationCalled",!1),pe(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),pe(this,"getInternalPlayer",e=>this.player?this.player[e]:null),pe(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,n=this.getSecondsLoaded(),i=this.getDuration();if(i){const r={playedSeconds:e,played:e/i};n!==null&&(r.loadedSeconds=n,r.loaded=n/i),(r.playedSeconds!==this.prevPlayed||r.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(r),this.prevPlayed=r.playedSeconds,this.prevLoaded=r.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),pe(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:n,volume:i,muted:r}=this.props;e(),!r&&i!==null&&this.player.setVolume(i),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),pe(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:n,playbackRate:i}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&i!==1&&this.player.setPlaybackRate(i),e(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),pe(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),pe(this,"handleEnded",()=>{const{activePlayer:e,loop:n,onEnded:i}=this.props;e.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,i())}),pe(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),pe(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),pe(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:n,playing:i,volume:r,muted:s,playbackRate:o,pip:a,loop:l,activePlayer:u,disableDeferredLoading:c}=this.props;if(!(0,h4.default)(e.url,n)){if(this.isLoading&&!u.forceLoad&&!c&&!(0,d4.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!e.playing&&i&&!this.isPlaying&&this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&a&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!a&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==r&&r!==null&&this.player.setVolume(r),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),r!==null&&setTimeout(()=>this.player.setVolume(r)))),e.playbackRate!==o&&this.player.setPlaybackRate&&this.player.setPlaybackRate(o),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,n,i){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},f4));return}if(n?n==="fraction":e>0&&e<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(s*e,i);return}this.player.seekTo(e,i)}render(){const e=this.props.activePlayer;return e?h0.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}pe(ih,"displayName","Player");pe(ih,"propTypes",WC.propTypes);pe(ih,"defaultProps",WC.defaultProps);var p4=Object.create,Ja=Object.defineProperty,m4=Object.getOwnPropertyDescriptor,g4=Object.getOwnPropertyNames,y4=Object.getPrototypeOf,v4=Object.prototype.hasOwnProperty,_4=(t,e,n)=>e in t?Ja(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w4=(t,e)=>{for(var n in e)Ja(t,n,{get:e[n],enumerable:!0})},HC=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of g4(e))!v4.call(t,r)&&r!==n&&Ja(t,r,{get:()=>e[r],enumerable:!(i=m4(e,r))||i.enumerable});return t},Za=(t,e,n)=>(n=t!=null?p4(y4(t)):{},HC(e||!t||!t.__esModule?Ja(n,"default",{value:t,enumerable:!0}):n,t)),E4=t=>HC(Ja({},"__esModule",{value:!0}),t),fe=(t,e,n)=>(_4(t,typeof e!="symbol"?e+"":e,n),n),KC={};w4(KC,{createReactPlayer:()=>A4});var S4=E4(KC),br=Za(w),T4=Za(fC),Sd=Za(bM),d0=Za(LC),To=VC,GC=th,C4=Za(c4);const P4=(0,GC.lazy)(()=>ft(()=>import("./Preview-CPfC0KKm.js").then(t=>t.P),[])),I4=typeof window<"u"&&window.document&&typeof document<"u",x4=typeof Lh<"u"&&Lh.window&&Lh.window.document,k4=Object.keys(To.propTypes),R4=I4||x4?br.Suspense:()=>null,ho=[],A4=(t,e)=>{var n;return n=class extends br.Component{constructor(){super(...arguments),fe(this,"state",{showPreview:!!this.props.light}),fe(this,"references",{wrapper:i=>{this.wrapper=i},player:i=>{this.player=i}}),fe(this,"handleClickPreview",i=>{this.setState({showPreview:!1}),this.props.onClickPreview(i)}),fe(this,"showPreview",()=>{this.setState({showPreview:!0})}),fe(this,"getDuration",()=>this.player?this.player.getDuration():null),fe(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),fe(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),fe(this,"getInternalPlayer",(i="player")=>this.player?this.player.getInternalPlayer(i):null),fe(this,"seekTo",(i,r,s)=>{if(!this.player)return null;this.player.seekTo(i,r,s)}),fe(this,"handleReady",()=>{this.props.onReady(this)}),fe(this,"getActivePlayer",(0,Sd.default)(i=>{for(const r of[...ho,...t])if(r.canPlay(i))return r;return e||null})),fe(this,"getConfig",(0,Sd.default)((i,r)=>{const{config:s}=this.props;return T4.default.all([To.defaultProps.config,To.defaultProps.config[r]||{},s,s[r]||{}])})),fe(this,"getAttributes",(0,Sd.default)(i=>(0,GC.omit)(this.props,k4))),fe(this,"renderActivePlayer",i=>{if(!i)return null;const r=this.getActivePlayer(i);if(!r)return null;const s=this.getConfig(i,r.key);return br.default.createElement(C4.default,{...this.props,key:r.key,ref:this.references.player,config:s,activePlayer:r.lazyPlayer||r,onReady:this.handleReady})})}shouldComponentUpdate(i,r){return!(0,d0.default)(this.props,i)||!(0,d0.default)(this.state,r)}componentDidUpdate(i){const{light:r}=this.props;!i.light&&r&&this.setState({showPreview:!0}),i.light&&!r&&this.setState({showPreview:!1})}renderPreview(i){if(!i)return null;const{light:r,playIcon:s,previewTabIndex:o,oEmbedUrl:a,previewAriaLabel:l}=this.props;return br.default.createElement(P4,{url:i,light:r,playIcon:s,previewTabIndex:o,previewAriaLabel:l,oEmbedUrl:a,onClick:this.handleClickPreview})}render(){const{url:i,style:r,width:s,height:o,fallback:a,wrapper:l}=this.props,{showPreview:u}=this.state,c=this.getAttributes(i),h=typeof l=="string"?this.references.wrapper:void 0;return br.default.createElement(l,{ref:h,style:{...r,width:s,height:o},...c},br.default.createElement(R4,{fallback:a},u?this.renderPreview(i):this.renderActivePlayer(i)))}},fe(n,"displayName","ReactPlayer"),fe(n,"propTypes",To.propTypes),fe(n,"defaultProps",To.defaultProps),fe(n,"addCustomPlayer",i=>{ho.push(i)}),fe(n,"removeCustomPlayers",()=>{ho.length=0}),fe(n,"canPlay",i=>{for(const r of[...ho,...t])if(r.canPlay(i))return!0;return!1}),fe(n,"canEnablePIP",i=>{for(const r of[...ho,...t])if(r.canEnablePIP&&r.canEnablePIP(i))return!0;return!1}),n};var N4=Object.create,rh=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,L4=Object.getPrototypeOf,b4=Object.prototype.hasOwnProperty,M4=(t,e)=>{for(var n in e)rh(t,n,{get:e[n],enumerable:!0})},qC=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of D4(e))!b4.call(t,r)&&r!==n&&rh(t,r,{get:()=>e[r],enumerable:!(i=O4(e,r))||i.enumerable});return t},F4=(t,e,n)=>(n=t!=null?N4(L4(t)):{},qC(e||!t||!t.__esModule?rh(n,"default",{value:t,enumerable:!0}):n,t)),j4=t=>qC(rh({},"__esModule",{value:!0}),t),YC={};M4(YC,{default:()=>B4});var U4=j4(YC),fp=F4(RM),V4=S4;const $4=fp.default[fp.default.length-1];var B4=(0,V4.createReactPlayer)(fp.default,$4);const z4=fE(U4),W4={apiKey:"AIzaSyCOggO8RKta6u0qolwyfOkpTijFznKlysg",authDomain:"open-dots-f2.firebaseapp.com",databaseURL:"https://open-dots-f2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"open-dots-f2",storageBucket:"open-dots-f2.appspot.com",messagingSenderId:"962649740482",appId:"1:962649740482:web:3a13f1a391364d4955d75b",measurementId:"G-2Z2M6K1PKL"},H4=$s(W4),Td=Xa(H4),K4=t=>{const e=t.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w-]{11})/);return e?e[1]:null},G4=()=>{const{sessionId:t}=LS(),[e,n]=w.useState(null);w.useEffect(()=>{const r=an(Td,`sessions/${t}`);ic(r,s=>{n(s.val())})},[t,Td]);const i=w.useRef(null);return w.useEffect(()=>{if(e&&e.youtubeLink&&K4(e.youtubeLink)){const s=an(Td,`sessions/${t}/state`);ic(s,o=>{if(o.val()==="PLAYING"){const l=new Date().getTime(),u=new Date(e.date).getTime(),c=(l-u)/1e3,h=e.timestamp+c+.3;console.log(h),console.log(e.timestamp),i.pl,i.current.seekTo(h)}})}},[e]),v.jsxs(v.Fragment,{children:[v.jsx(z4,{url:`https://www.youtube.com/watch?v=${e==null?void 0:e.youtubeLink}`,controls:!0,ref:i,playing:(e==null?void 0:e.state)==="PLAYING"}),e&&v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:e.songName}),v.jsx("p",{children:e.username}),v.jsx("p",{children:e.startTime}),v.jsx("p",{children:e.youtubeLink})]})]})},q4={apiKey:"AIzaSyCOggO8RKta6u0qolwyfOkpTijFznKlysg",authDomain:"open-dots-f2.firebaseapp.com",databaseURL:"https://open-dots-f2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"open-dots-f2",storageBucket:"open-dots-f2.appspot.com",messagingSenderId:"962649740482",appId:"1:962649740482:web:3a13f1a391364d4955d75b",measurementId:"G-2Z2M6K1PKL"};$s(q4);const Y4=Xa(),X4=()=>{const[t,e]=w.useState([]);return w.useEffect(()=>{const n=an(Y4,"sessions/");ic(n,i=>{const r=i.val(),s=[];for(let o in r)s.push({id:o,...r[o]});e(s)})},[]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"gallery",children:[v.jsx("div",{className:"item",children:v.jsxs(as,{to:"/createsession",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQD7fvO1WtHt0aC-cc5CO48ltbHTxUIPnzuiYqk6BDGKw&s",alt:"circle"})}),v.jsx("p",{children:"Create Session"})]})}),t.map(n=>v.jsx(as,{to:`/session/${n.id}`,children:v.jsxs("div",{className:"item",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:"https://www.constantcontact.com/blog/wp-content/uploads/2021/06/Social-4.jpg",alt:"circle"})}),v.jsx("p",{children:n.songName}),v.jsx(as,{to:`/danceroom/${n.id}`,children:v.jsx("button",{children:v.jsx("p",{children:"Join"})})})]})},n.id))]})})};function Lg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function XC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q4=XC,QC=new Ha("auth","Firebase",XC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new $c("@firebase/auth");function J4(t,...e){rc.logLevel<=K.WARN&&rc.warn(`Auth (${xr}): ${t}`,...e)}function au(t,...e){rc.logLevel<=K.ERROR&&rc.error(`Auth (${xr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,...e){throw Mg(t,...e)}function tn(t,...e){return Mg(t,...e)}function bg(t,e,n){const i=Object.assign(Object.assign({},Q4()),{[e]:n});return new Ha("auth","Firebase",i).create(e,{appName:t.name})}function gn(t){return bg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JC(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&zt(t,"argument-error"),bg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return QC.create(t,...e)}function L(t,e,...n){if(!t)throw Mg(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw au(e),new Error(e)}function Wn(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z4(){return f0()==="http:"||f0()==="https:"}function f0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z4()||qN()||"connection"in navigator)?navigator.onLine:!0}function tF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=zm()||GS()}get(){return eF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new el(3e4,6e4);function Li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,i,r={}){return eP(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Vs(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ZC.fetch()(tP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function eP(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},nF),e);try{const r=new sF(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ul(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ul(t,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bg(t,c,u);zt(t,c)}}catch(r){if(r instanceof qn)throw r;zt(t,"network-request-failed",{message:String(r)})}}async function tl(t,e,n,i,r={}){const s=await bi(t,e,n,i,r);return"mfaPendingCredential"in s&&zt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function tP(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Fg(t.config,r):`${t.config.apiScheme}://${r}`}function rF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tn(this.auth,"network-request-failed")),iF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ul(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=tn(t,e,i);return r.customData._tokenResponse=n,r}function p0(t){return t!==void 0&&t.enterprise!==void 0}class oF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function aF(t,e){return bi(t,"GET","/v2/recaptchaConfig",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function nP(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uF(t,e=!1){const n=Et(t),i=await n.getIdToken(e),r=jg(i);L(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:$o(Cd(r.auth_time)),issuedAtTime:$o(Cd(r.iat)),expirationTime:$o(Cd(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cd(t){return Number(t)*1e3}function jg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const r=$u(n);return r?JSON.parse(r):(au("Failed to decode base64 JWT payload"),null)}catch(r){return au("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function m0(t){const e=jg(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof qn&&cF(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function cF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Sa(t,nP(n,{idToken:i}));L(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?iP(s.providerUserInfo):[],a=fF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function dF(t){const e=Et(t);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fF(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function iP(t){return t.map(e=>{var{providerId:n}=e,i=Lg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){const n=await eP(t,{},async()=>{const i=Vs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=tP(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZC.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mF(t,e){return bi(t,"POST","/v2/accounts:revokeToken",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");const n=m0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await pF(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new ds;return i&&(L(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(L(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Sa(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uF(this,e)}reload(){return dF(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jt(this.auth.app))return Promise.reject(gn(this.auth));const e=await this.getIdToken();return await Sa(this,lF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,c;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:S,isAnonymous:T,providerData:x,stsTokenManager:k}=n;L(y&&k,e,"internal-error");const C=ds.fromJSON(this.name,k);L(typeof y=="string",e,"internal-error"),Jn(h,e.name),Jn(d,e.name),L(typeof S=="boolean",e,"internal-error"),L(typeof T=="boolean",e,"internal-error"),Jn(p,e.name),Jn(g,e.name),Jn(_,e.name),Jn(E,e.name),Jn(m,e.name),Jn(f,e.name);const F=new kn({uid:y,auth:e,email:d,emailVerified:S,displayName:h,isAnonymous:T,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:C,createdAt:m,lastLoginAt:f});return x&&Array.isArray(x)&&(F.providerData=x.map(O=>Object.assign({},O))),E&&(F._redirectEventId=E),F}static async _fromIdTokenResponse(e,n,i=!1){const r=new ds;r.updateFromServerResponse(n);const s=new kn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];L(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?iP(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new ds;a.updateFromIdToken(i);const l=new kn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new mp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function Rn(t){Wn(t instanceof Function,"Expected a class definition");let e=g0.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rP.type="NONE";const y0=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e,n){return`firebase:${t}:${e}:${n}`}class fs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=lu(this.userKey,r.apiKey,s),this.fullPersistenceKey=lu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fs(Rn(y0),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Rn(y0);const o=lu(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=kn._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fs(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new fs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uP(e))return"Blackberry";if(cP(e))return"Webos";if(Ug(e))return"Safari";if((e.includes("chrome/")||oP(e))&&!e.includes("edge/"))return"Chrome";if(lP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sP(t=it()){return/firefox\//i.test(t)}function Ug(t=it()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oP(t=it()){return/crios\//i.test(t)}function aP(t=it()){return/iemobile/i.test(t)}function lP(t=it()){return/android/i.test(t)}function uP(t=it()){return/blackberry/i.test(t)}function cP(t=it()){return/webos/i.test(t)}function sh(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gF(t=it()){var e;return sh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yF(){return YN()&&document.documentMode===10}function hP(t=it()){return sh(t)||lP(t)||cP(t)||uP(t)||/windows phone/i.test(t)||aP(t)}function vF(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e=[]){let n;switch(t){case"Browser":n=v0(it());break;case"Worker":n=`${v0(it())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e={}){return bi(t,"GET","/v2/passwordPolicy",Li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=6;class SF{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:EF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new _F(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nP(this,{idToken:e}),i=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jt(this.app))return Promise.reject(gn(this));const n=e?Et(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jt(this.app)?Promise.reject(gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jt(this.app)?Promise.reject(gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wF(this),n=new SF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ha("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await mF(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rn(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function En(t){return Et(t)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rO(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CF(t){oh=t}function fP(t){return oh.loadJS(t)}function PF(){return oh.recaptchaEnterpriseScript}function IF(){return oh.gapiScript}function xF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kF="recaptcha-enterprise",RF="NO_RECAPTCHA";class AF{constructor(e){this.type=kF,this.auth=En(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{aF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;p0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(RF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&p0(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PF();l.length!==0&&(l+=a),fP(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function w0(t,e,n,i=!1){const r=new AF(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function gp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await w0(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await w0(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){const n=Bc(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(zu(s,e??{}))return r;zt(r,"already-initialized")}return n.initialize({options:e})}function OF(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function DF(t,e,n){const i=En(t);L(i._canInitEmulator,i,"emulator-config-failed"),L(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=pP(e),{host:o,port:a}=LF(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||bF()}function pP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LF(t){const e=pP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:E0(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:E0(o)}}}function E0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function MF(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){return tl(t,"POST","/v1/accounts:signInWithPassword",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}async function UF(t,e){return tl(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Vg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ta(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ta(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,n,"signInWithPassword",FF);case"emailLink":return jF(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,i,"signUpPassword",MF);case"emailLink":return UF(e,{idToken:n,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return tl(t,"POST","/v1/accounts:signInWithIdp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="http://localhost";class Sr extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Lg(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Sr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ps(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){const e={requestUri:VF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BF(t){const e=Eo(So(t)).link,n=e?Eo(So(e)).deep_link_id:null,i=Eo(So(t)).deep_link_id;return(i?Eo(So(i)).link:null)||i||n||e||t}class $g{constructor(e){var n,i,r,s,o,a;const l=Eo(So(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,h=$F((r=l.mode)!==null&&r!==void 0?r:null);L(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BF(e);try{return new $g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=$g.parseLink(n);return L(i,"argument-error"),Ta._fromEmailAndCode(e,i.code,i.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends nl{constructor(){super("facebook.com")}static credential(e){return Sr._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sr._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return un.credential(n,i)}catch{return null}}}un.GOOGLE_SIGN_IN_METHOD="google.com";un.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends nl{constructor(){super("github.com")}static credential(e){return Sr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends nl{constructor(){super("twitter.com")}static credential(e,n){return Sr._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return oi.credential(n,i)}catch{return null}}}oi.TWITTER_SIGN_IN_METHOD="twitter.com";oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){return tl(t,"POST","/v1/accounts:signUp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await kn._fromIdTokenResponse(e,i,r),o=S0(i);return new Tr({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=S0(i);return new Tr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function S0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends qn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new oc(e,n,i,r)}}function mP(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,s,e,i):s})}async function WF(t,e,n=!1){const i=await Sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e,n=!1){const{auth:i}=t;if(jt(i.app))return Promise.reject(gn(i));const r="reauthenticate";try{const s=await Sa(t,mP(i,r,e,t),n);L(s.idToken,i,"internal-error");const o=jg(s.idToken);L(o,i,"internal-error");const{sub:a}=o;return L(t.uid===a,i,"user-mismatch"),Tr._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zt(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e,n=!1){if(jt(t.app))return Promise.reject(gn(t));const i="signIn",r=await mP(t,i,e),s=await Tr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function KF(t,e){return gP(En(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t){const e=En(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GF(t,e,n){if(jt(t.app))return Promise.reject(gn(t));const i=En(t),o=await gp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yP(t),l}),a=await Tr._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function qF(t,e,n){return jt(t.app)?Promise.reject(gn(t)):KF(Et(t),Hs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yP(t),i})}function YF(t,e,n,i){return Et(t).onIdTokenChanged(e,n,i)}function XF(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function QF(t,e,n,i){return Et(t).onAuthStateChanged(e,n,i)}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(){const t=it();return Ug(t)||sh(t)}const ZF=1e3,ej=10;class _P extends vP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=JF()&&vF(),this.fallbackToPolling=hP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);yF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ej):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},ZF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_P.type="LOCAL";const tj=_P;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends vP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wP.type="SESSION";const EP=wP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new lh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await nj(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Bg("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function rj(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aj(){return SP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebaseLocalStorageDb",lj=1,lc="firebaseLocalStorage",CP="fbase_key";class il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function uj(){const t=indexedDB.deleteDatabase(TP);return new il(t).toPromise()}function yp(){const t=indexedDB.open(TP,lj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lc,{keyPath:CP})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await uj(),e(await yp()))})})}async function T0(t,e,n){const i=uh(t,!0).put({[CP]:e,value:n});return new il(i).toPromise()}async function cj(t,e){const n=uh(t,!1).get(e),i=await new il(n).toPromise();return i===void 0?null:i.value}function C0(t,e){const n=uh(t,!0).delete(e);return new il(n).toPromise()}const hj=800,dj=3;class PP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>dj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(aj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sj(),!this.activeServiceWorker)return;this.sender=new ij(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await T0(e,ac,"1"),await C0(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cj(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=uh(r,!1).getAll();return new il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PP.type="LOCAL";const fj=PP;new el(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e){return e?Rn(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pj(t){return gP(t.auth,new Wg(t),t.bypassAuthState)}function mj(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),HF(n,new Wg(t),t.bypassAuthState)}async function gj(t){const{auth:e,user:n}=t;return L(n,e,"internal-error"),WF(n,new Wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pj;case"linkViaPopup":case"linkViaRedirect":return gj;case"reauthViaPopup":case"reauthViaRedirect":return mj;default:zt(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new el(2e3,1e4);async function vj(t,e,n){if(jt(t.app))return Promise.reject(tn(t,"operation-not-supported-in-this-environment"));const i=En(t);JC(t,e,ah);const r=zg(i,n);return new nr(i,"signInViaPopup",e,r).executeNotNull()}class nr extends IP{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,nr.currentPopupAction&&nr.currentPopupAction.cancel(),nr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return L(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yj.get())};e()}}nr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="pendingRedirect",uu=new Map;class wj extends IP{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=uu.get(this.auth._key());if(!e){try{const i=await Ej(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ej(t,e){const n=kP(e),i=xP(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}async function Sj(t,e){return xP(t)._set(kP(e),"true")}function Tj(t,e){uu.set(t._key(),e)}function xP(t){return Rn(t._redirectPersistence)}function kP(t){return lu(_j,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e,n){return Pj(t,e,n)}async function Pj(t,e,n){if(jt(t.app))return Promise.reject(gn(t));const i=En(t);JC(t,e,ah),await i._initializationPromise;const r=zg(i,n);return await Sj(r,i),r._openRedirect(i,e,"signInViaRedirect")}async function Ij(t,e){return await En(t)._initializationPromise,RP(t,e,!1)}async function RP(t,e,n=!1){if(jt(t.app))return Promise.reject(gn(t));const i=En(t),r=zg(i,e),o=await new wj(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=10*60*1e3;class kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!AP(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(tn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(e))}saveEventToCache(e){this.cachedEventUids.add(P0(e)),this.lastProcessedEventTime=Date.now()}}function P0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oj=/^https?/;async function Dj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Aj(t);for(const n of e)try{if(Lj(n))return}catch{}zt(t,"unauthorized-domain")}function Lj(t){const e=pp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Oj.test(n))return!1;if(Nj.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=new el(3e4,6e4);function I0(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Mj(t){return new Promise((e,n)=>{var i,r,s;function o(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(tn(t,"network-request-failed"))},timeout:bj.get()})}if(!((r=(i=yn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{const a=xF("iframefcb");return yn()[a]=()=>{gapi.load?o():n(tn(t,"network-request-failed"))},fP(`${IF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cu=null,e})}let cu=null;function Fj(t){return cu=cu||Mj(t),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new el(5e3,15e3),Uj="__/auth/iframe",Vj="emulator/auth/iframe",$j={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zj(t){const e=t.config;L(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fg(e,Vj):`https://${t.config.authDomain}/${Uj}`,i={apiKey:e.apiKey,appName:t.name,v:xr},r=Bj.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Vs(i).slice(1)}`}async function Wj(t){const e=await Fj(t),n=yn().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:zj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$j,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=tn(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},jj.get());function l(){yn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kj=500,Gj=600,qj="_blank",Yj="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xj(t,e,n,i=Kj,r=Gj){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hj),{width:i.toString(),height:r.toString(),top:s,left:o}),u=it().toLowerCase();n&&(a=oP(u)?qj:n),sP(u)&&(e=e||Yj,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(gF(u)&&a!=="_self")return Qj(e||"",a),new x0(null);const h=window.open(e||"",a,c);L(h,t,"popup-blocked");try{h.focus()}catch{}return new x0(h)}function Qj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="__/auth/handler",Zj="emulator/auth/handler",eU=encodeURIComponent("fac");async function k0(t,e,n,i,r,s){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xr,eventId:r};if(e instanceof ah){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof nl){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${eU}=${encodeURIComponent(l)}`:"";return`${tU(t)}?${Vs(a).slice(1)}${u}`}function tU({config:t}){return t.emulator?Fg(t,Zj):`https://${t.authDomain}/${Jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="webStorageSupport";class nU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EP,this._completeRedirectFn=RP,this._overrideRedirectResult=Tj}async _openPopup(e,n,i,r){var s;Wn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await k0(e,n,i,pp(),r);return Xj(e,o,Bg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await k0(e,n,i,pp(),r);return rj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Wn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Wj(e),i=new kj(e);return n.register("authEvent",r=>(L(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pd,{type:Pd},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Pd];o!==void 0&&n(!!o),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Dj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hP()||Ug()||sh()}}const iU=nU;var R0="@firebase/auth",A0="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oU(t){yr(new Pi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dP(t)},u=new TF(i,r,s,l);return OF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yr(new Pi("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return(i=>new rU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(R0,A0,sU(t)),mn(R0,A0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=5*60,lU=HS("authIdTokenMaxAge")||aU;let N0=null;const uU=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>lU)return;const r=n==null?void 0:n.token;N0!==r&&(N0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Hg(t=Hm()){const e=Bc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NF(t,{popupRedirectResolver:iU,persistence:[fj,tj,EP]}),i=HS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=uU(s.toString());XF(n,o,()=>o(n.currentUser)),YF(n,a=>o(a))}}const r=BS("auth");return r&&DF(n,`http://${r}`),n}function cU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CF({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=tn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",cU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oU("Browser");const hU={apiKey:"AIzaSyCOggO8RKta6u0qolwyfOkpTijFznKlysg",authDomain:"open-dots-f2.firebaseapp.com",databaseURL:"https://open-dots-f2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"open-dots-f2",storageBucket:"open-dots-f2.appspot.com",messagingSenderId:"962649740482",appId:"1:962649740482:web:3a13f1a391364d4955d75b",measurementId:"G-2Z2M6K1PKL"};$s(hU);const dU=Xa(),fU=()=>{const[t,e]=w.useState(""),[n,i]=w.useState(""),[r,s]=w.useState(""),[o,a]=w.useState(""),l=async u=>{u.preventDefault();const h=Hg().currentUser,d={username:h.displayName||t,email:h.email,uid:h.uid,songName:n,startTime:r,youtubeLink:o};await hb(an(dU,"sessions/"),d),alert("Session created successfully")};return v.jsxs("div",{children:[v.jsx("h1",{children:"Create Session"}),v.jsxs("form",{onSubmit:l,children:[v.jsx("input",{type:"text",placeholder:"Username",value:t,onChange:u=>e(u.target.value),required:!0}),v.jsx("input",{type:"text",placeholder:"Song Name",value:n,onChange:u=>i(u.target.value),required:!0}),v.jsx("input",{type:"text",placeholder:"Start Time",value:r,onChange:u=>s(u.target.value),required:!0}),v.jsx("input",{type:"text",placeholder:"Youtube Link",value:o,onChange:u=>a(u.target.value),required:!0}),v.jsx("button",{type:"submit",children:"Create Session"})]})]})};var pU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R,Kg=Kg||{},M=pU||self;function ch(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function mU(t){return Object.prototype.hasOwnProperty.call(t,Id)&&t[Id]||(t[Id]=++gU)}var Id="closure_uid_"+(1e9*Math.random()>>>0),gU=0;function yU(t,e,n){return t.call.apply(t.bind,arguments)}function vU(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze=yU:Ze=vU,Ze.apply(null,arguments)}function Vl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Oe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Mi(){this.s=this.s,this.o=this.o}var _U=0;Mi.prototype.s=!1;Mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_U!=0)&&mU(this)};Mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gg(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function O0(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ch(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function et(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var wU=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};M.addEventListener("test",n,e),M.removeEventListener("test",n,e)}catch{}return t}();function Ca(t){return/^[\s\xa0]*$/.test(t)}function hh(){var t=M.navigator;return t&&(t=t.userAgent)?t:""}function cn(t){return hh().indexOf(t)!=-1}function qg(t){return qg[" "](t),t}qg[" "]=function(){};function EU(t,e){var n=pV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SU=cn("Opera"),Pa=cn("Trident")||cn("MSIE"),OP=cn("Edge"),vp=OP||Pa,DP=cn("Gecko")&&!(hh().toLowerCase().indexOf("webkit")!=-1&&!cn("Edge"))&&!(cn("Trident")||cn("MSIE"))&&!cn("Edge"),TU=hh().toLowerCase().indexOf("webkit")!=-1&&!cn("Edge");function LP(){var t=M.document;return t?t.documentMode:void 0}e:{var D0="",xd=function(){var t=hh();if(DP)return/rv:([^\);]+)(\)|;)/.exec(t);if(OP)return/Edge\/([\d\.]+)/.exec(t);if(Pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TU)return/WebKit\/(\S+)/.exec(t);if(SU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xd&&(D0=xd?xd[1]:""),Pa){var L0=LP();if(L0!=null&&L0>parseFloat(D0))break e}}M.document&&Pa&&LP();function Ia(t,e){if(et.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DP){e:{try{qg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ia.$.h.call(this)}}Oe(Ia,et);var CU={2:"touch",3:"pen",4:"mouse"};Ia.prototype.h=function(){Ia.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sl="closure_listenable_"+(1e6*Math.random()|0),PU=0;function IU(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++PU,this.fa=this.ia=!1}function dh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yg(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function xU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function bP(t){const e={};for(const n in t)e[n]=t[n];return e}const b0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MP(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<b0.length;s++)n=b0[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function fh(t){this.src=t,this.g={},this.h=0}fh.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=wp(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new IU(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function _p(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=NP(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(dh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wp(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Xg="closure_lm_"+(1e6*Math.random()|0),kd={};function FP(t,e,n,i,r){if(i&&i.once)return UP(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FP(t,e[s],n,i,r);return null}return n=Zg(n),t&&t[sl]?t.O(e,n,rl(i)?!!i.capture:!!i,r):jP(t,e,n,!1,i,r)}function jP(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=rl(r)?!!r.capture:!!r,a=Jg(t);if(a||(t[Xg]=a=new fh(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=kU(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)wU||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent($P(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kU(){function t(n){return e.call(t.src,t.listener,n)}const e=RU;return t}function UP(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)UP(t,e[s],n,i,r);return null}return n=Zg(n),t&&t[sl]?t.P(e,n,rl(i)?!!i.capture:!!i,r):jP(t,e,n,!0,i,r)}function VP(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)VP(t,e[s],n,i,r);else i=rl(i)?!!i.capture:!!i,n=Zg(n),t&&t[sl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=wp(s,n,i,r),-1<n&&(dh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wp(e,n,i,r)),(n=-1<t?e[t]:null)&&Qg(n))}function Qg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sl])_p(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent($P(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Jg(e))?(_p(n,t),n.h==0&&(n.src=null,e[Xg]=null)):dh(t)}}}function $P(t){return t in kd?kd[t]:kd[t]="on"+t}function RU(t,e){if(t.fa)t=!0;else{e=new Ia(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Qg(t),t=n.call(i,e)}return t}function Jg(t){return t=t[Xg],t instanceof fh?t:null}var Rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(t){return typeof t=="function"?t:(t[Rd]||(t[Rd]=function(e){return t.handleEvent(e)}),t[Rd])}function Ne(){Mi.call(this),this.i=new fh(this),this.S=this,this.J=null}Oe(Ne,Mi);Ne.prototype[sl]=!0;Ne.prototype.removeEventListener=function(t,e,n,i){VP(this,t,e,n,i)};function $e(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new et(e,t);else if(e instanceof et)e.target=e.target||t;else{var r=e;e=new et(i,t),MP(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=$l(o,i,!0,e)&&r}if(o=e.g=t,r=$l(o,i,!0,e)&&r,r=$l(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=$l(o,i,!1,e)&&r}Ne.prototype.N=function(){if(Ne.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)dh(n[i]);delete t.g[e],t.h--}}this.J=null};Ne.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ne.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function $l(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&_p(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var ey=M.JSON.stringify;class AU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NU(){var t=ty;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class OU{constructor(){this.h=this.g=null}add(e,n){const i=BP.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var BP=new AU(()=>new DU,t=>t.reset());class DU{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LU(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bU(t){M.setTimeout(()=>{throw t},0)}let xa,ka=!1,ty=new OU,zP=()=>{const t=M.Promise.resolve(void 0);xa=()=>{t.then(MU)}};var MU=()=>{for(var t;t=NU();){try{t.h.call(t.g)}catch(n){bU(n)}var e=BP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ka=!1};function ph(t,e){Ne.call(this),this.h=t||1,this.g=e||M,this.j=Ze(this.qb,this),this.l=Date.now()}Oe(ph,Ne);R=ph.prototype;R.ga=!1;R.T=null;R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$e(this,"tick"),this.ga&&(ny(this),this.start()))}};R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ny(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}R.N=function(){ph.$.N.call(this),ny(this),delete this.g};function iy(t,e,n){if(typeof t=="function")n&&(t=Ze(t,n));else if(t&&typeof t.handleEvent=="function")t=Ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:M.setTimeout(t,e||0)}function WP(t){t.g=iy(()=>{t.g=null,t.i&&(t.i=!1,WP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FU extends Mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WP(this)}N(){super.N(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(t){Mi.call(this),this.h=t,this.g={}}Oe(Ra,Mi);var M0=[];function HP(t,e,n,i){Array.isArray(n)||(n&&(M0[0]=n.toString()),n=M0);for(var r=0;r<n.length;r++){var s=FP(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function KP(t){Yg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qg(e)},t),t.g={}}Ra.prototype.N=function(){Ra.$.N.call(this),KP(this)};Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mh(){this.g=!0}mh.prototype.Ea=function(){this.g=!1};function jU(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function UU(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Yr(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$U(t,n)+(i?" "+i:"")})}function VU(t,e){t.info(function(){return"TIMEOUT: "+e})}mh.prototype.info=function(){};function $U(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return ey(n)}catch{return e}}var Ks={},F0=null;function ry(){return F0=F0||new Ne}Ks.Ta="serverreachability";function GP(t){et.call(this,Ks.Ta,t)}Oe(GP,et);function Aa(t){const e=ry();$e(e,new GP(e))}Ks.STAT_EVENT="statevent";function qP(t,e){et.call(this,Ks.STAT_EVENT,t),this.stat=e}Oe(qP,et);function at(t){const e=ry();$e(e,new qP(e,t))}Ks.Ua="timingevent";function YP(t,e){et.call(this,Ks.Ua,t),this.size=e}Oe(YP,et);function ol(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){t()},e)}var sy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function oy(){}oy.prototype.h=null;function j0(t){return t.h||(t.h=t.i())}function zU(){}var al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ay(){et.call(this,"d")}Oe(ay,et);function ly(){et.call(this,"c")}Oe(ly,et);var Ep;function gh(){}Oe(gh,oy);gh.prototype.g=function(){return new XMLHttpRequest};gh.prototype.i=function(){return{}};Ep=new gh;function ll(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Ra(this),this.P=WU,t=vp?125:void 0,this.V=new ph(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XP}function XP(){this.i=null,this.g="",this.h=!1}var WU=45e3,QP={},Sp={};R=ll.prototype;R.setTimeout=function(t){this.P=t};function Tp(t,e,n){t.L=1,t.A=vh(Hn(e)),t.u=n,t.S=!0,JP(t,null)}function JP(t,e){t.G=Date.now(),ul(t),t.B=Hn(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),oI(n.i,"t",i),t.o=0,n=t.l.J,t.h=new XP,t.g=xI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new FU(Ze(t.Pa,t,t.g),t.O)),HP(t.U,t.g,"readystatechange",t.nb),e=t.I?bP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Aa(),jU(t.j,t.v,t.B,t.m,t.W,t.u)}R.nb=function(t){t=t.target;const e=this.M;e&&hn(t)==3?e.l():this.Pa(t)};R.Pa=function(t){try{if(t==this.g)e:{const c=hn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||vp||this.g&&(this.h.h||this.g.ja()||B0(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Aa(3):Aa(2)),yh(this);var n=this.g.da();this.ca=n;t:if(ZP(this)){var i=B0(this.g);t="";var r=i.length,s=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Bo(this);var o="";break t}this.h.i=new M.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,UU(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ca(a)){var u=a;break t}}u=null}if(n=u)Yr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cp(this,n);else{this.i=!1,this.s=3,at(12),ir(this),Bo(this);break e}}this.S?(eI(this,c,o),vp&&this.i&&c==3&&(HP(this.U,this.V,"tick",this.mb),this.V.start())):(Yr(this.j,this.m,o,null),Cp(this,o)),c==4&&ir(this),this.i&&!this.J&&(c==4?TI(this.l,this):(this.i=!1,ul(this)))}else hV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),ir(this),Bo(this)}}}catch{}finally{}};function ZP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function eI(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=HU(t,n),r==Sp){e==4&&(t.s=4,at(14),i=!1),Yr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==QP){t.s=4,at(15),Yr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Yr(t.j,t.m,r,null),Cp(t,r);ZP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,at(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),py(e),e.M=!0,at(11))):(Yr(t.j,t.m,n,"[Invalid Chunked Response]"),ir(t),Bo(t))}R.mb=function(){if(this.g){var t=hn(this.g),e=this.g.ja();this.o<e.length&&(yh(this),eI(this,t,e),this.i&&t!=4&&ul(this))}};function HU(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Sp:(n=Number(e.substring(n,i)),isNaN(n)?QP:(i+=1,i+n>e.length?Sp:(e=e.slice(i,i+n),t.o=i+n,e)))}R.cancel=function(){this.J=!0,ir(this)};function ul(t){t.Y=Date.now()+t.P,tI(t,t.P)}function tI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ol(Ze(t.lb,t),e)}function yh(t){t.C&&(M.clearTimeout(t.C),t.C=null)}R.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(VU(this.j,this.B),this.L!=2&&(Aa(),at(17)),ir(this),this.s=2,Bo(this)):tI(this,this.Y-t)};function Bo(t){t.l.H==0||t.J||TI(t.l,t)}function ir(t){yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ny(t.V),KP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pp(n.i,t))){if(!t.K&&Pp(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hc(n),Sh(n);else break e;fy(n),at(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=ol(Ze(n.ib,n),6e3));if(1>=uI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rr(n,11)}else if((t.K||n.g==t)&&hc(n),!Ca(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uy(s,s.h),s.h=null))}if(i.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,ne(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=II(i,i.J?i.pa:null,i.Y),o.K){cI(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(yh(a),ul(a)),i.g=o}else EI(i);0<n.j.length&&Th(n)}else u[0]!="stop"&&u[0]!="close"||rr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?rr(n,7):dy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Aa(4)}catch{}}function KU(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ch(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function GU(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ch(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function nI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ch(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=GU(t),i=KU(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var iI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qU(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ur(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ur){this.h=t.h,uc(this,t.j),this.s=t.s,this.g=t.g,cc(this,t.m),this.l=t.l;var e=t.i,n=new Na;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),U0(this,n),this.o=t.o}else t&&(e=String(t).match(iI))?(this.h=!1,uc(this,e[1]||"",!0),this.s=Co(e[2]||""),this.g=Co(e[3]||"",!0),cc(this,e[4]),this.l=Co(e[5]||"",!0),U0(this,e[6]||"",!0),this.o=Co(e[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}ur.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Po(e,V0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Po(e,V0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Po(n,n.charAt(0)=="/"?QU:XU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Po(n,ZU)),t.join("")};function Hn(t){return new ur(t)}function uc(t,e,n){t.j=n?Co(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function U0(t,e,n){e instanceof Na?(t.i=e,eV(t.i,t.h)):(n||(e=Po(e,JU)),t.i=new Na(e,t.h))}function ne(t,e,n){t.i.set(e,n)}function vh(t){return ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Co(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Po(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var V0=/[#\/\?@]/g,XU=/[#\?:]/g,QU=/[#\?]/g,JU=/[#\?@]/g,ZU=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fi(t){t.g||(t.g=new Map,t.h=0,t.i&&qU(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}R=Na.prototype;R.add=function(t,e){Fi(this),this.i=null,t=Gs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rI(t,e){Fi(t),e=Gs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sI(t,e){return Fi(t),e=Gs(t,e),t.g.has(e)}R.forEach=function(t,e){Fi(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};R.ta=function(){Fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};R.Z=function(t){Fi(this);let e=[];if(typeof t=="string")sI(this,t)&&(e=e.concat(this.g.get(Gs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};R.set=function(t,e){return Fi(this),this.i=null,t=Gs(this,t),sI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};R.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oI(t,e,n){rI(t,e),0<n.length&&(t.i=null,t.g.set(Gs(t,e),Gg(n)),t.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function Gs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eV(t,e){e&&!t.j&&(Fi(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(rI(this,i),oI(this,r,n))},t)),t.j=e}var tV=class{constructor(t,e){this.g=t,this.map=e}};function aI(t){this.l=t||nV,M.PerformanceNavigationTiming?(t=M.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(M.g&&M.g.Ka&&M.g.Ka()&&M.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nV=10;function lI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uI(t){return t.h?1:t.g?t.g.size:0}function Pp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uy(t,e){t.g?t.g.add(e):t.h=e}function cI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aI.prototype.cancel=function(){if(this.i=hI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gg(t.i)}var iV=class{stringify(t){return M.JSON.stringify(t,void 0)}parse(t){return M.JSON.parse(t,void 0)}};function rV(){this.g=new iV}function sV(t,e,n){const i=n||"";try{nI(t,function(r,s){let o=r;rl(r)&&(o=ey(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oV(t,e){const n=new mh;if(M.Image){const i=new Image;i.onload=Vl(Bl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Vl(Bl,n,i,"TestLoadImage: error",!1,e),i.onabort=Vl(Bl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Vl(Bl,n,i,"TestLoadImage: timeout",!1,e),M.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Bl(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function _h(t){this.l=t.ec||null,this.j=t.ob||!1}Oe(_h,oy);_h.prototype.g=function(){return new wh(this.l,this.j)};_h.prototype.i=function(t){return function(){return t}}({});function wh(t,e){Ne.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(wh,Ne);var cy=0;R=wh.prototype;R.open=function(t,e){if(this.readyState!=cy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};R.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||M).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=cy};R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof M.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function dI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):Oa(this),this.readyState==3&&dI(this)}};R.Za=function(t){this.g&&(this.response=this.responseText=t,cl(this))};R.Ya=function(t){this.g&&(this.response=t,cl(this))};R.ka=function(){this.g&&cl(this)};function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}R.setRequestHeader=function(t,e){this.v.append(t,e)};R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aV=M.JSON.parse;function ye(t){Ne.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fI,this.L=this.M=!1}Oe(ye,Ne);var fI="",lV=/^https?$/i,uV=["POST","PUT"];R=ye.prototype;R.Oa=function(t){this.M=t};R.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ep.g(),this.C=this.u?j0(this.u):j0(Ep),this.g.onreadystatechange=Ze(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){$0(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=M.FormData&&t instanceof M.FormData,!(0<=NP(uV,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gI(this),0<this.B&&((this.L=cV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.ua,this)):this.A=iy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$0(this,s)}};function cV(t){return Pa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}R.ua=function(){typeof Kg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$e(this,"timeout"),this.abort(8))};function $0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pI(t),Eh(t)}function pI(t){t.F||(t.F=!0,$e(t,"complete"),$e(t,"error"))}R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$e(this,"complete"),$e(this,"abort"),Eh(this))};R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),ye.$.N.call(this)};R.La=function(){this.s||(this.G||this.v||this.l?mI(this):this.kb())};R.kb=function(){mI(this)};function mI(t){if(t.h&&typeof Kg<"u"&&(!t.C[1]||hn(t)!=4||t.da()!=2)){if(t.v&&hn(t)==4)iy(t.La,0,t);else if($e(t,"readystatechange"),hn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(iI)[1]||null;!r&&M.self&&M.self.location&&(r=M.self.location.protocol.slice(0,-1)),i=!lV.test(r?r.toLowerCase():"")}n=i}if(n)$e(t,"complete"),$e(t,"success");else{t.m=6;try{var s=2<hn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",pI(t)}}finally{Eh(t)}}}}function Eh(t,e){if(t.g){gI(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$e(t,"ready");try{n.onreadystatechange=i}catch{}}}function gI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(M.clearTimeout(t.A),t.A=null)}R.isActive=function(){return!!this.g};function hn(t){return t.g?t.g.readyState:0}R.da=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}};R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aV(e)}};function B0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hV(t){const e={};t=(t.g&&2<=hn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ca(t[i]))continue;var n=LU(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}xU(e,function(i){return i.join(", ")})}R.Ia=function(){return this.m};R.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yI(t){let e="";return Yg(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function hy(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=yI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ne(t,e,n))}function fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vI(t){this.Ga=0,this.j=[],this.l=new mh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fo("baseRetryDelayMs",5e3,t),this.hb=fo("retryDelaySeedMs",1e4,t),this.eb=fo("forwardChannelMaxRetries",2,t),this.xa=fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aI(t&&t.concurrentRequestLimit),this.Ja=new rV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}R=vI.prototype;R.ra=8;R.H=1;function dy(t){if(_I(t),t.H==3){var e=t.W++,n=Hn(t.I);if(ne(n,"SID",t.K),ne(n,"RID",e),ne(n,"TYPE","terminate"),hl(t,n),e=new ll(t,t.l,e),e.L=2,e.A=vh(Hn(n)),n=!1,M.navigator&&M.navigator.sendBeacon)try{n=M.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&M.Image&&(new Image().src=e.A,n=!0),n||(e.g=xI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ul(e)}PI(t)}function Sh(t){t.g&&(py(t),t.g.cancel(),t.g=null)}function _I(t){Sh(t),t.u&&(M.clearTimeout(t.u),t.u=null),hc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&M.clearTimeout(t.m),t.m=null)}function Th(t){if(!lI(t.i)&&!t.m){t.m=!0;var e=t.Na;xa||zP(),ka||(xa(),ka=!0),ty.add(e,t),t.C=0}}function dV(t,e){return uI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ol(Ze(t.Na,t,e),CI(t,t.C)),t.C++,!0)}R.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ll(this,this.l,t);let s=this.s;if(this.U&&(s?(s=bP(s),MP(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wI(this,r,e),n=Hn(this.I),ne(n,"RID",t),ne(n,"CVER",22),this.F&&ne(n,"X-HTTP-Session-Id",this.F),hl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(yI(s)))+"&"+e:this.o&&hy(n,this.o,s)),uy(this.i,r),this.bb&&ne(n,"TYPE","init"),this.P?(ne(n,"$req",e),ne(n,"SID","null"),r.aa=!0,Tp(r,n,null)):Tp(r,n,e),this.H=2}}else this.H==3&&(t?z0(this,t):this.j.length==0||lI(this.i)||z0(this))};function z0(t,e){var n;e?n=e.m:n=t.W++;const i=Hn(t.I);ne(i,"SID",t.K),ne(i,"RID",n),ne(i,"AID",t.V),hl(t,i),t.o&&t.s&&hy(i,t.o,t.s),n=new ll(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uy(t.i,n),Tp(n,i,e)}function hl(t,e){t.na&&Yg(t.na,function(n,i){ne(e,i,n)}),t.h&&nI({},function(n,i){ne(e,i,n)})}function wI(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ze(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=r[l].g;const c=r[l].map;if(u-=s,0>u)s=Math.max(0,r[l].g-100),a=!1;else try{sV(c,o,"req"+u+"_")}catch{i&&i(c)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function EI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xa||zP(),ka||(xa(),ka=!0),ty.add(e,t),t.A=0}}function fy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ol(Ze(t.Ma,t),CI(t,t.A)),t.A++,!0)}R.Ma=function(){if(this.u=null,SI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ol(Ze(this.jb,this),t)}};R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,at(10),Sh(this),SI(this))};function py(t){t.B!=null&&(M.clearTimeout(t.B),t.B=null)}function SI(t){t.g=new ll(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hn(t.wa);ne(e,"RID","rpc"),ne(e,"SID",t.K),ne(e,"AID",t.V),ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ne(e,"TO",t.qa),ne(e,"TYPE","xmlhttp"),hl(t,e),t.o&&t.s&&hy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vh(Hn(e)),n.u=null,n.S=!0,JP(n,t)}R.ib=function(){this.v!=null&&(this.v=null,Sh(this),fy(this),at(19))};function hc(t){t.v!=null&&(M.clearTimeout(t.v),t.v=null)}function TI(t,e){var n=null;if(t.g==e){hc(t),py(t),t.g=null;var i=2}else if(Pp(t.i,e))n=e.F,cI(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=ry(),$e(i,new YP(i,n)),Th(t)}else EI(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&dV(t,e)||i==2&&fy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:rr(t,5);break;case 4:rr(t,10);break;case 3:rr(t,6);break;default:rr(t,2)}}}function CI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ze(t.pb,t);n||(n=new ur("//www.google.com/images/cleardot.gif"),M.location&&M.location.protocol=="http"||uc(n,"https"),vh(n)),oV(n.toString(),i)}else at(2);t.H=0,t.h&&t.h.za(e),PI(t),_I(t)}R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),at(2)):(this.l.info("Failed to ping google.com"),at(1))};function PI(t){if(t.H=0,t.ma=[],t.h){const e=hI(t.i);(e.length!=0||t.j.length!=0)&&(O0(t.ma,e),O0(t.ma,t.j),t.i.i.length=0,Gg(t.j),t.j.length=0),t.h.ya()}}function II(t,e,n){var i=n instanceof ur?Hn(n):new ur(n);if(i.g!="")e&&(i.g=e+"."+i.g),cc(i,i.m);else{var r=M.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new ur(null);i&&uc(s,i),e&&(s.g=e),r&&cc(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&ne(i,n,e),ne(i,"VER",t.ra),hl(t,i),i}function xI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ye(new _h({ob:n})):new ye(t.va),e.Oa(t.J),e}R.isActive=function(){return!!this.h&&this.h.isActive(this)};function kI(){}R=kI.prototype;R.Ba=function(){};R.Aa=function(){};R.za=function(){};R.ya=function(){};R.isActive=function(){return!0};R.Va=function(){};function Wt(t,e){Ne.call(this),this.g=new vI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new qs(this)}Oe(Wt,Ne);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;at(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=II(t,null,t.Y),Th(t)};Wt.prototype.close=function(){dy(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ey(t),t=n);e.j.push(new tV(e.fb++,t)),e.H==3&&Th(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,dy(this.g),delete this.g,Wt.$.N.call(this)};function RI(t){ay.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Oe(RI,ay);function AI(){ly.call(this),this.status=1}Oe(AI,ly);function qs(t){this.g=t}Oe(qs,kI);qs.prototype.Ba=function(){$e(this.g,"a")};qs.prototype.Aa=function(t){$e(this.g,new RI(t))};qs.prototype.za=function(t){$e(this.g,new AI)};qs.prototype.ya=function(){$e(this.g,"b")};function fV(){this.blockSize=-1}function _n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Oe(_n,fV);_n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ad(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}_n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Ad(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Ad(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Ad(this,i),r=0;break}}this.h=r,this.i+=e};_n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function X(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var pV={};function my(t){return-128<=t&&128>t?EU(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function dn(t){if(isNaN(t)||!isFinite(t))return ms;if(0>t)return Ue(dn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ip;return new X(e,0)}function NI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ue(NI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dn(Math.pow(e,8)),i=ms,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=dn(Math.pow(e,s)),i=i.R(s).add(dn(o))):(i=i.R(n),i=i.add(dn(o)))}return i}var Ip=4294967296,ms=my(0),xp=my(1),W0=my(16777216);R=X.prototype;R.ea=function(){if(Mt(this))return-Ue(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ip+i)*e,e*=Ip}return t};R.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(An(this))return"0";if(Mt(this))return"-"+Ue(this).toString(t);for(var e=dn(Math.pow(t,6)),n=this,i="";;){var r=fc(n,e).g;n=dc(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,An(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function An(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mt(t){return t.h==-1}R.X=function(t){return t=dc(this,t),Mt(t)?-1:An(t)?0:1};function Ue(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new X(n,~t.h).add(xp)}R.abs=function(){return Mt(this)?Ue(this):this};R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function dc(t,e){return t.add(Ue(e))}R.R=function(t){if(An(this)||An(t))return ms;if(Mt(this))return Mt(t)?Ue(this).R(Ue(t)):Ue(Ue(this).R(t));if(Mt(t))return Ue(this.R(Ue(t)));if(0>this.X(W0)&&0>t.X(W0))return dn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=o*l,zl(n,2*i+2*r),n[2*i+2*r+1]+=s*l,zl(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,zl(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,zl(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new X(n,0)};function zl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function po(t,e){this.g=t,this.h=e}function fc(t,e){if(An(e))throw Error("division by zero");if(An(t))return new po(ms,ms);if(Mt(t))return e=fc(Ue(t),e),new po(Ue(e.g),Ue(e.h));if(Mt(e))return e=fc(t,Ue(e)),new po(Ue(e.g),e.h);if(30<t.g.length){if(Mt(t)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xp,i=e;0>=i.X(t);)n=H0(n),i=H0(i);var r=Lr(n,1),s=Lr(i,1);for(i=Lr(i,2),n=Lr(n,2);!An(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Lr(i,1),n=Lr(n,1)}return e=dc(t,r.R(e)),new po(r,e)}for(r=ms;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=dn(n),o=s.R(e);Mt(o)||0<o.X(t);)n-=i,s=dn(n),o=s.R(e);An(s)&&(s=xp),r=r.add(s),t=dc(t,o)}return new po(r,t)}R.gb=function(t){return fc(this,t).h};R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new X(n,this.h&t.h)};R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new X(n,this.h|t.h)};R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new X(n,this.h^t.h)};function H0(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new X(n,t.h)}function Lr(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(r,t.h)}Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;sy.NO_ERROR=0;sy.TIMEOUT=8;sy.HTTP_ERROR=6;BU.COMPLETE="complete";zU.EventType=al;al.OPEN="a";al.CLOSE="b";al.ERROR="c";al.MESSAGE="d";Ne.prototype.listen=Ne.prototype.O;ye.prototype.listenOnce=ye.prototype.P;ye.prototype.getLastError=ye.prototype.Sa;ye.prototype.getLastErrorCode=ye.prototype.Ia;ye.prototype.getStatus=ye.prototype.da;ye.prototype.getResponseJson=ye.prototype.Wa;ye.prototype.getResponseText=ye.prototype.ja;ye.prototype.send=ye.prototype.ha;ye.prototype.setWithCredentials=ye.prototype.Oa;_n.prototype.digest=_n.prototype.l;_n.prototype.reset=_n.prototype.reset;_n.prototype.update=_n.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=dn;X.fromString=NI;var mV=X;const K0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new $c("@firebase/firestore");function It(t,...e){if(Os.logLevel<=K.DEBUG){const n=e.map(yy);Os.debug(`Firestore (${dl}): ${t}`,...n)}}function gy(t,...e){if(Os.logLevel<=K.ERROR){const n=e.map(yy);Os.error(`Firestore (${dl}): ${t}`,...n)}}function gV(t,...e){if(Os.logLevel<=K.WARN){const n=e.map(yy);Os.warn(`Firestore (${dl}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="Unexpected state"){const e=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: `+t;throw gy(e),new Error(e)}function kp(t,e){t||vy()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}}class vV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _V{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kp(typeof i.accessToken=="string"),new OI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kp(e===null||typeof e=="string"),new qe(e)}}class wV{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EV{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new wV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,It("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kp(typeof n.token=="string"),this.R=n.token,new SV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=CV(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function DI(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class pc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G0,W;(W=G0||(G0={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new mV([4294967295,4294967295],0);function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=i,this.No=r,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),i=Math.max(0,Date.now()-this.qo),r=Math.max(0,n-i);r>0&&It("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new _y(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kV(t,e){if(gy("AsyncQueue",`${e}: ${t}`),DI(t))return new Qe(Xe.UNAVAILABLE,`${e}: ${t}`);throw t}var q0,Y0;(Y0=q0||(q0={})).J_="default",Y0.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qe.UNAUTHENTICATED,this.clientId=PV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{It("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(It("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=kV(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;function AV(t,e,n,i){if(e===!0&&i===!0)throw new Qe(Xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NV(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vy()}function OV(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NV(t);throw new Qe(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qe(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Qe(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Qe(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Qe(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bI{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Qe(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Qe(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yV;switch(i.type){case"firstParty":return new EV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Qe(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=X0.get(n);i&&(It("ComponentProvider","Removing Datastore"),X0.delete(n),i.terminate())}(this),Promise.resolve()}}function DV(t,e,n,i={}){var r;const s=(t=OV(t,bI))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gV("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=qe.MOCK_USER;else{a=KS(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Qe(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qe(u)}t._authCredentials=new vV(new OI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new xV(this,"async_queue_retry"),this.hu=()=>{const n=Nd();n&&It("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=Nd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new gs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!DI(e))throw e;It("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw gy("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=_y.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&vy()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class bV extends bI{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new LV}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FV(this),this._firestoreClient.terminate()}}function MV(t,e){const n=typeof t=="object"?t:Hm(),i=typeof t=="string"?t:e||"(default)",r=Bc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=zS("firestore");s&&DV(r,...s)}return r}function FV(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,c){return new IV(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new RV(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}(function(e,n=!0){(function(r){dl=r})(xr),yr(new Pi("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new bV(new _V(i.getProvider("auth-internal")),new TV(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mn(K0,"4.6.1",e),mn(K0,"4.6.1","esm2017")})();const jV={apiKey:"AIzaSyCOggO8RKta6u0qolwyfOkpTijFznKlysg",authDomain:"open-dots-f2.firebaseapp.com",databaseURL:"https://open-dots-f2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"open-dots-f2",storageBucket:"open-dots-f2.appspot.com",messagingSenderId:"962649740482",appId:"1:962649740482:web:3a13f1a391364d4955d75b",measurementId:"G-2Z2M6K1PKL"},UV=$s(jV),Wi=Xa(UV),VV=t=>{const e=t.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w-]{11})/);return e?e[1]:null},$V=()=>{const{sessionId:t}=LS(),[e,n]=w.useState(null);w.useEffect(()=>{const o=an(Wi,`sessions/${t}`);ic(o,a=>{n(a.val())})},[t,Wi]);const i=w.useRef(null);let r=null,s=null;return w.useEffect(()=>{if(e&&e.youtubeLink){const o=VV(e.youtubeLink);if(o){const a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";const l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(a,l),window.onYouTubeIframeAPIReady=()=>{r=new window.YT.Player(i.current,{height:"390",width:"640",videoId:o,playerVars:{playsinline:1,controls:1},events:{onReady:u=>{console.log("Video is ready"),uo(an(Wi,`sessions/${t}`),{timestamp:r.getCurrentTime(),date:new Date().toISOString()}),u.target.playVideo()},onStateChange:u=>{switch(u.data){case window.YT.PlayerState.PLAYING:console.log("Video is playing"),uo(an(Wi,`sessions/${t}`),{state:"PLAYING",timestamp:r.getCurrentTime(),date:new Date().toISOString()});let c=0;s=setInterval(()=>{c++,c<=3&&uo(an(Wi,`sessions/${t}`),{timestamp:r.getCurrentTime(),date:new Date().toISOString()})},2e3);break;case window.YT.PlayerState.PAUSED:console.log("Video is paused"),uo(an(Wi,`sessions/${t}`),{state:"PAUSED",timestamp:r.getCurrentTime(),date:new Date().toISOString()});break;case window.YT.PlayerState.ENDED:console.log("Video has ended"),clearInterval(s),uo(an(Wi,`sessions/${t}`),{state:"ENDED"});break}}}})}}}},[e]),v.jsxs(v.Fragment,{children:[v.jsx("div",{id:"player",ref:i}),e&&v.jsxs(v.Fragment,{children:[v.jsx("h1",{children:e.songName}),v.jsx("p",{children:e.username}),v.jsx("p",{children:e.startTime}),v.jsx("p",{children:e.youtubeLink})]})]})};function BV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function Da(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Rp=t=>Array.isArray(t);function MI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function La(t){return typeof t=="string"||Array.isArray(t)}function J0(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function wy(t,e,n,i){if(typeof e=="function"){const[r,s]=J0(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=J0(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function Ch(t,e,n){const i=t.getProps();return wy(i,e,n!==void 0?n:i.custom,t)}const Ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sy=["initial",...Ey],fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ji=new Set(fl),Ln=t=>t*1e3,bn=t=>t/1e3,zV={type:"spring",stiffness:500,damping:25,restSpeed:10},WV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HV={type:"keyframes",duration:.8},KV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GV=(t,{keyframes:e})=>e.length>2?HV:ji.has(t)?t.startsWith("scale")?WV(e[1]):zV:KV;function qV({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Ty(t,e){return t[e]||t.default||t}const YV={skipAnimations:!1,useManualTiming:!1},XV=t=>t!==null;function Ph(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(XV),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const tt=t=>t;function QV(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,c=!1,h=!1)=>{const p=h&&i?e:n;return c&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,i){r=!0;return}i=!0,[e,n]=[n,e],n.clear(),e.forEach(a),i=!1,r&&(r=!1,l.process(u))}};return l}const Wl=["read","resolveKeyframes","update","preRender","render","postRender"],JV=40;function FI(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Wl.reduce((m,f)=>(m[f]=QV(s),m),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,p=()=>{const m=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(m-r.timestamp,JV),1),r.timestamp=m,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},g=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:Wl.reduce((m,f)=>{const y=o[f];return m[f]=(S,T=!1,x=!1)=>(n||g(),y.schedule(S,T,x)),m},{}),cancel:m=>{for(let f=0;f<Wl.length;f++)o[Wl[f]].cancel(m)},state:r,steps:o}}const{schedule:q,cancel:Kn,state:Fe,steps:Od}=FI(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),jI=t=>/^0[^.\s]+$/u.test(t);function ZV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jI(t):!0}let UI=tt;const VI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),$I=t=>e=>typeof e=="string"&&e.startsWith(t),BI=$I("--"),e$=$I("var(--"),Cy=t=>e$(t)?t$.test(t.split("/*")[0].trim()):!1,t$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,n$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i$(t){const e=n$.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function zI(t,e,n=1){const[i,r]=i$(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return VI(o)?parseFloat(o):o}return Cy(r)?zI(r,e,n+1):r}const ki=(t,e,n)=>n>e?e:n<t?t:n,Ys={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zo={...Ys,transform:t=>ki(0,1,t)},Hl={...Ys,default:1},Wo=t=>Math.round(t*1e5)/1e5,Py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,r$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,s$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function pl(t){return typeof t=="string"}function o$(t){return t==null}const ml=t=>({test:e=>pl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zn=ml("deg"),vn=ml("%"),D=ml("px"),a$=ml("vh"),l$=ml("vw"),Z0={...vn,parse:t=>vn.parse(t)/100,transform:t=>vn.transform(t*100)},u$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ew=t=>t===Ys||t===D,tw=(t,e)=>parseFloat(t.split(", ")[e]),nw=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return tw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?tw(s[1],t):0}},c$=new Set(["x","y","z"]),h$=fl.filter(t=>!c$.has(t));function d$(t){const e=[];return h$.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ds={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nw(4,13),y:nw(5,14)};Ds.translateX=Ds.x;Ds.translateY=Ds.y;const WI=t=>e=>e.test(t),f$={test:t=>t==="auto",parse:t=>t},HI=[Ys,D,vn,Zn,l$,a$,f$],iw=t=>HI.find(WI(t)),cr=new Set;let Ap=!1,Np=!1;function KI(){if(Np){const t=Array.from(cr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=d$(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Np=!1,Ap=!1,cr.forEach(t=>t.complete()),cr.clear()}function GI(){cr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Np=!0)})}function p$(){GI(),KI()}class Iy{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cr.add(this),Ap||(Ap=!0,q.read(GI),q.resolveKeyframes(KI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xy=(t,e)=>n=>!!(pl(n)&&s$.test(n)&&n.startsWith(t)||e&&!o$(n)&&Object.prototype.hasOwnProperty.call(n,e)),qI=(t,e,n)=>i=>{if(!pl(i))return i;const[r,s,o,a]=i.match(Py);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},m$=t=>ki(0,255,t),Dd={...Ys,transform:t=>Math.round(m$(t))},sr={test:xy("rgb","red"),parse:qI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Dd.transform(t)+", "+Dd.transform(e)+", "+Dd.transform(n)+", "+Wo(zo.transform(i))+")"};function g$(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Op={test:xy("#"),parse:g$,transform:sr.transform},Xr={test:xy("hsl","hue"),parse:qI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+vn.transform(Wo(e))+", "+vn.transform(Wo(n))+", "+Wo(zo.transform(i))+")"},Ge={test:t=>sr.test(t)||Op.test(t)||Xr.test(t),parse:t=>sr.test(t)?sr.parse(t):Xr.test(t)?Xr.parse(t):Op.parse(t),transform:t=>pl(t)?t:t.hasOwnProperty("red")?sr.transform(t):Xr.transform(t)};function y$(t){var e,n;return isNaN(t)&&pl(t)&&(((e=t.match(Py))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(r$))===null||n===void 0?void 0:n.length)||0)>0}const YI="number",XI="color",v$="var",_$="var(",rw="${}",w$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ba(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(w$,l=>(Ge.test(l)?(i.color.push(s),r.push(XI),n.push(Ge.parse(l))):l.startsWith(_$)?(i.var.push(s),r.push(v$),n.push(l)):(i.number.push(s),r.push(YI),n.push(parseFloat(l))),++s,rw)).split(rw);return{values:n,split:a,indexes:i,types:r}}function QI(t){return ba(t).values}function JI(t){const{split:e,types:n}=ba(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===YI?s+=Wo(r[o]):a===XI?s+=Ge.transform(r[o]):s+=r[o]}return s}}const E$=t=>typeof t=="number"?0:t;function S$(t){const e=QI(t);return JI(t)(e.map(E$))}const Ri={test:y$,parse:QI,createTransformer:JI,getAnimatableNone:S$},T$=new Set(["brightness","contrast","saturate","opacity"]);function C$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Py)||[];if(!i)return t;const r=n.replace(i,"");let s=T$.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const P$=/\b([a-z-]*)\(.*?\)/gu,Dp={...Ri,getAnimatableNone:t=>{const e=t.match(P$);return e?e.map(C$).join(" "):t}},sw={...Ys,transform:Math.round},ky={borderWidth:D,borderTopWidth:D,borderRightWidth:D,borderBottomWidth:D,borderLeftWidth:D,borderRadius:D,radius:D,borderTopLeftRadius:D,borderTopRightRadius:D,borderBottomRightRadius:D,borderBottomLeftRadius:D,width:D,maxWidth:D,height:D,maxHeight:D,size:D,top:D,right:D,bottom:D,left:D,padding:D,paddingTop:D,paddingRight:D,paddingBottom:D,paddingLeft:D,margin:D,marginTop:D,marginRight:D,marginBottom:D,marginLeft:D,rotate:Zn,rotateX:Zn,rotateY:Zn,rotateZ:Zn,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Zn,skewX:Zn,skewY:Zn,distance:D,translateX:D,translateY:D,translateZ:D,x:D,y:D,z:D,perspective:D,transformPerspective:D,opacity:zo,originX:Z0,originY:Z0,originZ:D,zIndex:sw,backgroundPositionX:D,backgroundPositionY:D,fillOpacity:zo,strokeOpacity:zo,numOctaves:sw},I$={...ky,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:Dp,WebkitFilter:Dp},Ry=t=>I$[t];function ZI(t,e){let n=Ry(t);return n!==Dp&&(n=Ri),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x$=new Set(["auto","none","0"]);function k$(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!x$.has(s)&&ba(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=ZI(n,r)}class ex extends Iy{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Cy(u))){const c=zI(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!u$.has(i)||e.length!==2)return;const[r,s]=e,o=iw(r),a=iw(s);if(o!==a)if(ew(o)&&ew(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)ZV(e[r])&&i.push(r);i.length&&k$(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ds[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ds[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function tx(t){let e;return()=>(e===void 0&&(e=t()),e)}let hu;function R$(){hu=void 0}const Mn={now:()=>(hu===void 0&&Mn.set(Fe.isProcessing||YV.useManualTiming?Fe.timestamp:performance.now()),hu),set:t=>{hu=t,queueMicrotask(R$)}},ow=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ri.test(t)||t==="0")&&!t.startsWith("url("));function A$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function N$(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ow(r,e),a=ow(s,e);return!o||!a?!1:A$(t)||n==="spring"&&i}const O$=40;class nx{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>O$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&p$(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Mn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!N$(e,i,r,s))if(o)this.options.duration=0;else{l==null||l(Ph(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function ix(t,e){return e?t*(1e3/e):0}const D$=5;function rx(t,e,n){const i=Math.max(e-D$,0);return ix(n-t(i),e-i)}const Ld=.001,L$=.01,b$=10,M$=.05,F$=1;function j$({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s,o=1-e;o=ki(M$,F$,o),t=ki(L$,b$,bn(t)),o<1?(r=u=>{const c=u*o,h=c*t,d=c-n,p=Lp(u,o),g=Math.exp(-h);return Ld-d/p*g},s=u=>{const h=u*o*t,d=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),_=Lp(Math.pow(u,2),o);return(-r(u)+Ld>0?-1:1)*((d-p)*g)/_}):(r=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Ld+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=V$(r,s,a);if(t=Ln(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const U$=12;function V$(t,e,n){let i=n;for(let r=1;r<U$;r++)i=i-t(i)/e(i);return i}function Lp(t,e){return t*Math.sqrt(1-e*e)}const $$=["duration","bounce"],B$=["stiffness","damping","mass"];function aw(t,e){return e.some(n=>t[n]!==void 0)}function z$(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!aw(t,B$)&&aw(t,$$)){const n=j$(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function sx({keyframes:t,restDelta:e,restSpeed:n,...i}){const r=t[0],s=t[t.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,duration:c,velocity:h,isResolvedFromDuration:d}=z$({...i,velocity:-bn(i.velocity||0)}),p=h||0,g=l/(2*Math.sqrt(a*u)),_=s-r,E=bn(Math.sqrt(a/u)),m=Math.abs(_)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let f;if(g<1){const y=Lp(E,g);f=S=>{const T=Math.exp(-g*E*S);return s-T*((p+g*E*_)/y*Math.sin(y*S)+_*Math.cos(y*S))}}else if(g===1)f=y=>s-Math.exp(-E*y)*(_+(p+E*_)*y);else{const y=E*Math.sqrt(g*g-1);f=S=>{const T=Math.exp(-g*E*S),x=Math.min(y*S,300);return s-T*((p+g*E*_)*Math.sinh(x)+y*_*Math.cosh(x))/y}}return{calculatedDuration:d&&c||null,next:y=>{const S=f(y);if(d)o.done=y>=c;else{let T=0;g<1&&(T=y===0?Ln(p):rx(f,y,S));const x=Math.abs(T)<=n,k=Math.abs(s-S)<=e;o.done=x&&k}return o.value=o.done?s:S,o}}}function lw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let _=n*e;const E=h+_,m=o===void 0?E:o(E);m!==E&&(_=m-h);const f=C=>-_*Math.exp(-C/i),y=C=>m+f(C),S=C=>{const F=f(C),O=y(C);d.done=Math.abs(F)<=u,d.value=d.done?m:O};let T,x;const k=C=>{p(d.value)&&(T=C,x=sx({keyframes:[d.value,g(d.value)],velocity:rx(y,C,d.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:C=>{let F=!1;return!x&&T===void 0&&(F=!0,S(C),k(C)),T!==void 0&&C>=T?x.next(C-T):(!F&&S(C),d)}}}const ox=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W$=1e-7,H$=12;function K$(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=ox(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>W$&&++a<H$);return o}function gl(t,e,n,i){if(t===e&&n===i)return tt;const r=s=>K$(s,0,1,t,n);return s=>s===0||s===1?s:ox(r(s),e,i)}const G$=gl(.42,0,1,1),q$=gl(0,0,.58,1),ax=gl(.42,0,.58,1),Y$=t=>Array.isArray(t)&&typeof t[0]!="number",lx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ux=t=>e=>1-t(1-e),Ay=t=>1-Math.sin(Math.acos(t)),cx=ux(Ay),X$=lx(Ay),hx=gl(.33,1.53,.69,.99),Ny=ux(hx),Q$=lx(Ny),J$=t=>(t*=2)<1?.5*Ny(t):.5*(2-Math.pow(2,-10*(t-1))),Z$={linear:tt,easeIn:G$,easeInOut:ax,easeOut:q$,circIn:Ay,circInOut:X$,circOut:cx,backIn:Ny,backInOut:Q$,backOut:hx,anticipate:J$},uw=t=>{if(Array.isArray(t)){UI(t.length===4);const[e,n,i,r]=t;return gl(e,n,i,r)}else if(typeof t=="string")return Z$[t];return t},e3=(t,e)=>n=>e(t(n)),Fn=(...t)=>t.reduce(e3),Ma=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},oe=(t,e,n)=>t+(e-t)*n;function bd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t3({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=bd(l,a,t+1/3),s=bd(l,a,t),o=bd(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function mc(t,e){return n=>n>0?e:t}const Md=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},n3=[Op,sr,Xr],i3=t=>n3.find(e=>e.test(t));function cw(t){const e=i3(t);if(!e)return!1;let n=e.parse(t);return e===Xr&&(n=t3(n)),n}const hw=(t,e)=>{const n=cw(t),i=cw(e);if(!n||!i)return mc(t,e);const r={...n};return s=>(r.red=Md(n.red,i.red,s),r.green=Md(n.green,i.green,s),r.blue=Md(n.blue,i.blue,s),r.alpha=oe(n.alpha,i.alpha,s),sr.transform(r))},bp=new Set(["none","hidden"]);function r3(t,e){return bp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function s3(t,e){return n=>oe(t,e,n)}function Oy(t){return typeof t=="number"?s3:typeof t=="string"?Cy(t)?mc:Ge.test(t)?hw:l3:Array.isArray(t)?dx:typeof t=="object"?Ge.test(t)?hw:o3:mc}function dx(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Oy(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function o3(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Oy(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function a3(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const l3=(t,e)=>{const n=Ri.createTransformer(e),i=ba(t),r=ba(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?bp.has(t)&&!r.values.length||bp.has(e)&&!i.values.length?r3(t,e):Fn(dx(a3(i,r),r.values),n):mc(t,e)};function fx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?oe(t,e,n):Oy(t)(t,e)}function u3(t,e,n){const i=[],r=n||fx,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tt:e;a=Fn(l,a)}i.push(a)}return i}function c3(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(UI(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=u3(e,i,r),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Ma(t[c],t[c+1],u);return o[c](h)};return n?u=>l(ki(t[0],t[s-1],u)):l}function h3(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Ma(0,e,i);t.push(oe(n,1,r))}}function d3(t){const e=[0];return h3(e,t.length-1),e}function f3(t,e){return t.map(n=>n*e)}function p3(t,e){return t.map(()=>e||ax).splice(0,t.length-1)}function gc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Y$(i)?i.map(uw):uw(i),s={done:!1,value:e[0]},o=f3(n&&n.length===e.length?n:d3(e),t),a=c3(o,e,{ease:Array.isArray(r)?r:p3(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const dw=2e4;function m3(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<dw;)e+=n,i=t.next(e);return e>=dw?1/0:e}const g3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>q.update(e,!0),stop:()=>Kn(e),now:()=>Fe.isProcessing?Fe.timestamp:Mn.now()}},y3={decay:lw,inertia:lw,tween:gc,keyframes:gc,spring:sx},v3=t=>t/100;class Dy extends nx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Iy,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=y3[n]||gc;let l,u;a!==gc&&typeof e[0]!="number"&&(l=Fn(v3,fx(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=m3(c));const{calculatedDuration:h}=c,d=h+r,p=d*(i+1)-r;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-d*(this.speed>=0?1:-1),f=this.speed>=0?m<0:m>c;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let y=this.currentTime,S=s;if(p){const C=Math.min(this.currentTime,c)/h;let F=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&F--,F=Math.min(F,p+1),!!(F%2)&&(g==="reverse"?(O=1-O,_&&(O-=_/h)):g==="mirror"&&(S=o)),y=ki(0,1,O)*h}const T=f?{done:!1,value:l[0]}:S.next(y);a&&(T.value=a(T.value));let{done:x}=T;!f&&u!==null&&(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&x);return k&&r!==void 0&&(T.value=Ph(l,this.options,r)),E&&E(T.value),k&&this.finish(),T}get duration(){const{resolved:e}=this;return e?bn(e.calculatedDuration):0}get time(){return bn(this.currentTime)}set time(e){e=Ln(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=bn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=g3,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const px=new Set(["opacity","clipPath","filter","transform"]),mx=t=>Array.isArray(t)&&typeof t[0]=="number";function gx(t){return!!(!t||typeof t=="string"&&t in Ly||mx(t)||Array.isArray(t)&&t.every(gx))}const Io=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function _3(t){return yx(t)||Ly.easeOut}function yx(t){if(t)return mx(t)?Io(t):Array.isArray(t)?t.map(_3):Ly[t]}function w3(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=yx(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const E3=tx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yc=10,S3=2e4;function T3(t){return t.type==="spring"||!gx(t.ease)}function C3(t,e){const n=new Dy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<S3;)i=n.sample(s),r.push(i.value),s+=yc;return{times:void 0,keyframes:r,duration:s-yc,ease:"linear"}}class fw extends nx{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new ex(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){var i;let{duration:r=300,times:s,ease:o,type:a,motionValue:l,name:u,startTime:c}=this.options;if(!(!((i=l.owner)===null||i===void 0)&&i.current))return!1;if(T3(this.options)){const{onComplete:d,onUpdate:p,motionValue:g,element:_,...E}=this.options,m=C3(e,E);e=m.keyframes,e.length===1&&(e[1]=e[0]),r=m.duration,s=m.times,o=m.ease,a="keyframes"}const h=w3(l.owner.current,u,e,{...this.options,duration:r,times:s,ease:o});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(h.timeline=this.pendingTimeline,this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;l.set(Ph(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return bn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return bn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ln(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return tt;const{animation:i}=n;i.timeline=e,i.onfinish=null}return tt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:h,element:d,...p}=this.options,g=new Dy({...p,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=Ln(this.time);u.setWithVelocity(g.sample(_-yc).value,g.sample(_).value,yc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;return E3()&&i&&px.has(i)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}function P3(t,e){let n;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return q.update(i,!0),()=>Kn(i)}const I3=tx(()=>window.ScrollTimeline!==void 0);class x3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e){const n=this.animations.map(i=>{if(I3()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),P3(r=>{i.time=i.duration*r},e)});return()=>{n.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const by=(t,e,n,i={},r,s,o)=>a=>{const l=Ty(i,t)||{},u=l.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ln(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:r};qV(l)||(h={...h,...GV(t,h)}),h.duration&&(h.duration=Ln(h.duration)),h.repeatDelay&&(h.repeatDelay=Ln(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const p=Ph(h.keyframes,l);if(p!==void 0)return q.update(()=>{h.onUpdate(p),h.onComplete()}),new x3([])}return!s&&fw.supports(h)?new fw(h):new Dy(h)},k3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),R3=t=>Rp(t)?t[t.length-1]||0:t;function Ih(t,e){t.indexOf(e)===-1&&t.push(e)}function xh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class My{constructor(){this.subscriptions=[]}add(e){return Ih(this.subscriptions,e),()=>xh(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pw=30,A3=t=>!isNaN(parseFloat(t));class vx{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Mn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=A3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new My);const i=this.events[e].add(n);return e==="change"?()=>{i(),q.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return ix(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fa(t,e){return new vx(t,e)}function N3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fa(n))}function O3(t,e){const n=Ch(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=R3(s[o]);N3(t,o,a)}}const kh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D3="framerAppearId",_x="data-"+kh(D3);function wx(t){return t.props[_x]}function Ex(t){if(ji.has(t))return"transform";if(px.has(t))return kh(t)}class L3 extends vx{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=Ex(e);if(!n)return;const i=this.counts.get(n)||0;this.counts.set(n,i+1),i===0&&(this.output.push(n),this.update());let r=!1;return()=>{if(r)return;r=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(xh(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Je=t=>!!(t&&t.getVelocity);function b3(t){return!!(Je(t)&&t.add)}function Mp(t,e){var n;if(!t.applyWillChange)return;let i=t.getValue("willChange");if(!i&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(i=new L3("auto"),t.addValue("willChange",i)),b3(i))return i.add(e)}function M3({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Sx(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const u=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const d=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),p=l[h];if(p===void 0||c&&M3(c,h))continue;const g={delay:n,...Ty(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const m=wx(t);if(m){const f=window.MotionHandoffAnimation(m,h,q);f!==null&&(g.startTime=f,_=!0)}}d.start(by(h,d,p,t.shouldReduceMotion&&ji.has(h)?{type:!1}:g,t,_,Mp(t,h)));const E=d.animation;E&&u.push(E)}return a&&Promise.all(u).then(()=>{q.update(()=>{a&&O3(t,a)})}),u}function Fp(t,e,n={}){var i;const r=Ch(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Sx(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return F3(t,e,c+u,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function F3(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(t.variantChildren).sort(j3).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Fp(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function j3(t,e){return t.sortNodePosition(e)}function U3(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Fp(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Fp(t,e,n);else{const r=typeof e=="function"?Ch(t,e,n.custom):e;i=Promise.all(Sx(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const V3=[...Ey].reverse(),$3=Ey.length;function B3(t){return e=>Promise.all(e.map(({animation:n,options:i})=>U3(t,n,i)))}function z3(t){let e=B3(t),n=mw(),i=!0;const r=l=>(u,c)=>{var h;const d=Ch(t,c,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,..._}=d;u={...u,..._,...g}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},h=[],d=new Set;let p={},g=1/0;for(let E=0;E<$3;E++){const m=V3[E],f=n[m],y=u[m]!==void 0?u[m]:c[m],S=La(y),T=m===l?f.isActive:null;T===!1&&(g=E);let x=y===c[m]&&y!==u[m]&&S;if(x&&i&&t.manuallyAnimateOnMount&&(x=!1),f.protectedKeys={...p},!f.isActive&&T===null||!y&&!f.prevProp||Da(y)||typeof y=="boolean")continue;let C=W3(f.prevProp,y)||m===l&&f.isActive&&!x&&S||E>g&&S,F=!1;const O=Array.isArray(y)?y:[y];let Te=O.reduce(r(m),{});T===!1&&(Te={});const{prevResolvedValues:Xn={}}=f,Vi={...Xn,...Te},Xs=De=>{C=!0,d.has(De)&&(F=!0,d.delete(De)),f.needsAnimating[De]=!0;const St=t.getValue(De);St&&(St.liveStyle=!1)};for(const De in Vi){const St=Te[De],$i=Xn[De];if(p.hasOwnProperty(De))continue;let A=!1;Rp(St)&&Rp($i)?A=!MI(St,$i):A=St!==$i,A?St!=null?Xs(De):d.add(De):St!==void 0&&d.has(De)?Xs(De):f.protectedKeys[De]=!0}f.prevProp=y,f.prevResolvedValues=Te,f.isActive&&(p={...p,...Te}),i&&t.blockInitialAnimation&&(C=!1),C&&(!x||F)&&h.push(...O.map(De=>({animation:De,options:{type:m}})))}if(d.size){const E={};d.forEach(m=>{const f=t.getBaseTarget(m),y=t.getValue(m);y&&(y.liveStyle=!0),E[m]=f??null}),h.push({animation:E})}let _=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(h):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=mw(),i=!0}}}function W3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MI(e,t):!1}function Hi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mw(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H3 extends Ui{constructor(e){super(e),e.animationState||(e.animationState=z3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Da(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let K3=0;class G3 extends Ui{constructor(){super(...arguments),this.id=K3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const q3={animation:{Feature:H3},exit:{Feature:G3}},Tx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Rh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Y3=t=>e=>Tx(e)&&t(e,Rh(e));function Nn(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function jn(t,e,n,i){return Nn(t,e,Y3(n),i)}const gw=(t,e)=>Math.abs(t-e);function X3(t,e){const n=gw(t.x,e.x),i=gw(t.y,e.y);return Math.sqrt(n**2+i**2)}class Cx{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=jd(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=X3(h.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=h,{timestamp:_}=Fe;this.history.push({...g,timestamp:_});const{onStart:E,onMove:m}=this.handlers;d||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fd(d,this.transformPagePoint),q.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=jd(h.type==="pointercancel"?this.lastMoveEventInfo:Fd(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,E),g&&g(h,E)},!Tx(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Rh(e),a=Fd(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Fe;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,jd(a,this.history)),this.removeListeners=Fn(jn(this.contextWindow,"pointermove",this.handlePointerMove),jn(this.contextWindow,"pointerup",this.handlePointerUp),jn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function Fd(t,e){return e?{point:e(t.point)}:t}function yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jd({point:t},e){return{point:t,delta:yw(t,Px(e)),offset:yw(t,Q3(e)),velocity:J3(e,.1)}}function Q3(t){return t[0]}function Px(t){return t[t.length-1]}function J3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=Px(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ln(e)));)n--;if(!i)return{x:0,y:0};const s=bn(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ix(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const vw=Ix("dragHorizontal"),_w=Ix("dragVertical");function xx(t){let e=!1;if(t==="y")e=_w();else if(t==="x")e=vw();else{const n=vw(),i=_w();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function kx(){const t=xx(!0);return t?(t(),!1):!0}function Qr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Rx=1e-4,Z3=1-Rx,e9=1+Rx,Ax=.01,t9=0-Ax,n9=0+Ax;function Rt(t){return t.max-t.min}function i9(t,e,n){return Math.abs(t-e)<=n}function ww(t,e,n,i=.5){t.origin=i,t.originPoint=oe(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=oe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Z3&&t.scale<=e9||isNaN(t.scale))&&(t.scale=1),(t.translate>=t9&&t.translate<=n9||isNaN(t.translate))&&(t.translate=0)}function Ho(t,e,n,i){ww(t.x,e.x,n.x,i?i.originX:void 0),ww(t.y,e.y,n.y,i?i.originY:void 0)}function Ew(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function r9(t,e,n){Ew(t.x,e.x,n.x),Ew(t.y,e.y,n.y)}function Sw(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function Ko(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}function s9(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?oe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?oe(n,t,i.max):Math.min(t,n)),t}function Tw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function o9(t,{top:e,left:n,bottom:i,right:r}){return{x:Tw(t.x,n,r),y:Tw(t.y,e,i)}}function Cw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function a9(t,e){return{x:Cw(t.x,e.x),y:Cw(t.y,e.y)}}function l9(t,e){let n=.5;const i=Rt(t),r=Rt(e);return r>i?n=Ma(e.min,e.max-i,t.min):i>r&&(n=Ma(t.min,t.max-r,e.min)),ki(0,1,n)}function u9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jp=.35;function c9(t=jp){return t===!1?t=0:t===!0&&(t=jp),{x:Pw(t,"left","right"),y:Pw(t,"top","bottom")}}function Pw(t,e,n){return{min:Iw(t,e),max:Iw(t,n)}}function Iw(t,e){return typeof t=="number"?t:t[e]||0}const xw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jr=()=>({x:xw(),y:xw()}),kw=()=>({min:0,max:0}),me=()=>({x:kw(),y:kw()});function Dt(t){return[t("x"),t("y")]}function Nx({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function h9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ud(t){return t===void 0||t===1}function Up({scale:t,scaleX:e,scaleY:n}){return!Ud(t)||!Ud(e)||!Ud(n)}function Xi(t){return Up(t)||Ox(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ox(t){return Rw(t.x)||Rw(t.y)}function Rw(t){return t&&t!=="0%"}function vc(t,e,n){const i=t-n,r=e*i;return n+r}function Aw(t,e,n,i,r){return r!==void 0&&(t=vc(t,r,i)),vc(t,n,i)+e}function Vp(t,e=0,n=1,i,r){t.min=Aw(t.min,e,n,i,r),t.max=Aw(t.max,e,n,i,r)}function Dx(t,{x:e,y:n}){Vp(t.x,e.translate,e.scale,e.originPoint),Vp(t.y,n.translate,n.scale,n.originPoint)}const Nw=.999999999999,Ow=1.0000000000001;function f9(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&es(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Dx(t,o)),i&&Xi(s.latestValues)&&es(t,s.latestValues))}e.x<Ow&&e.x>Nw&&(e.x=1),e.y<Ow&&e.y>Nw&&(e.y=1)}function Zr(t,e){t.min=t.min+e,t.max=t.max+e}function Dw(t,e,n,i,r=.5){const s=oe(t.min,t.max,r);Vp(t,e,n,s,i)}function es(t,e){Dw(t.x,e.x,e.scaleX,e.scale,e.originX),Dw(t.y,e.y,e.scaleY,e.scale,e.originY)}function Lx(t,e){return Nx(d9(t.getBoundingClientRect(),e))}function p9(t,e,n){const i=Lx(t,n),{scroll:r}=e;return r&&(Zr(i.x,r.offset.x),Zr(i.y,r.offset.y)),i}const bx=({current:t})=>t?t.ownerDocument.defaultView:null,m9=new WeakMap;class g9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=me(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=c=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rh(c,"page").point)},s=(c,h)=>{var d;const{drag:p,dragPropagation:g,onDragStart:_}=this.getProps();if(p&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xx(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dt(m=>{let f=this.getAxisMotionValue(m).get()||0;if(vn.test(f)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[m];S&&(f=Rt(S)*(parseFloat(f)/100))}}this.originPoint[m]=f}),_&&q.postRender(()=>_(c,h)),(d=this.removeWillChange)===null||d===void 0||d.call(this),this.removeWillChange=Mp(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(c,h)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:_}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:E}=h;if(p&&this.currentDirection===null){this.currentDirection=y9(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),_&&_(c,h)},a=(c,h)=>this.stop(c,h),l=()=>Dt(c=>{var h;return this.getAnimationState(c)==="paused"&&((h=this.getAxisMotionValue(c).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Cx(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:bx(this.visualElement)})}stop(e,n){var i;(i=this.removeWillChange)===null||i===void 0||i.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&q.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Kl(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=s9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Qr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=o9(r.layoutBox,n):this.constraints=!1,this.elastic=c9(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=u9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qr(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=p9(i,r.root,this.visualElement.getTransformPagePoint());let o=a9(r.layout.layoutBox,s);if(n){const a=n(h9(o));this.hasMutatedConstraints=!!a,a&&(o=Nx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Dt(c=>{if(!Kl(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,p=r?40:1e7,g={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(by(e,i,0,n,this.visualElement,!1,Mp(this.visualElement,e)))}stopAnimation(){Dt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Dt(n=>{const{drag:i}=this.getProps();if(!Kl(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Qr(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Dt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=l9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Dt(o=>{if(!Kl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(oe(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;m9.set(this.visualElement,this);const e=this.visualElement.current,n=jn(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Qr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),q.read(i);const o=Nn(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dt(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=jp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Kl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function y9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v9 extends Ui{constructor(e){super(e),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new g9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=t=>(e,n)=>{t&&q.postRender(()=>t(e,n))};class _9 extends Ui{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(e){this.session=new Cx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&q.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=jn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah=w.createContext(null);function w9(){const t=w.useContext(Ah);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,r=w.useId();w.useEffect(()=>i(r),[]);const s=w.useCallback(()=>n&&n(r),[r,n]);return!e&&n?[!1,s]:[!0]}const Fy=w.createContext({}),Mx=w.createContext({}),du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(D.test(t))t=parseFloat(t);else return t;const n=bw(t,e.target.x),i=bw(t,e.target.y);return`${n}% ${i}%`}},E9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ri.parse(t);if(r.length>5)return i;const s=Ri.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=oe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}},_c={};function S9(t){Object.assign(_c,t)}const{schedule:jy,cancel:b5}=FI(queueMicrotask,!1);class T9 extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;S9(C9),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),du.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||q.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fx(t){const[e,n]=w9(),i=w.useContext(Fy);return v.jsx(T9,{...t,layoutGroup:i,switchLayoutGroup:w.useContext(Mx),isPresent:e,safeToRemove:n})}const C9={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:E9},jx=["TopLeft","TopRight","BottomLeft","BottomRight"],P9=jx.length,Mw=t=>typeof t=="string"?parseFloat(t):t,Fw=t=>typeof t=="number"||D.test(t);function I9(t,e,n,i,r,s){r?(t.opacity=oe(0,n.opacity!==void 0?n.opacity:1,x9(i)),t.opacityExit=oe(e.opacity!==void 0?e.opacity:1,0,k9(i))):s&&(t.opacity=oe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<P9;o++){const a=`border${jx[o]}Radius`;let l=jw(e,a),u=jw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Fw(l)===Fw(u)?(t[a]=Math.max(oe(Mw(l),Mw(u),i),0),(vn.test(u)||vn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=oe(e.rotate||0,n.rotate||0,i))}function jw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x9=Ux(0,.5,cx),k9=Ux(.5,.95,tt);function Ux(t,e,n){return i=>i<t?0:i>e?1:n(Ma(t,e,i))}function Uw(t,e){t.min=e.min,t.max=e.max}function Ot(t,e){Uw(t.x,e.x),Uw(t.y,e.y)}function Vw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $w(t,e,n,i,r){return t-=e,t=vc(t,1/n,i),r!==void 0&&(t=vc(t,1/r,i)),t}function R9(t,e=0,n=1,i=.5,r,s=t,o=t){if(vn.test(e)&&(e=parseFloat(e),e=oe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=oe(s.min,s.max,i);t===s&&(a-=e),t.min=$w(t.min,e,n,a,r),t.max=$w(t.max,e,n,a,r)}function Bw(t,e,[n,i,r],s,o){R9(t,e[n],e[i],e[r],e.scale,s,o)}const A9=["x","scaleX","originX"],N9=["y","scaleY","originY"];function zw(t,e,n,i){Bw(t.x,e,A9,n?n.x:void 0,i?i.x:void 0),Bw(t.y,e,N9,n?n.y:void 0,i?i.y:void 0)}function Ww(t){return t.translate===0&&t.scale===1}function Vx(t){return Ww(t.x)&&Ww(t.y)}function Hw(t,e){return t.min===e.min&&t.max===e.max}function O9(t,e){return Hw(t.x,e.x)&&Hw(t.y,e.y)}function Kw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $x(t,e){return Kw(t.x,e.x)&&Kw(t.y,e.y)}function Gw(t){return Rt(t.x)/Rt(t.y)}function qw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class D9{constructor(){this.members=[]}add(e){Ih(this.members,e),e.scheduleRender()}remove(e){if(xh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L9(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:p,skewY:g}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const b9=(t,e)=>t.depth-e.depth;class M9{constructor(){this.children=[],this.isDirty=!1}add(e){Ih(this.children,e),this.isDirty=!0}remove(e){xh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(b9),this.isDirty=!1,this.children.forEach(e)}}function fu(t){const e=Je(t)?t.get():t;return k3(e)?e.toValue():e}function F9(t,e){const n=Mn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Kn(i),t(s-e))};return q.read(i,!0),()=>Kn(i)}function j9(t){return t instanceof SVGElement&&t.tagName!=="svg"}function U9(t,e,n){const i=Je(t)?t:Fa(t);return i.start(by("",i,e,n)),i.animation}const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xo=typeof window<"u"&&window.MotionDebug!==void 0,Vd=["","X","Y","Z"],V9={visibility:"hidden"},Yw=1e3;let $9=0;function $d(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Bx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",q,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Bx(i)}function zx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xo&&(Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0),this.nodes.forEach(W9),this.nodes.forEach(Y9),this.nodes.forEach(X9),this.nodes.forEach(H9),xo&&window.MotionDebug.record(Qi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new M9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new My),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=j9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=F9(d,250),du.hasAnimatedSinceResize&&(du.hasAnimatedSinceResize=!1,this.nodes.forEach(Qw))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||t6,{onLayoutAnimationStart:E,onLayoutAnimationComplete:m}=c.getProps(),f=!this.targetLayout||!$x(this.targetLayout,g)||p,y=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...Ty(_,"layout"),onPlay:E,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else d||Qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xw);return}this.isUpdating||this.nodes.forEach(G9),this.isUpdating=!1,this.nodes.forEach(q9),this.nodes.forEach(B9),this.nodes.forEach(z9),this.clearAllSnapshots();const a=Mn.now();Fe.delta=ki(0,1e3/60,a-Fe.timestamp),Fe.timestamp=a,Fe.isProcessing=!0,Od.update.process(Fe),Od.preRender.process(Fe),Od.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K9),this.sharedNodes.forEach(J9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Vx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Xi(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),n6(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return me();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(i6))){const{scroll:c}=this.root;c&&(Zr(l.x,c.offset.x),Zr(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=me();if(Ot(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Ot(l,o),Zr(l.x,h.offset.x),Zr(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=me();Ot(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&es(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Xi(c.latestValues)&&es(l,c.latestValues)}return Xi(this.latestValues)&&es(l,this.latestValues),l}removeTransform(o){const a=me();Ot(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xi(u.latestValues))continue;Up(u.latestValues)&&u.updateSnapshot();const c=me(),h=u.measurePageBox();Ot(c,h),zw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Xi(this.latestValues)&&zw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ko(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=me(),this.targetWithTransforms=me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ot(this.target,this.layout.layoutBox),Dx(this.target,this.targetDelta)):Ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=me(),this.relativeTargetOrigin=me(),Ko(this.relativeTargetOrigin,this.target,p.target),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xo&&Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Up(this.parent.latestValues)||Ox(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Ot(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;f9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=me());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vw(this.prevProjectionDelta.x,this.projectionDelta.x),Vw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ho(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!qw(this.projectionDelta.x,this.prevProjectionDelta.x)||!qw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xo&&Qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jr(),this.projectionDelta=Jr(),this.projectionDeltaWithTransform=Jr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Jr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=me(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,E=this.getStack(),m=!E||E.members.length<=1,f=!!(_&&!m&&this.options.crossfade===!0&&!this.path.some(e6));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const T=S/1e3;Jw(h.x,o.x,T),Jw(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ko(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z9(this.relativeTarget,this.relativeTargetOrigin,d,T),y&&O9(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=me()),Ot(y,this.relativeTarget)),_&&(this.animationValues=c,I9(c,u,this.latestValues,T,f,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=q.update(()=>{du.hasAnimatedSinceResize=!0,this.currentAnimation=U9(0,Yw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Wx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||me();const h=Rt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Rt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Ot(a,l),es(a,c),Ho(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new D9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&$d("z",o,u,this.animationValues);for(let c=0;c<Vd.length;c++)$d(`rotate${Vd[c]}`,o,u,this.animationValues),$d(`skew${Vd[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=fu(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=fu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xi(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=L9(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in _c){if(d[_]===void 0)continue;const{correct:E,applyTo:m}=_c[_],f=u.transform==="none"?d[_]:E(d[_],h);if(m){const y=m.length;for(let S=0;S<y;S++)u[m[S]]=f}else u[_]=f}return this.options.layoutId&&(u.pointerEvents=h===this?fu(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Xw),this.root.sharedNodes.clear()}}}function B9(t){t.updateLayout()}function z9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Dt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=Rt(d);d.min=i[h].min,d.max=d.min+p}):Wx(s,n.layoutBox,i)&&Dt(h=>{const d=o?n.measuredBox[h]:n.layoutBox[h],p=Rt(i[h]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Jr();Ho(a,i,n.layoutBox);const l=Jr();o?Ho(l,t.applyTransform(r,!0),n.measuredBox):Ho(l,i,n.layoutBox);const u=!Vx(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:p}=h;if(d&&p){const g=me();Ko(g,n.layoutBox,d.layoutBox);const _=me();Ko(_,i,p.layoutBox),$x(g,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function W9(t){xo&&Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function H9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function K9(t){t.clearSnapshot()}function Xw(t){t.clearMeasurements()}function G9(t){t.isLayoutDirty=!1}function q9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y9(t){t.resolveTargetDelta()}function X9(t){t.calcProjection()}function Q9(t){t.resetSkewAndRotation()}function J9(t){t.removeLeadSnapshot()}function Jw(t,e,n){t.translate=oe(e.translate,0,n),t.scale=oe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zw(t,e,n,i){t.min=oe(e.min,n.min,i),t.max=oe(e.max,n.max,i)}function Z9(t,e,n,i){Zw(t.x,e.x,n.x,i),Zw(t.y,e.y,n.y,i)}function e6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const t6={duration:.45,ease:[.4,0,.1,1]},eE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tE=eE("applewebkit/")&&!eE("chrome/")?Math.round:tt;function nE(t){t.min=tE(t.min),t.max=tE(t.max)}function n6(t){nE(t.x),nE(t.y)}function Wx(t,e,n){return t==="position"||t==="preserve-aspect"&&!i9(Gw(e),Gw(n),.2)}function i6(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const r6=zx({attachResizeListener:(t,e)=>Nn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bd={current:void 0},Hx=zx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bd.current){const t=new r6({});t.mount(window),t.setOptions({layoutScroll:!0}),Bd.current=t}return Bd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),s6={pan:{Feature:_9},drag:{Feature:v9,ProjectionNode:Hx,MeasureLayout:Fx}};function iE(t,e){const n=e?"pointerenter":"pointerleave",i=e?"onHoverStart":"onHoverEnd",r=(s,o)=>{if(s.pointerType==="touch"||kx())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[i];l&&q.postRender(()=>l(s,o))};return jn(t.current,n,r,{passive:!t.getProps()[i]})}class o6 extends Ui{mount(){this.unmount=Fn(iE(this.node,!0),iE(this.node,!1))}unmount(){}}class a6 extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fn(Nn(this.node.current,"focus",()=>this.onFocus()),Nn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Kx=(t,e)=>e?t===e?!0:Kx(t,e.parentElement):!1;function zd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Rh(n))}class l6 extends Ui{constructor(){super(...arguments),this.removeStartListeners=tt,this.removeEndListeners=tt,this.removeAccessibleListeners=tt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=jn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:h}=this.node.getProps(),d=!h&&!Kx(this.node.current,a.target)?c:u;d&&q.update(()=>d(a,l))},{passive:!(i.onTap||i.onPointerUp)}),o=jn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Fn(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||zd("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&q.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Nn(this.node.current,"keyup",o),zd("down",(a,l)=>{this.startPress(a,l)})},n=Nn(this.node.current,"keydown",e),i=()=>{this.isPressing&&zd("cancel",(s,o)=>this.cancelPress(s,o))},r=Nn(this.node.current,"blur",i);this.removeAccessibleListeners=Fn(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&q.postRender(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&q.postRender(()=>i(e,n))}mount(){const e=this.node.getProps(),n=jn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Nn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fn(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $p=new WeakMap,Wd=new WeakMap,u6=t=>{const e=$p.get(t.target);e&&e(t)},c6=t=>{t.forEach(u6)};function h6({root:t,...e}){const n=t||document;Wd.has(n)||Wd.set(n,{});const i=Wd.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(c6,{root:t,...e})),i[r]}function d6(t,e,n){const i=h6(e);return $p.set(t,n),i.observe(t),()=>{$p.delete(t),i.unobserve(t)}}const f6={some:0,all:1};class p6 extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:f6[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return d6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(m6(e,n))&&this.startObserver()}unmount(){}}function m6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const g6={inView:{Feature:p6},tap:{Feature:l6},focus:{Feature:a6},hover:{Feature:o6}},y6={layout:{ProjectionNode:Hx,MeasureLayout:Fx}},Uy=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Nh=w.createContext({}),Vy=typeof window<"u",Gx=Vy?w.useLayoutEffect:w.useEffect,qx=w.createContext({strict:!1});let rE=!1;function v6(t,e,n,i,r){var s;const{visualElement:o}=w.useContext(Nh),a=w.useContext(qx),l=w.useContext(Ah),u=w.useContext(Uy).reducedMotion,c=w.useRef();i=i||a.renderer,!c.current&&i&&(c.current=i(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,d=w.useContext(Mx);h&&!h.projection&&r&&(h.type==="html"||h.type==="svg")&&w6(c.current,n,r,d),w.useInsertionEffect(()=>{h&&h.update(n,l)});const p=n[_x],g=w.useRef(!!p&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,p)));return Gx(()=>{h&&(h.updateFeatures(),jy.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current=!1,rE||(rE=!0,queueMicrotask(_6)))}),h}function _6(){window.MotionHandoffIsComplete=!0}function w6(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Yx(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Qr(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:u})}function Yx(t){if(t)return t.options.allowProjection!==!1?t.projection:Yx(t.parent)}function E6(t,e,n){return w.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Qr(n)&&(n.current=i))},[e])}function Oh(t){return Da(t.animate)||Sy.some(e=>La(t[e]))}function Xx(t){return!!(Oh(t)||t.variants)}function S6(t,e){if(Oh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||La(n)?n:void 0,animate:La(i)?i:void 0}}return t.inherit!==!1?e:{}}function T6(t){const{initial:e,animate:n}=S6(t,w.useContext(Nh));return w.useMemo(()=>({initial:e,animate:n}),[sE(e),sE(n)])}function sE(t){return Array.isArray(t)?t.join(" "):t}const oE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ls={};for(const t in oE)Ls[t]={isEnabled:e=>oE[t].some(n=>!!e[n])};function C6(t){for(const e in t)Ls[e]={...Ls[e],...t[e]}}const P6=Symbol.for("motionComponentSymbol");function I6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){t&&C6(t);function s(a,l){let u;const c={...w.useContext(Uy),...a,layoutId:x6(a)},{isStatic:h}=c,d=T6(a),p=i(a,h);if(!h&&Vy){k6();const g=R6(c);u=g.MeasureLayout,d.visualElement=v6(r,p,c,e,g.ProjectionNode)}return v.jsxs(Nh.Provider,{value:d,children:[u&&d.visualElement?v.jsx(u,{visualElement:d.visualElement,...c}):null,n(r,a,E6(p,d.visualElement,l),p,h,d.visualElement)]})}const o=w.forwardRef(s);return o[P6]=r,o}function x6({layoutId:t}){const e=w.useContext(Fy).id;return e&&t!==void 0?e+"-"+t:t}function k6(t,e){w.useContext(qx).strict}function R6(t){const{drag:e,layout:n}=Ls;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const A6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $y(t){return typeof t!="string"||t.includes("-")?!1:!!(A6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qx(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const Jx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zx(t,e,n,i){Qx(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(Jx.has(r)?r:kh(r),e.attrs[r])}function ek(t,{layout:e,layoutId:n}){return ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_c[t]||t==="opacity")}function By(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Je(r[o])||e.style&&Je(e.style[o])||ek(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return n&&r&&typeof r.willChange=="string"&&(n.applyWillChange=!1),s}function tk(t,e,n){const i=By(t,e,n);for(const r in t)if(Je(t[r])||Je(e[r])){const s=fl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function zy(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}function N6({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:i},r,s,o,a){const l={latestValues:D6(r,s,o,a?!1:t,e),renderState:n()};return i&&(l.mount=u=>i(r,u,l)),l}const nk=t=>(e,n)=>{const i=w.useContext(Nh),r=w.useContext(Ah),s=()=>N6(t,e,i,r,n);return n?s():zy(s)};function O6(t,e){const n=Ex(e);n&&Ih(t,n)}function aE(t,e,n){const i=Array.isArray(e)?e:[e];for(let r=0;r<i.length;r++){const s=wy(t,i[r]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function D6(t,e,n,i,r){var s;const o={},a=[],l=i&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,u=r(t,{});for(const E in u)o[E]=fu(u[E]);let{initial:c,animate:h}=t;const d=Oh(t),p=Xx(t);e&&p&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const _=g?h:c;return _&&typeof _!="boolean"&&!Da(_)&&aE(t,_,(E,m)=>{for(const f in E){let y=E[f];if(Array.isArray(y)){const S=g?y.length-1:0;y=y[S]}y!==null&&(o[f]=y)}for(const f in m)o[f]=m[f]}),l&&(h&&c!==!1&&!Da(h)&&aE(t,h,E=>{for(const m in E)O6(a,m)}),a.length&&(o.willChange=a.join(","))),o}const Wy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ik=()=>({...Wy(),attrs:{}}),rk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,L6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b6=fl.length;function M6(t,e,n){let i="",r=!0;for(let s=0;s<b6;s++){const o=fl[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=rk(a,ky[o]);if(!l){r=!1;const c=L6[o]||o;i+=`${c}(${u}) `}n&&(e[o]=u)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Hy(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ji.has(l)){o=!0;continue}else if(BI(l)){r[l]=u;continue}else{const c=rk(u,ky[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(e.transform||(o||n?i.transform=M6(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}function lE(t,e,n){return typeof t=="string"?t:D.transform(e+n*t)}function F6(t,e,n){const i=lE(e,t.x,t.width),r=lE(n,t.y,t.height);return`${i} ${r}`}const j6={offset:"stroke-dashoffset",array:"stroke-dasharray"},U6={offset:"strokeDashoffset",array:"strokeDasharray"};function V6(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?j6:U6;t[s.offset]=D.transform(-i);const o=D.transform(e),a=D.transform(n);t[s.array]=`${o} ${a}`}function Ky(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(Hy(t,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:g}=t;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(r!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=F6(g,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),o!==void 0&&V6(d,o,a,l,!1)}const Gy=t=>typeof t=="string"&&t.toLowerCase()==="svg",$6={useVisualState:nk({scrapeMotionValuesFromProps:tk,createRenderState:ik,onMount:(t,e,{renderState:n,latestValues:i})=>{q.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),q.render(()=>{Ky(n,i,Gy(e.tagName),t.transformTemplate),Zx(e,n)})}})},B6={useVisualState:nk({applyWillChange:!0,scrapeMotionValuesFromProps:By,createRenderState:Wy})};function sk(t,e,n){for(const i in e)!Je(e[i])&&!ek(i,n)&&(t[i]=e[i])}function z6({transformTemplate:t},e){return w.useMemo(()=>{const n=Wy();return Hy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function W6(t,e){const n=t.style||{},i={};return sk(i,n,t),Object.assign(i,z6(t,e)),i}function H6(t,e){const n={},i=W6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const K6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||K6.has(t)}let ok=t=>!wc(t);function G6(t){t&&(ok=e=>e.startsWith("on")?!wc(e):t(e))}try{G6(require("@emotion/is-prop-valid").default)}catch{}function q6(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(ok(r)||n===!0&&wc(r)||!e&&!wc(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function Y6(t,e,n,i){const r=w.useMemo(()=>{const s=ik();return Ky(s,e,Gy(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};sk(s,t.style,t),r.style={...s,...r.style}}return r}function X6(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=($y(n)?Y6:H6)(i,s,o,n),u=q6(i,typeof n=="string",t),c=n!==w.Fragment?{...u,...l,ref:r}:{},{children:h}=i,d=w.useMemo(()=>Je(h)?h.get():h,[h]);return w.createElement(n,{...c,children:d})}}function Q6(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...$y(i)?$6:B6,preloadedFeatures:t,useRender:X6(r),createVisualElement:e,Component:i};return I6(o)}}const Bp={current:null},ak={current:!1};function J6(){if(ak.current=!0,!!Vy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bp.current=t.matches;t.addListener(e),e()}else Bp.current=!1}function Z6(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Je(r))t.addValue(i,r);else if(Je(s))t.addValue(i,Fa(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Fa(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const uE=new WeakMap,e5=[...HI,Ge,Ri],t5=t=>e5.find(WI(t)),cE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],n5=Sy.length;class i5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,q.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Oh(n),this.isVariantNode=Xx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const p=h[d];l[d]!==void 0&&Je(p)&&p.set(l[d],!1)}}mount(e){this.current=e,uE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ak.current||J6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uE.delete(this.current),this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ji.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&q.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ls){const n=Ls[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):me()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<cE.length;i++){const r=cE[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Z6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<n5;i++){const r=Sy[i],s=this.props[r];(La(s)||s===!1)&&(n[r]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Fa(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(VI(r)||jI(r))?r=parseFloat(r):!t5(r)&&Ri.test(n)&&(r=ZI(e,n)),this.setBaseTarget(e,Je(r)?r.get():r)),Je(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=wy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Je(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new My),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lk extends i5{constructor(){super(...arguments),this.KeyframeResolver=ex}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}}function r5(t){return window.getComputedStyle(t)}class s5 extends lk{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Qx}readValueFromInstance(e,n){if(ji.has(n)){const i=Ry(n);return i&&i.default||0}else{const i=r5(e),r=(BI(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Lx(e,n)}build(e,n,i){Hy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return By(e,n,i)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Je(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class o5 extends lk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=me}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ji.has(n)){const i=Ry(n);return i&&i.default||0}return n=Jx.has(n)?n:kh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return tk(e,n,i)}build(e,n,i){Ky(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){Zx(e,n,i,r)}mount(e){this.isSVGTag=Gy(e.tagName),super.mount(e)}}const a5=(t,e)=>$y(t)?new o5(e):new s5(e,{allowProjection:t!==w.Fragment}),l5=Q6({...q3,...g6,...s6,...y6},a5),qy=BV(l5);class u5 extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c5({children:t,isPresent:e}){const n=w.useId(),i=w.useRef(null),r=w.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=w.useContext(Uy);return w.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),v.jsx(u5,{isPresent:e,childRef:i,sizeRef:r,children:w.cloneElement(t,{ref:i})})}const h5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=zy(d5),l=w.useId(),u=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;i&&i()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?[Math.random()]:[n]);return w.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=v.jsx(c5,{isPresent:n,children:t})),v.jsx(Ah.Provider,{value:u,children:t})};function d5(){return new Map}const Gl=t=>t.key||"";function hE(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const f5=({children:t,exitBeforeEnter:e,custom:n,initial:i=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=w.useMemo(()=>hE(t),[t]),l=a.map(Gl),u=w.useRef(!0),c=w.useRef(a),h=zy(()=>new Map),[d,p]=w.useState(a),[g,_]=w.useState(a);Gx(()=>{u.current=!1,c.current=a;for(let f=0;f<g.length;f++){const y=Gl(g[f]);l.includes(y)?h.delete(y):h.get(y)!==!0&&h.set(y,!1)}},[g,l.length,l.join("-")]);const E=[];if(a!==d){let f=[...a];for(let y=0;y<g.length;y++){const S=g[y],T=Gl(S);l.includes(T)||(f.splice(y,0,S),E.push(S))}o==="wait"&&E.length&&(f=E),_(hE(f)),p(a);return}const{forceRender:m}=w.useContext(Fy);return v.jsx(v.Fragment,{children:g.map(f=>{const y=Gl(f),S=a===g||l.includes(y),T=()=>{if(h.has(y))h.set(y,!0);else return;let x=!0;h.forEach(k=>{k||(x=!1)}),x&&(m==null||m(),_(c.current),r&&r())};return v.jsx(h5,{isPresent:S,initial:!u.current||i?void 0:!1,custom:S?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:S?void 0:T,children:f},y)})})},p5=[{id:"a",title:"Block A",image:"https://lh3.googleusercontent.com/p/AF1QipPXQKcYFKA65GJlh0rYNooVBplVw0AysYZKvzHc=s1360-w1360-h1020"},{id:"b",title:"Block B",image:"https://lh3.googleusercontent.com/p/AF1QipN2_O0eBNKrjbwQU56tu1LgpY9bRupy6LfBWm3d=s1360-w1360-h1020"},{id:"c",title:"Block C",image:"https://lh3.googleusercontent.com/p/AF1QipNIqrmFIMDKXi0V8jqu8QnTl_HN1H-jiX6_UDEe=s1360-w1360-h1020"},{id:"d",title:"Block D",image:"https://lh3.googleusercontent.com/p/AF1QipNCFDRvvw1PVpURpq0swlrFEqJyZmj4wkrM0plN=s1360-w1360-h1020"}],m5=({id:t,title:e,image:n})=>v.jsx(qy.div,{className:"item",whileHover:{scale:1.05},whileTap:{scale:.95},children:v.jsxs(as,{to:`/${t}block`,className:"block-link",children:[v.jsx("div",{className:"circle",children:v.jsx("img",{className:"responsive-image",src:n,alt:e})}),v.jsx("p",{children:e})]})});function g5(){return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Welcome to Our Blocks"}),v.jsx("div",{className:"gallery",children:p5.map(t=>v.jsx(m5,{...t},t.id))})]})}const y5={apiKey:"AIzaSyCOggO8RKta6u0qolwyfOkpTijFznKlysg",authDomain:"open-dots-f2.firebaseapp.com",databaseURL:"https://open-dots-f2-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"open-dots-f2",storageBucket:"open-dots-f2.appspot.com",messagingSenderId:"962649740482",appId:"1:962649740482:web:3a13f1a391364d4955d75b",measurementId:"G-2Z2M6K1PKL"},Yy=$s(y5),go=Hg(Yy);Xa(Yy);MV(Yy);const uk=Gp.createContext();function dE(){return w.useContext(uk)}function v5({children:t}){const[e,n]=w.useState(),[i,r]=w.useState(!0);function s(p,g){return console.log("afeifdone"),GF(go,p,g)}function o(){console.log("afeisssfdone");const p=new un;return vj(go,p)}function a(p,g){return qF(p,g)}function l(){return go.signOut()}function u(p){return go.sendPasswordResetEmail(p)}function c(p){return e.updateEmail(p)}function h(p){return e.updatePassword(p)}w.useEffect(()=>QF(go,g=>{n(g),r(!1)}),[]);const d={currentUser:e,login:a,signup:s,logout:l,googleSignIn:o,resetPassword:u,updateEmail:c,updatePassword:h};return v.jsx(uk.Provider,{value:d,children:!i&&t})}function _5(){const t=Vm();return w.useEffect(()=>{setTimeout(()=>{t("/home")},1200);const e=document.getElementById("stars"),n=e.getContext("2d");let i,r,s={speed:7,number:400,extinction:4};a(),l(),window.onresize=function(){a()};function o(){this.x=Math.random()*e.width,this.y=Math.random()*e.height,this.z=Math.random()*e.width,this.move=function(){this.z-=s.speed,this.z<=0&&(this.z=e.width)},this.show=function(){let u,c,h,d;u=(this.x-i.c[0])*(e.width/this.z),u=u+i.c[0],c=(this.y-i.c[1])*(e.width/this.z),c=c+i.c[1],h=e.width/this.z,d=h>s.extinction?1.5*(2-h/s.extinction):1,n.beginPath(),n.fillStyle="rgba(255, 255, 255, "+d+")",n.arc(u,c,h,0,Math.PI*2),n.fill()}}function a(){i={w:window.innerWidth,h:window.innerHeight,c:[window.innerWidth*.5,window.innerHeight*.5]},window.cancelAnimationFrame(l),e.width=i.w,e.height=i.h,r=[];for(let u=0;u<s.number;u++)r[u]=new o}function l(){n.fillStyle="black",n.fillRect(0,0,e.width,e.height),r.forEach(function(u){u.show(),u.move()}),window.requestAnimationFrame(l)}},[t]),v.jsxs(v.Fragment,{children:[v.jsx("canvas",{id:"stars"}),v.jsx("div",{className:"logood",children:"Oracle Spaces"})]})}function w5(){Vm(),w.useState({address:"",access:""});const t=w.useRef(),e=w.useRef(),{signup:n}=dE();dE();const[i,r]=w.useState(""),[s,o]=w.useState(!1),[a,l]=w.useState(""),[u,c]=w.useState(""),h=w.useRef(null),d=w.useRef(null);w.useEffect(()=>{const _=document.getElementById("stars"),E=_.getContext("2d");let m,f,y={speed:15,number:300,extinction:4};T(),x(),y.speed=5,window.onresize=function(){T()};function S(){this.x=Math.random()*_.width,this.y=Math.random()*_.height,this.z=Math.random()*_.width,this.move=function(){this.z-=y.speed,this.z<=0&&(this.z=_.width)},this.show=function(){let k,C,F,O;k=(this.x-m.c[0])*(_.width/this.z),k=k+m.c[0],C=(this.y-m.c[1])*(_.width/this.z),C=C+m.c[1],F=_.width/this.z,O=F>y.extinction?1.5*(2-F/y.extinction):1,E.beginPath(),E.fillStyle="rgba(255, 255, 255, "+O+")",E.arc(k,C,F,0,Math.PI*2),E.fill()}}function T(){m={w:window.innerWidth,h:window.innerHeight,c:[window.innerWidth*.5,window.innerHeight*.5]},window.cancelAnimationFrame(x),_.width=m.w,_.height=m.h,f=[];for(let k=0;k<y.number;k++)f[k]=new S}function x(){E.fillStyle="black",E.fillRect(0,0,_.width,_.height),f.forEach(function(k){k.show(),k.move()}),window.requestAnimationFrame(x)}}),w.useEffect(()=>{function _(E){const m=E.clientX*100/window.innerWidth+"%",f=E.clientY*100/window.innerHeight+"%";h.current.style.left=m,h.current.style.top=f,h.current.style.transform=`translate(-${m}, -${f})`,d.current.style.left=m,d.current.style.top=f,d.current.style.transform=`translate(-${m}, -${f})`}return document.body.addEventListener("mousemove",_),()=>{document.body.removeEventListener("mousemove",_)}},[]);async function p(_){_.preventDefault();try{r(""),o(!0),await n(t.current.value,e.current.value)}catch{r("Failed to create an account"),console.log("Failed to create an account")}o(!1)}async function g(){console.log("google");try{r("");const _=Hg(),E=new un;await Cj(_,E),Ij(_).then(m=>{const f=m.user;console.log(f)}).catch(m=>{r("Failed to create an account"),console.log("Failed to create an account")})}catch{r("Failed to create an account"),console.log("Failed to create an account")}}return v.jsxs("div",{className:"App",children:[v.jsx("canvas",{id:"stars"}),v.jsx("div",{className:"wrapper",children:v.jsxs("main",{children:[v.jsxs("section",{children:[v.jsxs("div",{className:"face",children:[v.jsx("img",{src:"https://assets.codepen.io/9277864/PF.png",alt:"Face",widht:"250",height:"250"}),v.jsx("div",{className:"eye-cover1",children:v.jsx("div",{ref:h,id:"eyes1"})}),v.jsx("div",{className:"eye-cover2",children:v.jsx("div",{ref:d,id:"eyes2"})})]}),v.jsxs("div",{className:"login-container",children:[v.jsxs("div",{className:"social-login",children:[v.jsxs("div",{className:"logo",children:[v.jsx("img",{src:"https://assets.codepen.io/9277864/robot-face-3.svg",alt:"Gravam Company Logo",width:"100",height:"100"}),v.jsx("p",{children:"OPEN DOTS"})]}),v.jsx("p",{children:"Continue with social media to get quick access"}),v.jsxs("div",{className:"social-grp",children:[v.jsx("div",{className:"btn",children:v.jsxs("div",{className:"ac",onClick:g,children:[v.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/MetaMask_Fox.svg/1200px-MetaMask_Fox.svg.png",alt:"",width:"32",height:"32"}),v.jsx("span",{children:"MetaMask"})]})}),v.jsx("div",{className:"btn",children:v.jsxs("div",{className:"ac",children:[v.jsx("img",{src:"https://assets.codepen.io/9277864/social-media-facebook.svg",alt:"",width:"32",height:"32"}),v.jsx("span",{children:"Facebook"})]})}),v.jsx("div",{className:"btn",children:v.jsxs("div",{className:"ac",onClick:g,children:[v.jsx("img",{src:"https://assets.codepen.io/9277864/social-media-google.svg",alt:"",width:"32",height:"32"}),v.jsx("span",{children:"Google"})]})})]})]}),v.jsxs("div",{className:"email-login",children:[v.jsxs("div",{className:"login-h-container",children:[v.jsx("h1",{children:"Login to your account"}),v.jsxs("p",{children:["Dont have an account? ",v.jsx("a",{href:"#",children:"Sign up Free!"})]})]}),v.jsxs("form",{onSubmit:p,children:[v.jsxs("label",{htmlFor:"email",children:[v.jsx("input",{id:"email",name:"email",type:"email",ref:t,placeholder:"",autoComplete:"off",onChange:_=>l(_.target.value)}),v.jsx("span",{className:a?"focus-span":"",children:"Email"})]}),v.jsxs("label",{htmlFor:"password",children:[v.jsx("input",{id:"password",ref:e,name:"password",type:"password",placeholder:"",onChange:_=>c(_.target.value)}),v.jsx("span",{id:"span-password",className:u?"focus-span":"",children:"Password"})]}),v.jsxs("div",{className:"recovery",children:[v.jsxs("div",{children:[v.jsx("input",{type:"checkbox",id:"remember",name:"remember"}),v.jsx("label",{className:"remember",htmlFor:"remember",children:"Remember me"})]}),v.jsx("a",{href:"",children:"Forgot Password?"})]}),v.jsx("input",{type:"submit",value:"Login with Email"})]})]})]})]}),v.jsx("div",{className:"vector-1"}),v.jsx("div",{className:"vector-2"}),v.jsx("div",{className:"vector-3"})]})})]})}const E5=[{name:"Sunrise Cafe",image:"https://images.unsplash.com/photo-1690126671026-623dc4f8370a?q=80&w=2574&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",foodItems:["Pancakes","Omelette","Fresh Fruit Bowl","Coffee"]},{name:"Lunch Lounge",image:"https://media.istockphoto.com/id/1411322814/photo/happy-women-eating-at-a-buffet-style-cafeteria.jpg?s=612x612&w=0&k=20&c=YXK6DGEct3j4ckVGH4I5Bh9TCv86gQDPR1otiCXQMA4=",foodItems:["Caesar Salad","Grilled Chicken Sandwich","Vegetable Soup","Iced Tea"]},{name:"Dinner Delight",image:"https://source.unsplash.com/400x300/?dinner,restaurant",foodItems:["Steak","Grilled Salmon","Vegetarian Pasta","Cheesecake"]}],S5=()=>{const[t,e]=w.useState(null);return v.jsxs("div",{className:"ablock-container",children:[v.jsx("h1",{className:"ablock-title",children:"Our Cafeterias"}),v.jsx("div",{className:"cafeteria-list",children:E5.map((n,i)=>v.jsxs("div",{className:"cafeteria-item",onClick:()=>e(n),children:[v.jsx("img",{src:n.image,alt:n.name,className:"cafeteria-image"}),v.jsx("h2",{className:"cafeteria-name",children:n.name})]},i))}),t&&v.jsxs("div",{className:"food-items-container",children:[v.jsxs("h2",{children:[t.name," Menu"]}),v.jsx("ul",{className:"food-items-list",children:t.foodItems.map((n,i)=>v.jsx("li",{className:"food-item",children:n},i))})]})]})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ck=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...C5,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:ck("lucide",r),...a},[...o.map(([u,c])=>w.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=(t,e)=>{const n=w.forwardRef(({className:i,...r},s)=>w.createElement(P5,{ref:s,iconNode:e,className:ck(`lucide-${T5(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=yl("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=yl("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=yl("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=yl("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=yl("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),A5=({player:t,index:e})=>{const n=e<3,i={hidden:{opacity:0,y:50},visible:r=>({opacity:1,y:0,transition:{delay:r*.1,duration:.5,ease:"easeOut"}}),exit:{opacity:0,y:-50}};return v.jsxs(qy.tr,{custom:e,initial:"hidden",animate:"visible",exit:"exit",variants:i,className:`text-sm md:text-base hover:bg-gray-100 transition-colors duration-200 ${n?"font-bold":""}`,children:[v.jsxs("td",{className:"p-2 md:p-3 text-center",children:[e===0&&v.jsx(Hd,{className:"w-6 h-6 text-yellow-500 inline-block"}),e===1&&v.jsx(Hd,{className:"w-5 h-5 text-gray-400 inline-block"}),e===2&&v.jsx(Hd,{className:"w-4 h-4 text-yellow-700 inline-block"}),v.jsx("span",{className:`ml-1 md:ml-2 font-semibold ${n?"text-lg":""}`,children:e+1})]}),v.jsx("td",{className:"p-2 md:p-3 font-medium",children:t.name}),v.jsx("td",{className:"p-2 md:p-3",children:t.gamesPlayed}),v.jsx("td",{className:"p-2 md:p-3 font-semibold text-green-600",children:t.wins}),v.jsx("td",{className:"p-2 md:p-3 font-semibold text-red-600",children:t.losses}),v.jsxs("td",{className:"p-2 md:p-3",children:[(t.wins/t.gamesPlayed*100).toFixed(1),"%"]}),v.jsxs("td",{className:"p-2 md:p-3",children:[t.trend>0?v.jsx(x5,{className:"w-4 h-4 md:w-5 md:h-5 text-green-500 inline-block"}):t.trend<0?v.jsx(I5,{className:"w-4 h-4 md:w-5 md:h-5 text-red-500 inline-block"}):v.jsx("span",{className:"text-gray-400",children:"-"}),v.jsx("span",{className:`ml-1 ${t.trend>0?"text-green-500":t.trend<0?"text-red-500":"text-gray-400"}`,children:Math.abs(t.trend)})]})]})},N5=({availabilities:t,currentUser:e,onJoin:n})=>{const i=Array.from({length:24},(r,s)=>s);return v.jsxs("div",{className:"mt-8 md:mt-12 bg-white rounded-lg shadow-lg p-4 md:p-6",children:[v.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-gray-800",children:"Today's Availability Timeline"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsx("div",{className:"inline-flex min-w-full",children:i.map(r=>v.jsxs("div",{className:"w-16 md:w-20 text-center",children:[v.jsx("div",{className:"text-xs font-medium text-gray-500",children:`${r}:00`}),v.jsx("div",{className:"h-20 md:h-24 border-r border-gray-200 relative",children:t.filter(s=>s.startHour<=r&&s.endHour>r).map((s,o)=>v.jsxs(qy.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"absolute left-0 right-0 bg-blue-100 rounded-md p-1 text-xs shadow-sm",style:{top:`${o*25}%`},children:[v.jsx("span",{className:"font-medium text-blue-800",children:s.user}),e!==s.user&&v.jsx("button",{onClick:()=>n(s),className:"ml-1 p-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors duration-200",children:v.jsx(R5,{className:"w-3 h-3"})})]},`${s.user}-${o}`))})]},r))})})]})},O5=({onAvailabilitySet:t})=>{const[e,n]=w.useState(""),[i,r]=w.useState(""),s=a=>{a.preventDefault(),t(e,i),n(""),r("")},o=Array.from({length:48},(a,l)=>{const u=Math.floor(l/2),c=l%2===0?"00":"30";return`${u.toString().padStart(2,"0")}:${c}`});return v.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-lg p-4 md:p-6",children:[v.jsx("h3",{className:"text-lg md:text-xl font-bold mb-4 text-gray-800",children:"Set Your Availability"}),v.jsxs("form",{onSubmit:s,className:"flex flex-col space-y-4",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),v.jsxs("select",{id:"startTime",value:e,onChange:a=>n(a.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[v.jsx("option",{value:"",children:"Select start time"}),o.map(a=>v.jsx("option",{value:a,children:a},`start-${a}`))]})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),v.jsxs("select",{id:"endTime",value:i,onChange:a=>r(a.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[v.jsx("option",{value:"",children:"Select end time"}),o.map(a=>v.jsx("option",{value:a,children:a},`end-${a}`))]})]})]}),v.jsxs("button",{type:"submit",className:"bg-blue-500 text-white p-3 rounded-md flex items-center justify-center hover:bg-blue-600 transition-colors duration-200",children:[v.jsx(k5,{className:"w-5 h-5 mr-2"}),"Set Availability"]})]})]})},D5=()=>{const[t,e]=w.useState([]),[n,i]=w.useState("wins"),[r,s]=w.useState("desc"),[o,a]=w.useState([]),[l,u]=w.useState("Harshith");w.useEffect(()=>{(async()=>{e([{name:"Harshith",gamesPlayed:20,wins:15,losses:5,trend:2},{name:"AJay",gamesPlayed:18,wins:12,losses:6,trend:-1},{name:"Shreya",gamesPlayed:22,wins:14,losses:8,trend:1},{name:"Harsha",gamesPlayed:22,wins:13,losses:8,trend:0},{name:"Mukesh",gamesPlayed:21,wins:16,losses:5,trend:3}])})()},[]);const c=[...t].sort((g,_)=>n==="name"?r==="asc"?g.name.localeCompare(_.name):_.name.localeCompare(g.name):r==="asc"?g[n]-_[n]:_[n]-g[n]),h=g=>{s(n===g&&r==="asc"?"desc":"asc"),i(g)},d=(g,_)=>{const[E,m]=g.split(":").map(Number),[f,y]=_.split(":").map(Number);a([...o,{user:l,startHour:E+m/60,endHour:f+y/60}])},p=g=>{console.log(`${l} joined ${g.user}'s game`)};return v.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 bg-gray-100 min-h-screen",children:[v.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 md:mb-8 text-center text-gray-800",children:"Oracle Foosball Leaderboard"}),v.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-50",children:[v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("rank"),children:"Rank"}),v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("name"),children:"Player"}),v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("gamesPlayed"),children:"Games"}),v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("wins"),children:"Wins"}),v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("losses"),children:"Losses"}),v.jsx("th",{className:"p-2 md:p-3 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>h("winPercentage"),children:"Win %"}),v.jsx("th",{className:"p-2 md:p-3",children:"Trend"})]})}),v.jsx(f5,{children:v.jsx("tbody",{children:c.map((g,_)=>v.jsx(A5,{player:g,index:_},g.name))})})]})})}),v.jsx(O5,{onAvailabilitySet:d}),v.jsx(N5,{availabilities:o,currentUser:l,onJoin:p})]})};function L5(){return w.useState(0),v.jsx(bN,{children:v.jsx(v5,{children:v.jsxs(kN,{children:[v.jsx(Kt,{path:"/home",element:v.jsx(g5,{})}),v.jsx(Kt,{path:"/dblock",element:v.jsx(UN,{})}),v.jsx(Kt,{path:"/signup",element:v.jsx(w5,{})}),v.jsx(Kt,{path:"/",element:v.jsx(_5,{})}),v.jsx(Kt,{path:"/foosball",element:v.jsx(D5,{})}),v.jsx(Kt,{path:"/danceroom/:sessionId",element:v.jsx(G4,{})}),v.jsx(Kt,{path:"/dancesessions",element:v.jsx(X4,{})}),v.jsx(Kt,{path:"/createsession",element:v.jsx(fU,{})}),v.jsx(Kt,{path:"/session/:sessionId",element:v.jsx($V,{})}),v.jsx(Kt,{path:"/ablock",element:v.jsx(S5,{})})," "]})})})}Kd.createRoot(document.getElementById("root")).render(v.jsx(Gp.StrictMode,{children:v.jsx(L5,{})}));export{ft as _,fE as g,EM as p,w as r,th as u};
